/*! @twilio/flex-ui.js 1.14.1
The following license applies to all parts of this software except as documented below.

Copyright (c) 2018 Twilio, Inc.
All rights reserved.

 Licensed under the Apache License, Version 2.0 (the “License”);
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an “AS IS” BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.


This software includes react under the following license.

Copyright (c) Facebook, Inc. and its affiliates.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


This software includes redux under the following license.
Copyright (c) 2015-present Dan Abramov

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


This software includes semver under the following license.
Copyright (c) Isaac Z. Schlueter and Contributors

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.


This software includes loglevel under the following license.
Copyright (c) 2013 Tim Perry

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


This software includes hoist-non-react-statics under the following license.

Software License Agreement (BSD License)
========================================

Copyright (c) 2015, Yahoo! Inc. All rights reserved.
----------------------------------------------------

Redistribution and use of this software in source and binary forms, with or
without modification, are permitted provided that the following conditions are
met:

  * Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
  * Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
  * Neither the name of Yahoo! Inc. nor the names of YUI's contributors may be
    used to endorse or promote products derived from this software without
    specific prior written permission of Yahoo! Inc.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Flex=t():(e.Twilio=e.Twilio||{},e.Twilio.Flex=t())}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=195)}([function(e,t){e.exports=require("@twilio/frame-ui")},function(e,t){e.exports=require("react")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(28);t.default=r.default,t.withTheme=function(e){return o.withTheme(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),o=n(91),i=n(29),a=n(213),s=function(e){return e.flex},c=function(){function e(){}return e.init=function(t,n){void 0===n&&(n=s),e.stateCallback=n,e.store=t},Object.defineProperty(e,"state",{get:function(){if(!e.stateCallback)throw new Error("FlexModule not initialized");return e.stateCallback(e.store.getState())},enumerable:!0,configurable:!0}),e.dispatch=function(t){if(!e.store)throw new Error("FlexModule not initialized");return e.store.dispatch(t)},Object.defineProperty(e,"chatClient",{get:function(){return this._chatClient},set:function(e){this._chatClient=e,e&&a.ChatListener.init(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"workerClient",{get:function(){return this._workerClient},set:function(e){this._workerClient=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"insightsClient",{get:function(){return this._insightsClient},set:function(e){this._insightsClient=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"voiceClient",{get:function(){return this._voiceClient},enumerable:!0,configurable:!0}),e.events=new i.FlexEventEmitter,e._voiceClient=o.Device,e}();t.FlexModule=c,t.connect=function(e,t,n,o){return r.connect(function(t,n){return e(c.stateCallback(t),n)},t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.Template=r.Template,t.CompiledTemplate=r.CompiledTemplate;var o=r.templates;t.templates=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(19),i=n(3),a=n(9),s=n(23),c=function(){function e(e){this.task=e}return Object.defineProperty(e.prototype,"lastChatMessage",{get:function(){return console.warn("Warning! Getter 'TaskHelper.lastChatMessage' has been deprecated, please use 'chat.lastMessage' instead!"),this.chat.lastMessage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chat",{get:function(){if(e.isChatBasedTask(this.task)){if(this.chatChannelHelper)return this.chatChannelHelper;var t=o.StateHelper.getChatChannelStateForTask(this.task);if(t)return this.chatChannelHelper=new r.ChatChannelHelper(t),this.chatChannelHelper}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationSinceUpdate",{get:function(){return r.Utils.formatTimeDuration(Math.max(Date.now()-this.task.dateUpdated.getTime(),0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationSinceUpdateShort",{get:function(){return r.Utils.formatTimeDuration(Math.max(Date.now()-(this.task.age+this.task.dateUpdated.getTime()),0),"compact")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jsonString",{get:function(){return JSON.stringify(this.task,void 0,2)},enumerable:!0,configurable:!0}),e.isLiveCall=function(e){return this.isCallTask(e)&&"accepted"===e.status},e.isCallOnHold=function(t){return!(!e.isLiveCall(t)||!e.isMyTask(t))&&(!(e.isRegularConferenceCall(t)||!i.FlexModule.state.phone.connection||!i.FlexModule.state.phone.connection.oldHold)||!!t.conference&&t.conference.participants.some(function(e){return"customer"===e.participantType&&e.onHold}))},e.canKickWorkerParticipant=function(t,n){return e.isLiveCall(t)&&e.isMyTask(t)&&!e.amIOnHold(t)&&!(t.outgoingTransferObject&&"initiated"===t.outgoingTransferObject.status)&&"joined"===n.status},e.canHold=function(t){return e.isLiveCall(t)&&e.isMyTask(t)&&!e.amIOnHold(t)&&!(t.outgoingTransferObject&&"initiated"===t.outgoingTransferObject.status)},e.amIOnHold=function(t){if(!e.isRegularConferenceCall(t))return!1;var n=t.conference.participants.find(function(e){return e.isMyself&&"joined"===e.status});return!!n&&n.onHold},e.canTransfer=function(t){return!(!e.isLiveCall(t)||!e.isMyTask(t))&&(!!e.isRegularConferenceCall(t)&&((!t.outgoingTransferObject||"initiated"!==t.outgoingTransferObject.status)&&!e.amIOnHold(t)))},e.isRegularConferenceCall=function(e){return e.conference&&e.conference.participants.length>0},e.isGroupCall=function(e){return e.conference&&e.conference.participants.length>2},e.isLiveChat=function(e){return this.isChatBasedTask(e)&&"accepted"===e.status},e.isIncomingCall=function(e){return this.isCallTask(e)&&this.isPending(e)},e.isChatBasedTask=function(e){var t=a.TaskChannels.getForTask(e);return!!t&&t.capabilities.has(s.TaskChannelCapability.Chat)},e.isCallTask=function(e){if(!e)return!1;var t=a.TaskChannels.getForTask(e);return!!t&&t.capabilities.has(s.TaskChannelCapability.Call)},e.isVideoCallTask=function(e){var t=a.TaskChannels.getForTask(e);return!!t&&t.capabilities.has(s.TaskChannelCapability.Video)},e.getTaskChatChannelSid=function(e){return(e.attributes.channelSid||"").trim()},e.isPending=function(e){return"pending"===e.status},e.isInWrapupMode=function(e){return"wrapping"===e.status},e.isCompleted=function(e){return"completed"===e.status},e.isMyTask=function(e){return e.workerSid&&e.workerSid===i.FlexModule.workerClient.sid},e.getTaskFromChannelSid=function(t){return Array.from(i.FlexModule.state.worker.tasks.values()).find(function(n){return t===e.getTaskChatChannelSid(n)})},e.getTaskByTaskSid=function(e){return i.FlexModule.state.worker.tasks.get(e)},e.isTaskAccepted=function(t){return e.isCompleted(t)||e.isInWrapupMode(t)||"accepted"===t.status},e}();t.TaskHelper=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(202),o=n(93),i=n(94),a=r.getLogger("twilio-flex-ui");t.default=a,t.log=a;var s=r.getLogger("twilio-frame-ui"),c=new o.LogManager({identifier:"Default Flex Log Manager",spies:[{type:i.PredefinedSpies.Loglevel,target:a,targetAlias:"Flex loglevel",methods:["trace","info","debug","warn","error"],onStart:function(e){e.info("Flex UI logger decorated")}},{type:i.PredefinedSpies.Loglevel,target:s,targetAlias:"Frame loglevel",methods:["trace","info","debug","warn","error"],onStart:function(e){e.info("Frame UI logger decorated")}},{type:i.PredefinedSpies.DOMEvents,target:window,events:["error"]}]});t.logManager=c,c.isReady()&&c.start()},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),s="Action cancelled by before event";t.tryInvokeAction=function(e,t){return r(this,void 0,Promise,function(){var n;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Actions.invokeAction(e,t)];case 1:return[2,r.sent()];case 2:return(n=r.sent())instanceof Error&&n.message===s||a.log.error(n),[2,Promise.reject(n)];case 3:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(214);t.DefaultTaskChannels=i,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(23));var a,s=n(10);t.TaskChannelHelper=s.TaskChannelHelper;var c=function(){function e(){}return e.prototype.getRegistered=function(){return a},e.prototype.getForTask=function(e){var t=a.find(function(t){return t.isApplicable(e)});return t||(o.log.trace("Task channel definition not found for task, using default",e),i.Default)},e.prototype.register=function(e,t){void 0===t&&(t=!0),a.find(function(t){return t===e||t.name===e.name})?o.log.error("Task channel with the same name already registered"):(t&&(e=r.Utils.merge(i.Default,e)),o.log.info("Registering custom task channel",e.name,e),a.unshift(e))},e.prototype.unregister=function(e){var t=a&&a.find(function(t){return t.name===e.name});if(t){o.log.info("Unregistering task channel",t);var n=t._registrationCallbacks;n&&Array.isArray(n)&&n.forEach(function(e){return"function"==typeof e&&e()}),a=a.filter(function(e){return e===t})}else o.log.warn("Task channel does not exist",e)},e}();t.TaskChannels=new c,t.registerDefaultTaskChannels=function(e){i.initDefaultChannels(e),a=[i.Call,i.ChatLine,i.ChatMessenger,i.ChatSms,i.ChatWhatsApp,i.Chat]},t.initAllRegisteredTaskChannels=function(e){o.log.debug("Initializing registered task channels"),a.forEach(function(t){o.log.debug("Initializing task channel",t.name,t),l(t,e),u(t)})};var l=function(e,t){var n=[],r=function(e){if(e)if(t[e]){var n=t[e].Content;if(n)return n;o.log.error("Component doest not have dynamic Content",e)}else o.log.error("Component doest not exist",e);else o.log.error("Invalid target",e)},i=function(t,i){Array.isArray(t)&&t.forEach(function(t){var a=t.component,s=t.target;if(a){var c=r(s);if(c){var l=t.options||{};l.replace=i;var u=l.if;l.if=function(t){return t.task&&e.isApplicable(t.task)&&(!u||u(t))},o.log.debug("Registering custom component. Target="+s+" replace="+i+", channel: "+e.name,e,a),n.push(c.add(a,l))}}else o.log.error("Invalid component",a)})};i(e.addedComponents,!1),i(e.replacedComponents,!0),function(t){Array.isArray(t)&&t.forEach(function(t){var i=t.key,a=t.target;if(i){var s=r(a);if(s){var c=t.options||{},l=c.if;c.if=function(t){return t.task&&e.isApplicable(t.task)&&(!l||l(t))},o.log.debug("Registering component removal. Target="+a+", key: "+i+" channel: "+e.name,e),n.push(s.remove(i,c))}}else o.log.error("Invalid key",i)})}(e.removedComponents),e._registrationCallbacks=n},u=function(e){var t=e.notifications&&e.notifications.override;t&&r.Notifications.addListener("beforeAddNotification",function(n,o){var i=t[n.id];if(void 0!==i){var a=n.context&&n.context.task;a&&e.isApplicable(a)&&(null!==i?"object"==typeof i?r.Utils.mergeInto(n,i):"function"==typeof i&&i.call(null,n,o):o())}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(){}return e.getTemplateForStatus=function(e,t,n){if(!t&&""!==t)throw new Error("No template holder");return"string"==typeof t?t:"function"==typeof t?t(e,n):"pending"===e.status&&t.Pending||"accepted"===e.status&&t.Accepted||"wrapping"===e.status&&t.Wrapping||"completed"===e.status&&t.Completed||"canceled"===e.status&&t.Canceled||"pending"===e.status&&t.Reserved||"accepted"===e.status&&t.Assigned},e.getIcon=function(e,t,n){if(!t)throw new Error("No icon holder");if("string"==typeof t||r.isValidElement(t))return t;if("function"==typeof t)return t(e,n);var o=t;return"wrapping"===e.status&&o.Wrapping||"completed"===e.status&&o.Completed||"canceled"===e.status&&o.Canceled||"pending"===e.status&&o.Pending||"accepted"===e.status&&o.Accepted||"pending"===e.status&&o.Reserved||"accepted"===e.status&&o.Assigned},e.getColor=function(e,t,n){if(!t)throw new Error("No color holder");return"string"==typeof t?t:"function"==typeof t?t(e,n):"pending"===e.status&&t.Pending||"accepted"===e.status&&t.Accepted||"wrapping"===e.status&&t.Wrapping||"completed"===e.status&&t.Completed||"canceled"===e.status&&t.Canceled||"pending"===e.status&&t.Reserved||"accepted"===e.status&&t.Assigned},e}();t.TaskChannelHelper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="{accountSid}",o="https://preview.twilio.com/iam/Accounts/"+r,i="{workspaceSid}",a={flexServiceUrl:"https://preview.twilio.com/Flex",chatOrchestrationServiceUrl:"https://preview.twilio.com/Flex/WebChannels",flexConfigServiceUrl:"https://flex-api.twilio.com/v1/Configuration",flexPublicConfigServiceUrl:"https://flex-api.twilio.com/v1/Configuration/Public",callRecordingCallbackUrl:"https://webhooks.twilio.com/v1/Accounts/{accountSid}/Workspaces/{workspaceSid}/Tasks/{taskSid}/FlexRecordingWebhook",ssoLoginUrl:o+"/authenticate",ssoTokenRefreshUrl:o+"/Tokens/refresh",twilioServiceLoginUrl:"https://www.twilio.com/service-login/flex",twilioTaskQueuesUrl:"https://www.twilio.com/console/taskrouter/workspaces/"+i+"/taskqueues",pluginServiceUrl:"https://flex.twilio.com/plugins",sessionUrl:"https://flex.twilio.com/api/v1/Session"};t.flexPublicConfigServiceUrl=a.flexPublicConfigServiceUrl,t.twilioServiceLoginUrl=a.twilioServiceLoginUrl,t.deprecatedFlexLookupServiceUrl="https://flex.twilio.com/lookup",t.getTwilioTaskQueuesUrl=function(e){return a.twilioTaskQueuesUrl.replace(i,e)},t.getFlexServiceUrl=function(e){return e.flexServiceUrl||a.flexServiceUrl},t.getChatOrchestrationServiceUrl=function(e){return e.chatOrchestrationServiceUrl||a.chatOrchestrationServiceUrl},t.getFlexConfigServiceUrl=function(e){return e.flexConfigServiceUrl||a.flexConfigServiceUrl},t.getCallRecordingCallbackUrl=function(e){return e.call_recording_callback_url||a.callRecordingCallbackUrl},t.getSSOLoginUrl=function(e,t){return(e.loginUrl||a.ssoLoginUrl).replace(r,t)},t.getSSOTokenRefreshUrl=function(e,t){return(e.tokenRefreshUrl||a.ssoTokenRefreshUrl).replace(r,t)},t.getPluginServiceUrl=function(e){var t=e.pluginService;return t&&t.url||a.pluginServiceUrl},t.getPublicConfigServiceUrl=function(e,t){return void 0===t&&(t={}),(t.publicConfigServiceUrl||a.flexPublicConfigServiceUrl)+"?AccountSid="+e},t.getSessionUrl=function(e){return e.sessionUrl||a.sessionUrl}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),c=n(119),l=n(5),u=n(19),p=n(9),f=n(3);t.TaskContext=s.createContext({});var d=function(e,t){var n,r=e.worker.tasks.get(t.taskSid);return l.TaskHelper.isCallTask(r)&&(n=e.conferences.states.get(r.taskSid)),{task:r,conference:n,call:r&&l.TaskHelper.isLiveCall(r)?u.StateHelper.getCurrentPhoneCallState():void 0,chatChannel:r&&l.TaskHelper.isChatBasedTask(r)?e.chat.channels[l.TaskHelper.getTaskChatChannelSid(r)]:void 0}},h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){var e=this.props,n=(e.taskSid,e.children),r=a(e,["taskSid","children"]);return r.channelDefinition=r.task?p.TaskChannels.getForTask(r.task):void 0,s.createElement(t.TaskContext.Provider,{value:r},n)},n=i([f.connect(d)],n)}(s.PureComponent);t.TaskContextSource=h,t.withTaskContext=function(e){var n;return c(((n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return r(i,n),i.prototype.render=function(){var n=this;return s.createElement(t.TaskContext.Consumer,null,function(t){return s.createElement(e,o({},n.props,t))})},i}(s.PureComponent)).displayName="WithTaskContext("+e.displayName+")",n),e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0);t.Notifications=i.Notifications,t.NotificationType=i.NotificationType,t.NotificationEvent=i.NotificationEvent;var a=n(20),s=n(64),c=n(7),l=n(5),u=n(6);t.NotificationIds=r(r({},i.NotificationIds),a),t.registerToNotifications=function(){var e={id:t.NotificationIds.PendingReservationsOnLogout,content:"PendingReservationsOnLogoutNotification",type:i.NotificationType.error};i.Notifications.registerNotification(e);var n={id:t.NotificationIds.PendingReservationsOnActivityStateChange,content:"PendingReservationsOnActivityStateChangeNotification",type:i.NotificationType.error};i.Notifications.registerNotification(n);var r={id:t.NotificationIds.BrowserVoiceDisabled,content:"BrowserVoiceDisabledNotification",type:i.NotificationType.error};i.Notifications.registerNotification(r);var a={id:t.NotificationIds.TransferFailed,content:"TransferFailedNotification",type:i.NotificationType.error};i.Notifications.registerNotification(a);var p={id:t.NotificationIds.TaskCannotBeTransferred,content:"TaskCannotBeTransferredNotification",type:i.NotificationType.error,timeout:5e3};i.Notifications.registerNotification(p);var f={id:t.NotificationIds.MicTaken,content:"MicNotAvailableNotification",type:i.NotificationType.error,timeout:5e3};i.Notifications.registerNotification(f);var d={id:t.NotificationIds.CannotChangeOtherWorkerActivity,content:"CannotChangeOtherWorkerActivity",type:i.NotificationType.error};i.Notifications.registerNotification(d);var h={id:t.NotificationIds.MonitoringFailed,content:"MonitoringFailedNotification",type:i.NotificationType.error};i.Notifications.registerNotification(h);var m={id:t.NotificationIds.MessageSizeExceeded,content:"MessageSizeExceeded",type:i.NotificationType.error};i.Notifications.registerNotification(m),i.Notifications.registerNotification({id:t.NotificationIds.ChatOrchestrationAddToChatChannelFailed,content:"ChatOrchestrationAddToChatChannelFailed",type:i.NotificationType.error}),i.Notifications.registerNotification({id:t.NotificationIds.ChatOrchestrationDeactivateChatChannelFailed,content:"ChatOrchestrationDeactivateChatChannelFailed",type:i.NotificationType.error}),i.Notifications.registerNotification({id:t.NotificationIds.ChatOrchestrationLeaveChatChannelFailed,content:"ChatOrchestrationLeaveChatChannelFailed",type:i.NotificationType.error});var v={id:t.NotificationIds.AudioPlayerDeniedErrorNotificationId,content:"AudioPlayerDeniedError",type:i.NotificationType.error,timeout:0};i.Notifications.registerNotification(v);var g={id:t.NotificationIds.AudioPlayerInvalidMediaErrorNotificationId,content:"AudioPlayerInvalidMediaError",type:i.NotificationType.error,timeout:0};i.Notifications.registerNotification(g);var y={id:t.NotificationIds.AudioPlayerGenericErrorNotificationId,content:"AudioPlayerGenericError",type:i.NotificationType.error,timeout:0};i.Notifications.registerNotification(y);var k={id:t.NotificationIds.FlexUiVersionDeprecated,content:"UiVersionDeprecated",type:i.NotificationType.warning,timeout:0};i.Notifications.registerNotification(k);var C={id:t.NotificationIds.FlexSessionExpired,closeButton:!0,content:"SessionExpired",timeout:0,type:i.NotificationType.warning};i.Notifications.registerNotification(C);var b={id:t.NotificationIds.RequestBrowserNotificationPermissions,closeButton:!0,content:"RequestBrowserNotificationPermissions",timeout:0,type:i.NotificationType.warning,icon:"Bell",onClick:function(e){window.Notification.requestPermission(),i.Notifications.dismissNotificationById(t.NotificationIds.RequestBrowserNotificationPermissions),e.preventDefault()}};i.Notifications.registerNotification(b);var _={id:t.NotificationIds.IncomingTask};i.Notifications.registerNotification(_);var w={id:t.NotificationIds.QueuesStatsStale,content:o.createElement(s.QueueStatsConnectionStatusInfoText,null),type:i.NotificationType.warning,timeout:0};i.Notifications.registerNotification(w),i.Notifications.addListener(i.NotificationEvent.beforeAddNotification,function(e,n){if(e.id===t.NotificationIds.NewChatMessage){if(!e.context)return;var r=e.context.lastMessage;if(!r)return;var o=l.TaskHelper.getTaskFromChannelSid(r.channel.sid);if(!o)return u.log.debug("Task for message chat channel does not exist - not showing notification"),void n();e.context.task=o,e.context.helper=new l.TaskHelper(o)}});var T=i.Notifications.registeredNotifications.get(t.NotificationIds.NewChatMessage);T&&(T.options.browser.onClick=function(e){c.tryInvokeAction("SelectTask",{task:e.context.task})})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=n(0),c=n(66),l=n(102),u=n(3),p=n(25),f=n(67),d=n(71),h=n(233);t.defaultConfiguration=h.default;var m=n(111),v=n(45),g=n(33),y=n(6),k=n(113),C=n(39),b=n(32),_=n(9),w=n(236),T=n(114),O=n(115),P=n(11),S=n(61),x=n(238),j=function(e){return e.flex.chat},E=function(){function e(e,t){this._initialized=!1,this._store=t,this.configureReduxStore(),this.updateConfig(h.default,e)}var t,n;return e.getInstance=function(){return this._instance},e.validateConfig=function(e){"string"==typeof e.colorTheme&&(e.colorTheme={baseName:e.colorTheme})},e.create=function(t,n,r){if("object"!=typeof t&&(t=n,n=r,y.log.warn("Deprecated signature of Manager.create called and will not be supported by the future releases. Please change accordingly. Pass first parameter as configuration object and optionally your own Redux store as second parameter.")),y.log.setLevel(void 0===t.logLevel?"error":t.logLevel),y.log.info("Creating manager. flex-ui version:",b.VERSION,"frame-ui version:",s.VERSION),!n){var o=d.default(t.router);n=f.createDefaultStore({history:o})}return n.getState().flex?v.SSOLoginHandler.create(t.sso).then(function(r){return i=new e(t,n),p.Actions.ssoLogin(r)}).then(function(){return i.fetchConfiguration()}).then(function(e){if(!i.validateServiceVersion())throw new Error("Service version is not compatible");return e}).then(function(n){void 0===n&&(n={}),i.updateConfig(n,t),e._instance=i,T.Wfo.Identity.onPropertyUpdated({name:"accountSid",value:i.serviceConfiguration.account_sid})}).then(function(){return x.fetchFlexFeatures(i)}).then(function(){return m.loadPlugins(O.Flex,i)}).then(function(){return y.log.debug("ready to launch"),i}):Promise.reject(new Error("Invalid Redux store passed. 'flex' key not found in state."));var i},e.prototype.updateConfig=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return s.Utils.merge(e,t)},this.configuration);e.validateConfig(r),this.setStringsFromConfig(r),r.componentProps&&s.Utils.updateDefaultProps(C,r.componentProps),r.notifications&&void 0!==r.notifications.browser&&s.Notifications.toggleNotificationHandler(s.DefaultNotificationHandlerType.Browser,r.notifications.browser),l.Actions.initConfig(r)},Object.defineProperty(e.prototype,"configuration",{get:function(){return u.FlexModule.state.config},set:function(t){e.validateConfig(t),e.validateConfig(h.default),t=s.Utils.merge(h.default,t),this.setStringsFromConfig(t),t.componentProps&&s.Utils.updateDefaultProps(C,t.componentProps),l.Actions.initConfig(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serviceConfiguration",{get:function(){return this._serviceConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){return this._store},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return u.FlexModule.events},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strings",{get:function(){if(!this._strings)throw new Error("Strings not set");return this._strings},set:function(e){this._strings=e,this._initialized&&s.initWithStrings(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){var e=u.FlexModule.state.session.ssoTokenPayload;return{identity:e.identity,roles:e.roles,token:e.token,tokenExpirationDate:new Date(Date.parse(e.expiration))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chatClient",{get:function(){return u.FlexModule.chatClient},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"voiceClient",{get:function(){return u.FlexModule.voiceClient},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerClient",{get:function(){return u.FlexModule.workerClient},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"insightsClient",{get:function(){return u.FlexModule.insightsClient},enumerable:!0,configurable:!0}),e.prototype.loadInitialData=function(){return this._initialized||(s.initWithStrings(this.strings),_.initAllRegisteredTaskChannels(C),S.loadChatChannelsForTasks(),this._initialized=!0),Promise.resolve()},e.prototype.fetchConfiguration=function(){var e=this,t=u.FlexModule.state.session.ssoTokenPayload.token,n=P.getFlexConfigServiceUrl(this.configuration);return a.default.get(n,{auth:{username:"token",password:t},params:{UiVersion:b.VERSION}}).then(function(t){var n=t.data;return e._serviceConfiguration=n,r({sso:{accountSid:n.account_sid},serviceBaseUrl:n.runtime_domain},n.ui_attributes)}).catch(function(e){throw y.log.error("Failed to fetch configuration",e),e})},e.prototype.validateServiceVersion=function(){if(!this._serviceConfiguration)throw new Error("No service configuration");var e=this._serviceConfiguration.ui_attributes;if(!e)throw new Error("No ui_attributes in service configuration");return w.isCompatible(e.version_compatibility,e.version_message)},e.prototype.configureReduxStore=function(){u.FlexModule.init(this._store),s.ChatModule.init(this._store,j)},e.prototype.setStringsFromConfig=function(e){if(this.configuration.language!==e.language){var t=e.language||"default",n=g.languages[t]||g.languages.default;this.strings=n}},o([k.deprecatedSetter("updateConfig"),i("design:type","function"==typeof(t=void 0!==c&&c.Config)?t:Object),i("design:paramtypes",["function"==typeof(n=void 0!==c&&c.Config)?n:Object])],e.prototype,"configuration",null),e}();t.Manager=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(224);t.WORKSPACE_KEY=r.WORKSPACE_KEY,t.initialState=r.initialState,t.reduce=r.reduce,t.Actions=r.Actions;var o=n(225);t.queuesListArraySelector=o.queuesListArraySelector,t.queuesListSelector=o.queuesListSelector,t.workspaceActiveTasksSelector=o.workspaceActiveTasksSelector,t.workspaceLongestQueueSelector=o.workspaceLongestQueueSelector,t.workspaceStatsSelector=o.workspaceStatsSelector,t.workspaceWaitingTasksSelector=o.workspaceWaitingTasksSelector;var i=n(104);t.ADD_QUEUE=i.ADD_QUEUE,t.REMOVE_QUEUE=i.REMOVE_QUEUE,t.SET_QUEUES=i.SET_QUEUES,t.SET_WORKSPACE_STATS=i.SET_WORKSPACE_STATS,t.UPDATE_QUEUE=i.UPDATE_QUEUE,t.ActivityStatistic=i.ActivityStatistic,t.Queue=i.Queue,t.QueuesStateActionTypes=i.QueuesStateActionTypes,t.QueuesStateInterface=i.QueuesStateInterface,t.WorkerQueue=i.WorkerQueue,t.WorkspaceStats=i.WorkspaceStats,t.QueuesFilterFunction=i.QueuesFilterFunction;var a=n(226);t.getAvailableAgentsCount=a.getAvailableAgentsCount,t.getUnavailableAgentsCount=a.getUnavailableAgentsCount,t.getOfflineAgentsCount=a.getOfflineAgentsCount},function(e,t){e.exports=require("emotion")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(3),s=n(24),c=n(6),l=n(5),u=n(13),p=n(42),f=n(242),d=n(72);t.maxWorkersNumberFromInitialLoad=200,function(e){e[e.none=0]="none",e[e.waiting=1]="waiting",e[e.monitoring=2]="monitoring"}(i=t.CallMonitoringStatus||(t.CallMonitoringStatus={}));var h={callMonitoring:{status:i.none},workers:[],stickyWorker:null,isLoadingWorkers:!1};t.ACTION_UPDATE_STATE="SUPERVISOR_UPDATE",t.ACTION_MONITORING_SUCCEEDED="SUPERVISOR_INCOMING_CALL",t.reduce=function(e,n){switch(void 0===e&&(e=h),n.type){case t.ACTION_UPDATE_STATE:var o=n.payload;return r(r({},e),o);case t.ACTION_MONITORING_SUCCEEDED:return e.callMonitoring.status!==i.waiting?e:(o={callMonitoring:r(r({},e.callMonitoring),{status:i.monitoring})},r(r({},e),o));default:return e}};var m=function(){function e(){}return e.dispatchStateUpdate=function(e,n){var o=this;void 0===n&&(n=!0);var i=function(e){o.dispatcher({type:t.ACTION_UPDATE_STATE,payload:e})};n?(this.stateUpdateThrottler&&(clearTimeout(this.stateUpdateThrottler),this.stateUpdateThrottler=null,i(this.pendingStateUpdate),this.pendingStateUpdate=null),i(e)):this.stateUpdateThrottler?this.pendingStateUpdate=r(r({},this.pendingStateUpdate),e):(i(e),this.pendingStateUpdate={},this.stateUpdateThrottler=window.setTimeout(function(){clearTimeout(o.stateUpdateThrottler),i(o.pendingStateUpdate),o.stateUpdateThrottler=null,o.pendingStateUpdate=null},500))},Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||a.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.assignInsights=function(e){this.dispatchStateUpdate({listener:new v(e)})},e.monitorCall=function(e){var n=this;return new Promise(function(r,o){if(n.callMonitoringStart)throw o(new Error("Monitoring starting already"));var c=setTimeout(function(){var t=a.FlexModule.state.supervisor.callMonitoring;t.status===i.waiting&&t.taskSid===e.taskSid&&(n.callMonitoringStart.conferenceListener&&n.callMonitoringStart.conferenceListener.stop(),n.callMonitoringStart=void 0,n.dispatchStateUpdate({callMonitoring:{taskSid:e.taskSid,status:i.none}}),u.Notifications.showNotification(u.NotificationIds.MonitoringFailed)),o(new Error("Failed to start monitoring"))},1e4),l=function(e){if("conf_state"===e.key)return!1;var t=new s.ConferenceParticipant(e.value);return"supervisor"===t.participantType&&t.isMyself},p=new s.ConferenceListener(e.taskSid,function(a){var c=a.children.filter(l),u=c.some(function(e){return"joined"===new s.ConferenceParticipant(e.value).status});!u&&c.length>n.callMonitoringStart.startingCountOfMyselvesAsSupervisor&&(a.stop(),n.callMonitoringStart=void 0,n.dispatchStateUpdate({callMonitoring:{taskSid:e.taskSid,status:i.none}}),o(new Error("Monitoring stopped"))),u&&n.callMonitoringStart.timer&&(clearTimeout(n.callMonitoringStart.timer),n.dispatchStateUpdate({},!0),n.dispatcher({type:t.ACTION_MONITORING_SUCCEEDED,payload:{}}),r())}),f=e.conference.source.children.filter(l);n.callMonitoringStart={conferenceListener:p,timer:c,startingCountOfMyselvesAsSupervisor:f.length},n.dispatchStateUpdate({callMonitoring:{taskSid:e.taskSid,status:i.waiting}})})},e.manageConferenceListening=function(e,t){var n=this;this.listenedConferences||(this.listenedConferences=new Set);var r=o(e);t&&e&&r.push(t);var i=[];r.forEach(function(e){e.tasks.forEach(function(e){l.TaskHelper.isLiveCall(e)&&i.push(e)})}),this.listenedConferences.forEach(function(e){i.find(function(t){return t.taskSid===e})||(s.ConferenceListenerManager.stopListening(e,"supervisor"),n.listenedConferences.delete(e))}),i.forEach(function(e){n.listenedConferences.has(e.taskSid)||(s.ConferenceListenerManager.startListening(e,"supervisor"),n.listenedConferences.add(e.taskSid))})},e.updateStateWorkers=function(e){this.manageConferenceListening(e,a.FlexModule.state.supervisor.stickyWorker),this.dispatchStateUpdate({workers:e,isLoadingWorkers:!1},!1)},e.startLoadingWorkers=function(){this.dispatchStateUpdate({isLoadingWorkers:!0},!1)},e.updateStateStickyWorker=function(e){this.manageConferenceListening(a.FlexModule.state.supervisor.workers,e),this.dispatchStateUpdate({stickyWorker:e},!1)},e.setActiveFilterQuery=function(e,t){a.FlexModule.state.supervisor.listener.setActiveFilterQuery(e,t)},e.setStickyWorkerSid=function(e,t){a.FlexModule.state.supervisor.listener.setStickyWorkerSid(e,t)},e.shutdown=function(){c.log.debug("Supervisor state logout"),this.callMonitoringStart&&(clearTimeout(this.callMonitoringStart.timer),this.callMonitoringStart.conferenceListener.stop(),this.callMonitoringStart=void 0),this.listenedConferences&&this.listenedConferences.forEach(function(e){s.ConferenceListenerManager.stopListening(e,"supervisor")});var e=a.FlexModule.state.supervisor.listener;e&&e.unInit()},e}();t.Actions=m;var v=function(){function e(e){var t=this;this.workerListeners=[],this.onWorkerTasksChanged=function(e){t.updateCurrentWorkers()},this.insightsClient=e}return e.prototype.setActiveFilterQuery=function(e,t){this.activeFilterQuery=e,this.taskFilter=t,this.initInsights()},e.prototype.setStickyWorkerSid=function(e,t){e===this.stickyWorkerSid&&t===this.stickyTaskSid||(this.stickyWorkerSid=e,this.stickyTaskSid=t,e?this.initStickyWorker():(m.updateStateStickyWorker(null),this.unInitStickyWorker()))},e.prototype.initInsights=function(){var e=this;this.unInit();var t=this.activeFilterQuery||"";m.startLoadingWorkers(),this.insightsClient.liveQuery("tr-worker",t).then(function(t){e.workersLiveQuery=t,e.loadInitialWorkers(t.getItems()),t.on("itemUpdated",function(t){e.onWorkerItemUpdated(t)}),t.on("itemRemoved",function(t){e.onWorkerItemRemoved(t)})})},e.prototype.unInit=function(){this.workersLiveQuery&&(this.workersLiveQuery.removeAllListeners(),this.workersLiveQuery.close())},e.prototype.updateCurrentWorkers=function(){var e=this.workerListeners.map(function(e){return e.state});m.updateStateWorkers(e)},e.prototype.loadInitialWorkers=function(e){var t=this,n=Object.keys(e).map(function(t){return new p.InsightsWorker(e[t])});this.workerListeners.filter(function(e){return!n.find(function(t){return t.sid===e.state.worker.sid})}).forEach(function(e){e.unInit()}),this.workerListeners=this.workerListeners.filter(function(e){return n.find(function(t){return t.sid===e.state.worker.sid})}),n.forEach(function(e){var n=t.workerListeners.findIndex(function(t){return t.state.worker.sid===e.sid});if(n>-1)t.workerListeners[n].updateWorker(e);else{var r=new f.WorkerListener(e,t.insightsClient,t.onWorkerTasksChanged,t.taskFilter);t.workerListeners.push(r)}}),this.updateCurrentWorkers()},e.prototype.onWorkerItemUpdated=function(e){var n=new p.InsightsWorker(e.value),r=this.workerListeners.findIndex(function(e){return e.state.worker.sid===n.sid});if(r>=0)this.workerListeners[r].updateWorker(n);else{if(!(this.workerListeners.length<t.maxWorkersNumberFromInitialLoad))return;var o=new f.WorkerListener(n,this.insightsClient,this.onWorkerTasksChanged,this.taskFilter);this.workerListeners.push(o)}this.stickyWorker&&n.sid===this.stickyWorker.state.worker.sid&&(this.stickyWorker.state.worker=n),this.updateCurrentWorkers()},e.prototype.onWorkerItemRemoved=function(e){var t=this.workerListeners.findIndex(function(t){return t.state.worker.sid===e.key});t<0||(this.workerListeners[t].unInit(),this.workerListeners.splice(t,1),this.updateCurrentWorkers())},e.prototype.initStickyWorker=function(){var e=this;this.unInitStickyWorker();var t=d.v4();this.lastStickyWorkerQueryUUID=t,this.insightsClient.liveQuery("tr-worker",'data.worker_sid == "'+this.stickyWorkerSid+'"').then(function(n){e.lastStickyWorkerQueryUUID===t&&(e.stickyWorkerLiveQuery=n,e.loadInitialStickyWorker(n.getItems()),n.on("itemUpdated",function(t){e.onStickyWorkerUpdate(t)}),n.on("itemRemoved",function(){e.onStickyWorkerRemoved()}))})},e.prototype.unInitStickyWorker=function(){this.lastStickyWorkerQueryUUID="",this.stickyWorkerLiveQuery&&(this.stickyWorkerLiveQuery.removeAllListeners(),this.stickyWorkerLiveQuery.close()),this.stickyWorker&&(this.stickyWorker.unInit(),this.stickyWorker=null)},e.prototype.loadInitialStickyWorker=function(e){var t=this,n=Object.keys(e)[0];if(!n&&this.stickyWorker&&(this.stickyWorker.unInit(),this.stickyWorker=null),n){var r=new p.InsightsWorker(e[n]),o=this.taskFilter;this.stickyTaskSid&&(o=o?this.taskFilter+' OR data.reservation_sid=="'+this.stickyTaskSid+'"':'data.reservation_sid=="'+this.stickyTaskSid+'"'),this.stickyWorker=r&&new f.WorkerListener(r,this.insightsClient,function(){return m.updateStateStickyWorker(t.stickyWorker.state)},o)}m.updateStateStickyWorker(this.stickyWorker?this.stickyWorker.state:null)},e.prototype.onStickyWorkerUpdate=function(e){var t=new p.InsightsWorker(e.value);m.updateStateStickyWorker(r(r({},this.stickyWorker.state),{worker:t}))},e.prototype.onStickyWorkerRemoved=function(){this.stickyWorker&&this.stickyWorker.unInit(),this.stickyWorker=null,m.updateStateStickyWorker(null)},e}()},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(5),i=function(){function e(){}return e.getCurrentPhoneCallState=function(){return r.FlexModule.state.phone.connection},e.getChatChannelStateForTask=function(e){var t=o.TaskHelper.getTaskChatChannelSid(e);if(t)return r.FlexModule.state.chat.channels[t]},e.getReservation=function(e){var t=r.FlexModule.state.worker.tasks.get(e);return t?t.sourceObject:void 0},e.getTaskByTaskrouterTaskSid=function(e){return Array.from(r.FlexModule.state.worker.tasks.values()).find(function(t){return t.taskSid===e})},e}();t.StateHelper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PendingReservationsOnLogout="PendingReservationsOnLogout",t.PendingReservationsOnActivityStateChange="PendingReservationsOnActivityStateChange",t.TransferFailed="TransferFailed",t.TaskCannotBeTransferred="TaskCannotBeTransferred",t.BrowserVoiceDisabled="BrowserVoiceDisabled",t.MicTaken="MicTaken",t.MessageSizeExceeded="MessageSizeExceeded",t.CannotChangeOtherWorkerActivity="CannotChangeOtherWorkerActivity",t.MonitoringFailed="MonitoringFailed",t.ChatOrchestrationAddToChatChannelFailed="ChatOrchestrationAddToChatChannelFailed",t.ChatOrchestrationDeactivateChatChannelFailed="ChatOrchestrationDeactivateChatChannelFailed",t.ChatOrchestrationLeaveChatChannelFailed="ChatOrchestrationLeaveChatChannelFailed",t.AudioPlayerDeniedErrorNotificationId="AudioPlayerDeniedError",t.AudioPlayerInvalidMediaErrorNotificationId="AudioPlayerInvalidMediaError",t.AudioPlayerGenericErrorNotificationId="AudioPlayerGenericError",t.QueuesStatsStale="QueuesStatsStale",t.FlexUiVersionDeprecated="FlexUiVersionDeprecated",t.FlexSessionExpired="FLEX_SESSION_EXPIRED",t.RequestBrowserNotificationPermissions="RequestBrowserNotificationPermissions",t.IncomingTask="IncomingTask"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.accountSid="accountSid",e.sso="sso"}(t.ConfigErrorKeys||(t.ConfigErrorKeys={}));var o=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Invalid or missing configuration: "+n+" is required")||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.ConfigError=o,function(e){e.accountSid="accountSid",e.sso="sso",e.untrustedDomain="untrustedDomain",e.invalidCertificate="invalidCertificate"}(t.ValidationErrorKeys||(t.ValidationErrorKeys={}));var i=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Validation error: invalid "+n)||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.ValidationError=i,function(e){e.windowClosed="windowClosed",e.popupBlocked="popupBlocked",e.noWindowOpener="noWindowOpener",e.redirecting="redirecting"}(t.BrowserErrorKeys||(t.BrowserErrorKeys={}));var a=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Browser error: "+n)||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.BrowserError=a;var s=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;return o=n.length?e.apply(this,n)||this:e.call(this,"Internal error")||this,Object.setPrototypeOf(o,t.prototype),o}return r(t,e),t}(Error);t.InternalError=s,function(e){e.loginWindowOpenedFromLoginWindow="loginWindowOpenedFromLoginWindow",e.metaNoReferrerMissing="metaNoReferrerMissing"}(t.ClientErrorKeys||(t.ClientErrorKeys={}));var c=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Client error: "+n)||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.ClientError=c},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14);t.ContactCenterManager=o.Manager;var i=n(93);t.Log=i,r(n(14)),r(n(52)),r(n(37));var a=n(21);t.ConfigError=a.ConfigError,t.ConfigErrorKeys=a.ConfigErrorKeys;var s=n(111);t.Plugins=s.Plugins},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Info="Info",e.Call="Call",e.Chat="Chat",e.Video="Video",e.Wrapup="Wrapup"}(t.TaskChannelCapability||(t.TaskChannelCapability={})),function(e){e.Wrapping="Wrapping",e.Completed="Completed",e.Canceled="Canceled",e.Pending="Pending",e.Accepted="Accepted",e.Rescinded="Rescinded",e.Reserved="Reserved",e.Assigned="Assigned"}(t.ReservationStatuses||(t.ReservationStatuses={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(6),c=n(5),l=n(19),u=n(41),p=n(62),f=n(241),d=function(){function e(e,t,n){e&&(this._source=e,this._callSid=t,this.participantLeftTimestamp=n)}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worker",{get:function(){return u.InsightsEntityCache.getWorker(this.workerSid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queue",{get:function(){return u.InsightsEntityCache.getQueue(this.workerSid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onHold",{get:function(){return this._source&&this._source.hold},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._source&&this._source.muted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connecting",{get:function(){return this._source&&this._source.connecting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"participantType",{get:function(){return this._source&&this._source.participant_type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reservationSid",{get:function(){return this._source&&this._source.reservation_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerSid",{get:function(){return this._source&&this._source.worker_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.participantLeftTimestamp?"recently_left":this._source&&this._source.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueId",{get:function(){var e=this.callSid||"";return""+this.workerSid+this.participantType+e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return s.log.warn("Participant.sid is deprecated, use uniqueId instead!"),this.uniqueId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMyself",{get:function(){return this._source.worker_sid===a.FlexModule.state.worker.worker.sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callSid",{get:function(){return this._callSid},enumerable:!0,configurable:!0}),e}();t.ConferenceParticipant=d;var h=function(){function e(e){this.participants=[],this.sid=e}return Object.defineProperty(e.prototype,"liveParticipantCount",{get:function(){return this.participants.filter(function(e){return"joined"===e.status&&"transfer"!==e.participantType}).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveWorkerCount",{get:function(){return this.liveWorkers.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveWorkers",{get:function(){return this.participants.filter(function(e){return"joined"===e.status&&"worker"===e.participantType})},enumerable:!0,configurable:!0}),e}();t.Conference=h;var m="CONFERENCE_INIT",v="CONFERENCE_MULTIPLE_UPDATE",g={client:void 0,states:new Map};t.reduce=function(e,t){switch(void 0===e&&(e=g),t.type){case m:return r(r({},g),t.payload);case v:var n=t.payload,o=new Map(e.states);return n.conferences.forEach(function(e){o.set(e.sid,{source:e})}),r(r({},e),{states:o});default:return e}};var y,k=function(){function e(){}return e.dispatchAction=function(e,t){a.FlexModule.dispatch({type:e,payload:t})},e.assignInsights=function(e){this.dispatchAction(m,{client:e}),b.initialize()},e.handleConferenceUpdateImpl=function(){if(s.log.debug("ConferencesState handleConferenceUpdateImpl "+this.handleConferenceUpdateCalls.size),0!==this.handleConferenceUpdateCalls.size){var e=new Set;this.handleConferenceUpdateCalls.forEach(function(t){if(s.log.debug("ConferencesState handleConferenceUpdateImpl "+t.sid),0!==t.children.length){var n=t.sid,r=new h(n);if(t.children.forEach(function(e){if("conf_status"===e.key){var t=e.value;r.status=t.status,r.conferenceSid=t.conference_sid}else{var n=new d(e.value,e.key);"supervisor"!==n.participantType&&r.participants.push(n)}}),s.log.debug("ConferencesState handleConferenceUpdateImpl raw participants: "+r.participants.length),t.outboundTransfer&&"initialized"!==t.outboundTransfer.status){s.log.debug("ConferencesState handleConferenceUpdateImpl adding fake outbound participant");var o={worker_sid:t.outboundTransfer.sid,status:t.outboundTransfer.status,participant_type:"transfer",connecting:"recently_left"!==t.outboundTransfer.status},i=new d(o);r.participants.push(i)}var c=[];r.participants.forEach(function(e){"left"!==e.status?c.push(e):c.find(function(t){return t.uniqueId===e.uniqueId})||r.participants.find(function(t){return t.uniqueId===e.uniqueId&&"left"!==t.status})||c.push(e)}),r.participants=c,s.log.debug("ConferencesState handleConferenceUpdateImpl filtered participants: "+r.participants.length);var l=a.FlexModule.state.conferences.states.get(n);l&&(r.participants=r.participants.map(function(e){if("left"===e.status){var n=l.source.participants.find(function(t){return t.uniqueId===e.uniqueId});if(n&&"joined"===n.status)return t.triggerDelayedStateUpdate(5e3),new d(e.source,e.callSid,(new Date).getTime());if(n&&n.participantLeftTimestamp&&(new Date).getTime()-n.participantLeftTimestamp<5e3)return n}return e})),s.log.debug("ConferencesState handleConferenceUpdateImpl final participants: "+r.participants.length);var p=r.participants.map(function(e){return e.workerSid});u.InsightsEntityCache.refreshInfoForEntities(p),r.source=t,e.add(r)}}),this.dispatchAction(v,{conferences:e}),e.forEach(function(e){var t=Array.from(a.FlexModule.state.worker.tasks.values()).find(function(t){return t.taskSid===e.sid&&c.TaskHelper.isLiveCall(t)});t&&p.Actions.updateEndConferenceOnExitForTask(t)})}},e.handleConferenceUpdate=function(e){var t=this;if(s.log.debug("ConferencesState handleConferenceUpdate "+e.sid),e){if(this.handleConferenceUpdateThrottler)return void this.handleConferenceUpdateCalls.add(e);this.handleConferenceUpdateCalls=new Set,this.handleConferenceUpdateCalls.add(e),this.handleConferenceUpdateImpl(),this.handleConferenceUpdateCalls=new Set,this.handleConferenceUpdateThrottler=setTimeout(function(){t.handleConferenceUpdateImpl(),clearTimeout(t.handleConferenceUpdateThrottler),t.handleConferenceUpdateThrottler=null},500)}},e.updateConferencesWithParticipant=function(e){var t=[];a.FlexModule.state.conferences.states.forEach(function(n,r){n.source.participants.find(function(t){return t.workerSid===e})&&t.push(n.source)}),t.length>0&&this.dispatchAction(v,{conferences:t})},e.shutdown=function(){this.dispatchAction(m,{})},e}();t.Actions=k,function(e){e.initializing="initializing",e.initialized="initialized",e.destroying="destroying"}(y||(y={}));var C=function(){function e(e,t){var n=this;this.stateUpdateTimers=[],this.updateOutboundTransfer=function(e){if(n.outboundTransfer){switch(e.status){case"complete":case"canceled":n.stopOutgoingTransferListeners(),n.outboundTransfer=void 0;break;case"failed":n.failedTransferRemoveTimer=window.setTimeout(function(){n.updateOutboundTransfer({status:"complete"}),n.failedTransferRemoveTimer=0},5e3),n.outboundTransfer.status="recently_left"}n.emitCallback()}},this.itemAdded=function(e){s.log.debug("ConferenceListener itemAdded "+n.children.length),n.children.push(e.item),n.emitCallback()},this.itemUpdated=function(e){s.log.debug("ConferenceListener itemUpdated "+n.children.length),n.emitCallback()},this.itemRemoved=function(e){s.log.debug("ConferenceListener itemRemoved "+n.children.length),n.children.splice(n.children.indexOf(e.item),1),n.emitCallback()},this.lifeCycle=y.initializing,this.sid=e,this.updateCallback=t,this.initialize(e)}return e.prototype.triggerDelayedStateUpdate=function(e){var t=this;this.stateUpdateTimers.push(setTimeout(function(){t.emitCallback()},e))},e.prototype.stop=function(){s.log.debug("ConferenceListener stop "+this.sid),this.lifeCycle===y.initialized?(this.map.removeListener("itemAdded",this.itemAdded),this.map.removeListener("itemUpdated",this.itemUpdated),this.map.removeListener("itemRemoved",this.itemRemoved),this.map.close(),this.failedTransferRemoveTimer&&window.clearTimeout(this.failedTransferRemoveTimer),this.stateUpdateTimers.forEach(function(e){return clearTimeout(e)})):(this.lifeCycle=y.destroying,s.log.debug("ConferenceListener canceling initialization"))},e.prototype.initOutgoingTransferListeners=function(){this.outboundTransfer.source.addListener("attemptFailed",this.updateOutboundTransfer),this.outboundTransfer.source.addListener("completed",this.updateOutboundTransfer),this.outboundTransfer.source.addListener("failed",this.updateOutboundTransfer),this.outboundTransfer.source.addListener("canceled",this.updateOutboundTransfer)},e.prototype.stopOutgoingTransferListeners=function(){this.outboundTransfer.source.removeListener("attemptFailed",this.updateOutboundTransfer),this.outboundTransfer.source.removeListener("completed",this.updateOutboundTransfer),this.outboundTransfer.source.removeListener("failed",this.updateOutboundTransfer),this.outboundTransfer.source.removeListener("canceled",this.updateOutboundTransfer)},e.prototype.initOutboundTransfer=function(e){this.outboundTransfer={sid:e.to,status:"joined",source:e},this.initOutgoingTransferListeners(),this.emitCallback()},e.prototype.initialize=function(t){return o(this,void 0,void 0,function(){var n,r;return i(this,function(o){switch(o.label){case 0:return s.log.debug("ConferenceListener initialize "+t+" started. "+e.mapQuerySemaphore.nrWaiting()+" waiting on lock"),[4,e.mapQuerySemaphore.acquire()];case 1:o.sent(),s.log.debug("Lock aquired for "+t+"."),o.label=2;case 2:return o.trys.push([2,,5,6]),n=this,[4,a.FlexModule.insightsClient.map({id:t+".CS",mode:"open_existing"})];case 3:return n.map=o.sent(),[4,this.map.getItems()];case 4:return r=o.sent(),this.children=r.items,this.map.on("itemAdded",this.itemAdded),this.map.on("itemUpdated",this.itemUpdated),this.map.on("itemRemoved",this.itemRemoved),[3,6];case 5:return e.mapQuerySemaphore.release(),s.log.debug("Lock released for "+t+"."),[7];case 6:return this.lifeCycle===y.destroying?(s.log.debug("ConferenceListener initialize "+t+" canceled"),this.lifeCycle=y.initialized,this.stop(),[2]):(this.lifeCycle=y.initialized,s.log.debug("ConferenceListener initialize "+t+" finished"),this.emitCallback(),[2])}})})},e.prototype.emitCallback=function(){this.updateCallback&&this.updateCallback(this)},e.mapQuerySemaphore=new f.Sema(20),e}();t.ConferenceListener=C;var b=function(){function e(){}return e.initialize=function(){var e=this;s.log.debug("ConferenceListenerManager initialize"),this.initialized=!0,this.confs=new Map,this.requestedSids.forEach(function(t,n){e.startListening(l.StateHelper.getTaskByTaskrouterTaskSid(n),t)})},e.startListening=function(e,t){if(s.log.debug("ConferenceListenerManager startListening "+e.taskSid+" "+t),e&&c.TaskHelper.isCallTask(e))if(this.initialized){e.incomingTransferObject&&u.InsightsEntityCache.refreshInfoForEntities([e.incomingTransferObject.workerSid,e.incomingTransferObject.to]),e.outgoingTransferObject&&u.InsightsEntityCache.refreshInfoForEntities([e.outgoingTransferObject.workerSid,e.outgoingTransferObject.to]);var n=this.confs.get(e.taskSid);if(n)-1===n.consumers.indexOf(t)&&(s.log.debug("ConferenceListenerManager new Consumer"),n.consumers.push(t));else{s.log.debug("ConferenceListenerManager new Listener");var r=new C(e.taskSid,k.handleConferenceUpdate.bind(k));this.confs.set(e.taskSid,{listener:r,consumers:[t]})}}else this.requestedSids.set(e.taskSid,t)},e.stopListening=function(e,t){s.log.debug("ConferenceListenerManager stopListening "+e+" "+t);var n=this.confs.get(e);if(n){var r=n.consumers.indexOf(t);r>-1&&n.consumers.splice(r,1),0===n.consumers.length&&(n.listener.stop(),this.confs.delete(e))}},e.initOutboundTransfer=function(e){var t=e.taskSid,n=e.to;s.log.debug("ConferenceListenerManager initOutboundTransfer "+t+" "+n);var r=this.confs.get(t);r&&r.listener.initOutboundTransfer(e)},e.requestedSids=new Map,e.initialized=!1,e}();t.ConferenceListenerManager=b},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(221),c=n(222),l=n(0),u=n(3),p=n(6),f=n(20),d=n(62),h=n(17),m=n(65),v=n(101),g=n(24),y=n(223),k=n(14),C=n(106);!function(e){e.Unknown="UNKNOWN",e.LoggingIn="LOGGING_IN",e.LoggedIn="LOGGED_IN",e.LoggedOut="LOGGED_OUT",e.Error="ERROR"}(a=t.LoginState||(t.LoginState={}));var b={identity:void 0,loginHandler:void 0,loginState:a.Unknown,loginError:void 0,ssoTokenPayload:void 0},_="FLEX_ACTION_LOGIN";t.ACTION_LOGGED_OUT="FLEX_ACTION_LOGGED_OUT";var w="FLEX_ACTION_TOKEN_UPDATED";t.reduce=function(e,n){switch(void 0===e&&(e=b),n.type){case _+"_PENDING":return r(r({},e),{loginState:a.LoggingIn,loginError:void 0});case _+"_REJECTED":return r(r({},e),{loginState:a.Error,loginError:n.payload});case _+"_FULFILLED":var o=!!(s=n.payload.loginHandler)&&s.getTokenInfo(),i=o?r(r({},n.payload),{identity:o.identity,ssoTokenPayload:o}):n.payload;return r(r(r({},e),i),{loginState:a.LoggedIn,loginError:void 0});case w:var s=n.payload.loginHandler;return r(r({},e),{ssoTokenPayload:s.getTokenInfo()});case t.ACTION_LOGGED_OUT:return r(r({},b),{loginState:a.LoggedOut});default:return e}};var T=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||u.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.init=function(){this.dispatcher({type:"FLEX_SESSION_INIT"})},e.ssoLogin=function(e){var t=e.getTokenInfo();e.on("tokenUpdated",this.handleTokenUpdated),e.on("tokenExpired",this.handleTokenExpired);var n=this.initClients(t).then(function(){return{loginHandler:e}});return this.dispatcher({type:_,payload:n}),n.then(function(){u.FlexModule.events.emitUserLoggedIn()})},e.handleTokenExpired=function(){u.FlexModule.events.emitTokenExpired(),p.log.trace("Token expired, showing notification"),l.Notifications.showNotification(f.FlexSessionExpired)},e.initClients=function(e){var t=e&&e.token,n=new y.Supervisor(t,u.FlexModule.state.config.sdkOptions.worker);u.FlexModule.workerClient=n;var r=new Promise(function(e){n.addListener("ready",function(){p.log.debug("Worker "+n.sid+" is now ready for work"),d.Actions.init(n),e()}),n.addListener("disconnected",function(){p.log.debug("Worker "+n.sid+" disconnected")})});u.FlexModule.state.config.disableBrowserVoice||m.Actions.init(t,u.FlexModule.state.config.sdkOptions.voice);var o=s.Client.create(t,u.FlexModule.state.config.sdkOptions.chat).then(function(e){r.then(function(){var t=n.attributes.public_identity||n.attributes.full_name;t&&e.user.updateFriendlyName(t)}),u.FlexModule.chatClient=e,l.ChatSessionState.Actions.init(e)}).catch(function(e){throw p.log.error("Failed to init Twilio Chat client",e),e}),i=new Promise(function(e,n){try{var r=l.Utils.merge(u.FlexModule.state.config.sdkOptions.insights,{}),o=new c.SyncClient(t,r),i=setTimeout(function(){n(new Error("Unable to initialize insights client in 10000 ms"))},1e4);p.log.debug("Insights Client initial connection state: "+o.connectionState);var a=function(t){p.log.debug("Insights Client new state: "+t),"connected"===t&&(u.FlexModule.insightsClient=o,v.Actions.init(o),h.Actions.assignInsights(o),g.Actions.assignInsights(o),o.removeListener("connectionStateChanged",a),C.ConnectionStatusState.init(),clearTimeout(i),e())};o.on("connectionStateChanged",a)}catch(e){p.log.error("Failed to init insights client",e)}});return Promise.all([r,o,i])},e.logout=function(e){return o(this,void 0,Promise,function(){var n,r,o,a;return i(this,function(i){switch(i.label){case 0:n=k.Manager.getInstance().serviceConfiguration.taskrouter_offline_activity_sid,p.log.info("Session state logout"),null!=e.activitySid?r=d.Actions.setCurrentActivity(e.activitySid):Object.prototype.hasOwnProperty.call(e,"activityName")?(p.log.warn('Logout payload member "activityName" is deprecated. Please, consider using activitySid instead'),r=d.Actions.setCurrentActivityByName(e.activityName)):r=null!=n?d.Actions.setCurrentActivity(n):Promise.resolve(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r];case 2:return i.sent(),[3,4];case 3:if(o=i.sent(),p.log.warn("Unable to make worker offline"),!e.forceLogout)throw o;return[3,4];case 4:return(a=u.FlexModule.state.session.loginHandler)&&(a.removeListener("tokenUpdated",this.handleTokenUpdated),a.removeListener("tokenExpired",this.handleTokenExpired),a.logout()),d.Actions.shutdown(),u.FlexModule.state.config.disableBrowserVoice||m.Actions.shutdown(),l.ChatSessionState.Actions.shutdown(),v.Actions.shutdown(),h.Actions.shutdown(),g.Actions.shutdown(),u.FlexModule.workerClient=void 0,u.FlexModule.chatClient=void 0,u.FlexModule.insightsClient=void 0,this.dispatcher({type:t.ACTION_LOGGED_OUT}),[2]}})})},e.handleTokenUpdated=function(t){e.dispatcher({type:w,payload:{loginHandler:t}});var n=u.FlexModule.workerClient,r=u.FlexModule.chatClient,o=u.FlexModule.voiceClient,i=u.FlexModule.insightsClient,a=t.getTokenInfo(),s=a&&a.token;p.log.debug("token updated",a),n&&(p.log.debug("Updating worker client token"),n.updateToken(s)),r&&(p.log.debug("Updating chat client token"),r.updateToken(s)),!u.FlexModule.state.config.disableBrowserVoice&&o&&(p.log.debug("Updating voice client token"),o.setup(s,u.FlexModule.state.config.sdkOptions.voice)),i&&(p.log.debug("Updating insights client token"),i.updateToken(s)),u.FlexModule.events.emitTokenUpdated(a)},e}();t.Actions=T},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(43),s=n(3);!function(e){e.IN="IN",e.NOT_IN="NOT_IN",e.CONTAINS="CONTAINS"}(t.FilterConditions||(t.FilterConditions={}));var c=function(){function e(e,t){this.filters=[],this.filters=e,this.type=t}return Object.defineProperty(e.prototype,"query",{get:function(){return this.filters.reduce(function(e,t){var n=t.values;if(Array.isArray(n)){if(0===n.length)return e;n='["'+n.join('", "')+'"]'}else"string"==typeof n&&(n='"'+n+'"');return(e?e+" AND":"")+" "+t.name+" "+t.condition+" "+n},"").trim()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.filters.reduce(function(e,t){var n=t.values;return Array.isArray(n)?e+n.length:"string"==typeof n?e+1:e},0)},enumerable:!0,configurable:!0}),e}();t.ActiveFilters=c;var l={isSideNavOpen:!1,isDirectoryOpen:!1,componentViewStates:{},filters:{}};t.ACTION_TOGGLE_SIDEBAR="VIEW_TOGGLE_SIDEBAR",t.ACTION_UPDATE_VIEW="VIEW_UPDATE",t.ACTION_UPDATE_FILTER="VIEW_UPDATE_FILTER",t.ACTION_DELETE_FILTER="VIEW_DELETE_FILTER",t.ACTION_SET_COMPONENT_STATE="VIEW_SET_COMPONENT_STATE",t.ACTION_DELETE_COMPONENT_STATE="VIEW_DELETE_COMPONENT_STATE",t.reduce=function(e,n){var o;switch(void 0===e&&(e=l),n.type){case t.ACTION_TOGGLE_SIDEBAR:return r(r({},e),{isSideNavOpen:!e.isSideNavOpen});case t.ACTION_UPDATE_VIEW:var i=n.payload;return r(r({},e),i);case t.ACTION_SET_COMPONENT_STATE:var a=n.payload;return e.componentViewStates[a.name]=r(r({},e.componentViewStates[a.name]),a.state),r({},e);case t.ACTION_DELETE_COMPONENT_STATE:return delete e.componentViewStates[n.payload.name],r({},e);case t.ACTION_UPDATE_FILTER:var s=r(r({},e.filters),((o={})[n.payload.key]=new c(n.payload.filters,n.payload.key),o));return r(r({},e),{filters:s});case t.ACTION_DELETE_FILTER:var u=r({},e);return delete u.filters[n.payload.key],u;default:return e}};var u=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||s.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.setComponentState=function(e,n){this.dispatcher({type:t.ACTION_SET_COMPONENT_STATE,payload:{name:e,state:n}})},e.deleteComponentState=function(e){this.dispatcher({type:t.ACTION_DELETE_COMPONENT_STATE,payload:{name:e}})},e.toggleSidebar=function(){this.dispatcher({type:t.ACTION_TOGGLE_SIDEBAR})},e.hideSidebar=function(){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{isSideNavOpen:!1}})},e.showSidebar=function(){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{isSideNavOpen:!0}})},e.setActiveView=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{activeView:e,isSideNavOpen:!1}}),s.FlexModule.events.emitSelectedViewChanged(e)},e.showDirectory=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{isDirectoryOpen:!0}})},e.hideDirectory=function(){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{isDirectoryOpen:!1}})},e.selectTask=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{selectedTaskSid:e}})},e.selectTaskInSupervisor=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{selectedTaskInSupervisorSid:e}})},e.selectWorkerInSupervisor=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{selectedWorkerInSupervisorSid:e}})},e.push=function(t){return o(this,void 0,void 0,function(){var n;return i(this,function(r){return n=s.FlexModule.state.router.location&&s.FlexModule.state.router.location.pathname,t!==n&&e.dispatcher(a.push.call(this,t)),[2]})})},e.replace=function(t){return o(this,void 0,void 0,function(){return i(this,function(n){return e.dispatcher(a.replace.call(this,t)),[2]})})},e.go=function(t){return o(this,void 0,void 0,function(){return i(this,function(n){return e.dispatcher(a.go.call(this,t)),[2]})})},e.goForward=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return o(this,void 0,void 0,function(){return i(this,function(n){return e.dispatcher(a.goForward.apply(this,t)),[2]})})},e.goBack=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return o(this,void 0,void 0,function(){return i(this,function(n){return e.dispatcher(a.goBack.apply(this,t)),[2]})})},e.applyListFilters=function(e){this.dispatcher({payload:e,type:t.ACTION_UPDATE_FILTER})},e.removeListFilters=function(e){this.dispatcher({payload:e,type:t.ACTION_DELETE_FILTER})},e}();t.Actions=u},function(e,t){e.exports=require("react-emotion")},function(e,t){e.exports=require("emotion-theming")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(92),s=n(6);!function(e){e.flexSplitterResize="flexSplitterResize",e.userLoggedIn="userLoggedIn",e.selectedViewChanged="selectedViewChanged",e.tokenUpdated="tokenUpdated",e.tokenExpired="tokenExpired",e.pluginsLoaded="pluginsLoaded"}(i=t.FlexEvent||(t.FlexEvent={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emitSelectedViewChanged=function(e){t.emit(i.selectedViewChanged,e)},t}return r(t,e),t.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return s.log.debug("Flex event emitter:",t,n),e.prototype.emit.apply(this,o([t],n))},t.prototype.emitSplitterResize=function(){this.emit(i.flexSplitterResize)},t.prototype.emitUserLoggedIn=function(){this.emit(i.userLoggedIn)},t.prototype.emitTokenUpdated=function(e){this.emit(i.tokenUpdated,e)},t.prototype.emitTokenExpired=function(){this.emit(i.tokenExpired)},t.prototype.emitPluginsLoaded=function(){this.emit(i.pluginsLoaded)},t}(a.EventEmitter);t.FlexEventEmitter=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.target=e.target,this.targetAlias=e.targetAlias,this.trigger=e.trigger.bind(null),this.onStart=e.onStart,this.start=this.start.bind(this)}}();t.Spy=r},function(e,t){e.exports=require("query-string")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="1.14.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(234),o=n(235);t.Strings=o.Strings;var i={default:r.default};t.languages=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(65),s=n(0),c=n(19),l=n(5),u=n(35),p=function(){function e(){}return e.registerActions=function(){s.Actions.registerAction("ToggleMute",e.toggleMute),s.Actions.registerAction("HangupCall",e.hangupCall,this.updateVoiceActionPayload),s.Actions.registerAction("HoldCall",e.holdCall,this.updateVoiceActionPayload),s.Actions.registerAction("UnholdCall",e.unholdCall,this.updateVoiceActionPayload)},e.toggleMute=function(){return r(this,void 0,Promise,function(){var e;return o(this,function(t){if(!i.FlexModule.state.phone.connection)throw Error("Cannot call mute with no live connection!");return(e=i.FlexModule.state.phone.connection.source).mute(!e.isMuted()),[2]})})},e.holdCall=function(e){var t=e.task;return l.TaskHelper.canHold(t)?(l.TaskHelper.isRegularConferenceCall(t)||a.Actions.oldHoldConnection(),t.hold().catch(function(e){throw new Error("Error holding call! "+e.message)})):Promise.reject(Error("Cannot hold call!"))},e.unholdCall=function(e){var t=e.task;return l.TaskHelper.canHold(t)?(l.TaskHelper.isRegularConferenceCall(t)||a.Actions.oldUnHoldConnection(),t.unhold().catch(function(e){throw new Error("Error unholding call! "+e.message)})):Promise.reject(Error("Cannot unhold call!"))},e.hangupCall=function(e){return r(this,void 0,Promise,function(){var t;return o(this,function(n){if(!e.task)throw Error("no task in payload");if(!(t=c.StateHelper.getCurrentPhoneCallState()))throw Error("no active call");return t.source.disconnect(),[2]})})},e.updateVoiceActionPayload=function(e){return e||(e={}),e.task&&(e.sid=e.task.sid),e.sid&&!e.task&&(e.task=l.TaskHelper.getTaskByTaskSid(e.sid)),e},e}();t.VoiceActions=p,t.isValidVoiceActionPayload=function(e){return u.isValidTaskPayload(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(5),c=n(19),l=n(0),u=n(26),p=n(25),f=n(13),d=n(14),h=n(46),m=n(63),v=n(7),g=n(11),y=function(){function e(){}return e.registerActions=function(){l.Actions.registerAction("AcceptTask",this.acceptTask,this.updateAcceptTaskPayload),l.Actions.registerAction("RejectTask",this.rejectTask,this.updateWorkerActionPayload),l.Actions.registerAction("CompleteTask",this.completeTask,this.updateWorkerActionPayload),l.Actions.registerAction("WrapupTask",this.wrapupTask,this.updateWorkerActionPayload),l.Actions.registerAction("SelectTask",this.selectTask,this.updateWorkerActionPayload),l.Actions.registerAction("SetActivity",this.setActivity,this.updateWorkerSetActivityPayload),l.Actions.registerAction("TransferTask",this.transferTask,this.updateWorkerActionPayload),l.Actions.registerAction("KickParticipant",this.kickParticipant,this.updateWorkerParticipantActionPayload),l.Actions.registerAction("CancelTransfer",this.cancelTransfer,this.updateWorkerActionPayload),l.Actions.registerAction("Logout",this.logout),l.Actions.registerAction("HoldParticipant",this.holdParticipant,this.updateWorkerParticipantActionPayload),l.Actions.registerAction("UnholdParticipant",this.unholdParticipant,this.updateWorkerParticipantActionPayload),l.Actions.registerAction("ToggleDTMFDialpad",this.toggleDTMFDialpad,this.updateWorkerActionPayload),l.Actions.registerAction("SetDTMFDialpadDigits",this.setDTMFDialpadDigits,this.updateWorkerActionPayload)},e.blockActionUntilReservationEvent=function(e,t,n){l.Actions.blockAction(e,t);var r=["accepted","rejected","timeout","canceled","rescinded","completed","wrapup"],o=function(){l.Actions.unblockAction(e,t),r.forEach(function(e){n.removeListener(e,o)})};r.forEach(function(e){n.addListener(e,o)})},e.acceptTask=function(t){return o(this,void 0,Promise,function(){var n,r,o,u,p;return i(this,function(i){switch(i.label){case 0:if(n=t.task,!(r=c.StateHelper.getReservation(n.sid)))throw new Error("Reservation not found for task "+n.sid);if("pending"!==n.status)throw new Error("Reservation is not in pending state "+n.sid);if(!s.TaskHelper.isCallTask(n))return[3,5];if(o=/^client:/,u=a.FlexModule.state.worker.attributes.contact_uri,a.FlexModule.state.config.disableBrowserVoice&&(o.test(u)||!u&&o.test(t.conferenceOptions.to)))throw f.Notifications.showNotification(f.NotificationIds.BrowserVoiceDisabled),new Error("Browser voice disabled");e.blockActionUntilReservationEvent("AcceptTask",t,r),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.conference(t.conferenceOptions)];case 2:return i.sent(),[3,4];case 3:throw p=i.sent(),l.Actions.unblockAction("AcceptTask",t),p;case 4:return[2,r];case 5:return[4,r.accept()];case 6:return i.sent(),[2,r]}})})},e.rejectTask=function(e){return o(this,void 0,Promise,function(){var t,n;return i(this,function(r){switch(r.label){case 0:if(t=e.task,!(n=c.StateHelper.getReservation(t.sid)))throw new Error("Reservation not found for task "+t.sid);if("pending"!==t.status)throw new Error("Reservation is not in pending state "+t.sid);return[4,n.reject(void 0)];case 1:return r.sent(),[2,n]}})})},e.completeTask=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:if("completed"===(t=e.task).status)throw new Error("Reservation is in completed state "+t.sid);return[4,m.ChatOrchestrator.orchestrateCompleteTask(t)];case 1:return n.sent(),[4,t.complete()];case 2:return n.sent(),[2,t]}})})},e.wrapupTask=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:if("accepted"!==(t=e.task).status)throw new Error("Reservation is not in accepted state "+t.sid);return[4,m.ChatOrchestrator.orchestrateWrapupTask(t)];case 1:return n.sent(),[4,t.wrapUp()];case 2:return n.sent(),[2,t]}})})},e.selectTask=function(e){return new Promise(function(t){u.Actions.selectTask(e.sid),v.tryInvokeAction("HistoryPush","/agent-desktop/"+e.sid),t()})},e.setActivity=function(e){var t=e.activitySid,n=a.FlexModule.state.worker.activities.get(t),o=e.options&&e.options.rejectPendingReservations,i=!n.available&&o,s=r(r({},e.options),{rejectPendingReservations:i});return n.setAsCurrent(s).catch(function(e){var t=!!e.response&&e.response.statusText;if(!t||!t.match(/Worker WK.* cannot have its activity updated while it has .* pending reservations/))throw e;f.Notifications.showNotification(f.NotificationIds.PendingReservationsOnActivityStateChange)})},e.transferTask=function(e){return s.TaskHelper.canTransfer(e.task)?e.task.transfer(e.targetSid,e.options):(f.Notifications.showNotification(f.NotificationIds.TaskCannotBeTransferred),Promise.reject(new Error("cannot transfer this task!")))},e.cancelTransfer=function(e){return e.task.outgoingTransferObject?e.task.cancelTransfer():Promise.reject(new Error("there are no outgoing transfer to cancel"))},e.kickParticipant=function(e){return e.task.kick(e.targetSid)},e.holdParticipant=function(e){var t=e.task;return s.TaskHelper.canHold(t)?t.holdParticipant(e.targetSid):Promise.reject(new Error("Cannot hold participant!"))},e.unholdParticipant=function(e){var t=e.task;return s.TaskHelper.canHold(t)||e.targetSid===a.FlexModule.state.worker.worker.sid?t.unholdParticipant(e.targetSid):Promise.reject(new Error("Cannot unhold participant!"))},e.toggleDTMFDialpad=function(t){return o(this,void 0,Promise,function(){var n;return i(this,function(o){return s.TaskHelper.isCallTask(t.task)?(n="CallCanvasDialpad"+t.task.sid,Object.prototype.hasOwnProperty.call(t,"open")?t.open?[2,u.Actions.setComponentState(n,{digits:""})]:[2,u.Actions.deleteComponentState(n)]:[2,e.toggleDTMFDialpad(r(r({},t),{open:!a.FlexModule.state.view.componentViewStates[n]}))]):[2,Promise.reject(new Error("Cannot toggle DTMF dialpad for non call task"))]})})},e.setDTMFDialpadDigits=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){return s.TaskHelper.isLiveCall(e.task)?[2,u.Actions.setComponentState("CallCanvasDialpad"+e.task.sid,{digits:e.digits})]:[2,Promise.reject(new Error("Cannot set digits for non live call"))]})})},e.updateWorkerActionPayload=function(e){var t=r({},e);return t.task&&(t.sid=t.task.sid),t.sid&&!t.task&&(t.task=s.TaskHelper.getTaskByTaskSid(t.sid)),t},e.updateWorkerParticipantActionPayload=function(t){var n=e.updateWorkerActionPayload(t);if(n.participant&&(n.targetSid=n.participant.sid),n.targetSid&&!n.participant&&n.task){var r=a.FlexModule.state.conferences.states.get(n.task.taskSid);r&&(n.participant=r.source.participants.find(function(e){return e.workerSid===n.targetSid}))}return n},e.updateAcceptTaskPayload=function(t){var n=(t=e.updateWorkerActionPayload(t)).task.conference;t.conferenceOptions=t.conferenceOptions||{},t.conferenceOptions.endConferenceOnExit=!n||0===n.liveWorkerCount,t.conferenceOptions.endConferenceOnCustomerExit=!0;var r=!!d.Manager.getInstance()&&d.Manager.getInstance().serviceConfiguration;if(t.conferenceOptions.conferenceRecord=!!r.call_recording_enabled,t.conferenceOptions.conferenceRecord){var o={accountSid:r.account_sid,workspaceSid:r.taskrouter_workspace_sid,taskSid:t.task.sourceObject.task.sid},i=g.getCallRecordingCallbackUrl(r);Object.keys(o).forEach(function(e){i=i.replace("{"+e+"}",o[e])}),t.conferenceOptions.conferenceRecordingStatusCallback=i,t.conferenceOptions.conferenceRecordingStatusCallbackMethod="POST"}return t},e.updateWorkerSetActivityPayload=function(e){if(e.activityName&&!e.activitySid){var t=Array.from(a.FlexModule.state.worker.activities).find(function(t){t[0];return t[1].name===e.activityName});e.activitySid=t&&t[0]}return e.activitySid&&(e.activityName=a.FlexModule.state.worker.activities.get(e.activitySid).name,e.activityAvailable=a.FlexModule.state.worker.activities.get(e.activitySid).available),e.options||(e.options={}),void 0===e.options.rejectPendingReservations&&(e.options.rejectPendingReservations=a.FlexModule.state.config.rejectPendingReservations),e},e.logout=function(e){return h.clearStoredConfig(),p.Actions.logout(e).catch(function(e){var t=!!e.response&&e.response.statusText;if(!t||!t.match(/Worker WK.* cannot have its activity updated while it has .* pending reservations/))throw e;f.Notifications.showNotification(f.NotificationIds.PendingReservationsOnLogout)}).then(function(e){return e})},e}();t.WorkerActions=y,t.isValidTaskPayload=function(e){return function(t){return e&&t&&t.task&&t.task.sid===e.sid}},t.isValidWorkerActionPayload=function(e){return t.isValidTaskPayload(e)},t.isValidWorkerParticipantActionPayload=function(e,n){return function(r){return t.isValidWorkerActionPayload(e)(r)&&n===r.targetSid}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(12),l=n(309),u=n(312),p=n(2),f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}var c;return r(n,e),c=n,n.prototype.render=function(){return a.createElement(t.Connected,o({},this.props))},n.displayName="TaskCanvasHeader",n.Content=new s.DynamicContentStore(c.displayName),n.defaultProps={content:c.Content,ActionsComponent:l.EndTaskButton,titleTemplateContext:{}},n=c=i([s.withDefaultPropsUpdate],n)}(a.PureComponent);t.TaskCanvasHeader=f,t.Connected=p.withTheme(c.withTaskContext(u.TaskCanvasHeaderImpl))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(28),s=n(0),c=n(3),l=n(80),u=n(329),p=n(330),f=n(38),d=u.createGenerateClassName({productionPrefix:"flex-md-"}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,n=this.props.themeConf,r=l.ThemeColorsDefinitionCreator.getPredefined(this.props.themeConf.baseName);n.colors&&(r.colors=o(o({},r.colors),n.colors)),n.hasOwnProperty("light")&&(r.lightTheme=n.light),e=f.createTheme(r.colors,r.lightTheme);var s=t.getMergedTheme(e,this.props.themeConf.overrides);s.name=this.props.themeConf.baseName;var c=u.createMuiTheme(s);return i.createElement(p.JssProvider,{generateClassName:d},i.createElement(u.MuiThemeProvider,{theme:c},i.createElement(a.ThemeProvider,{theme:s},this.props.children)))},t.getMergedTheme=function(e,t){return t?s.Utils.merge(e,t):e},t}(i.PureComponent);t.StorelessThemeProvider=h,t.ThemeProvider=c.connect(function(e){return{themeConf:e.config.colorTheme}})(h)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(40),a=r(r({},o.BaseTheme.colors),i.commonColors);t.createTheme=function(e,t){var n=o.createTheme(e,t),i=t?e.darkTextColor:e.lightTextColor;return r(r({},n),{colors:e,UserActivityControls:{Item:{color:i,lightHover:!1},Items:{background:e.base2},Divider:{background:e.base4}},LoginFormView:{Container:{backgroundColor:e.base2,borderColor:e.base4,color:i},LoginButton:{background:e.defaultButtonColor,lightHover:!0}},LoginView:{Container:{background:e.base2,color:i},LoginButton:{background:e.defaultButtonColor,color:e.lightTextColor},Logo:{color:e.base11}},RuntimeLoginView:{Container:{background:e.base2,color:i},LoginButton:{background:e.defaultButtonColor,lightHover:!0}},RootContainer:{},AgentDesktopView:{Panel1:{background:e.base2},Panel2:{background:e.base2},ContentSplitter:{background:e.base2,borderColor:e.base4,color:e.base10}},MainHeader:{Container:{background:t?e.base9:e.base3,color:e.lightTextColor,borderColor:e.base4},Button:{color:e.lightTextColor,lightHover:!0}},MainContainer:{},SideNav:{Container:{background:t?e.base8:e.base3,borderColor:e.base4},Button:{color:e.lightTextColor,background:t?e.base8:e.base3,lightHover:!0},Icon:{color:e.lightTextColor}},TaskDetailsPanel:{Container:{color:i},IconContainer:{color:e.lightTextColor,border:"1px solid "+e.base6},SecondLine:{color:e.base8}},IncomingTaskCanvas:{AcceptTaskButton:{color:e.acceptTextColor,background:e.acceptColor},RejectTaskButton:{color:e.declineTextColor,background:e.declineColor}},TaskInfoPanel:{Container:{color:i}},CallCanvas:{Button:{background:e.base3,color:e.base11},HangUpButton:{background:e.declineColor,color:e.declineTextColor}},TaskCanvas:{Container:{background:e.base1}},TaskCanvasHeader:{Container:{background:e.base1,color:i},WrapupTaskButton:{background:e.declineColor,color:e.declineTextColor},EndTaskButton:{background:e.completeTaskColor,color:e.declineTextColor}},TaskList:{Filter:{Container:{background:e.base2,borderColor:e.base4},EntryButton:{color:i},Menu:{Item:{color:i,lightHover:!t},Items:{}}},Item:{Container:{color:i,borderColor:e.base4,background:e.base2,lightHover:!t},Icon:{color:e.lightTextColor},SelectedContainer:{background:e.base1,color:i,lightHover:!t},Buttons:{DefaultButton:{color:e.base11,background:e.base3,lightHover:!t},AcceptButton:{color:e.acceptTextColor,background:e.acceptColor},RejectButton:{color:e.declineTextColor,background:e.declineColor}}}},TaskCard:{Container:{Default:{borderColor:e.base4,lightHover:!t},Selected:{borderColor:e.base11},Hover:{borderColor:e.base11}},IconArea:{Default:{color:e.lightTextColor}},ContentArea:{Default:{color:i,backgroundColor:e.base1},Inactive:{color:i,backgroundColor:e.base2}}},TaskCardPlaceholder:{borderColor:e.base4},NoTasksCanvas:{Container:{color:i,background:e.base2},Hint:{color:e.base8}},CRMContainer:{Container:{borderColor:e.base4},Placeholder:{Container:{color:i,background:e.base1},Icon:{color:e.base11},Button:{background:e.defaultButtonColor,color:e.lightTextColor},Hint:{color:e.base8}}},Supervisor:{Container:{background:e.base1},TaskCanvas:{HeaderButton:{color:e.base11,lightHover:!t},Container:{borderColor:e.base4,background:e.base1},MonitorActiveButton:{background:e.flexBlueColor,color:e.lightTextColor},Button:{background:e.base3,color:e.base11},Header:{borderColor:e.base4,color:i}},WorkerCanvas:{Container:{borderColor:e.base4,color:i},Header:{color:i},SectionCaption:{borderColor:e.base4,color:i}},FilterButton:{borderColor:e.base4,color:i,lightHover:!0},Search:{Container:{color:i},Button:{background:e.defaultButtonColor,color:e.lightTextColor,lightHover:!1}}},WorkerDirectory:{Container:{boxShadow:"-2px 0 10px 0 rgba(0, 0, 0, 0.2)",background:e.base2,color:i},Header:{Button:{color:e.base11,background:e.base3,lightHover:!t},Container:{}},ItemsContainer:{borderColor:e.base4},Item:{borderColor:e.base4,background:e.base2,lightHover:!t},ItemActionButton:{color:e.base11,background:e.base3,lightHover:!t},QueueItem:{Avatar:{background:e.base3}}},WorkerSkills:{SaveButton:{background:e.flexBlueColor,color:e.lightTextColor},CancelButton:{background:e.disabledColor,color:e.darkTextColor},DeleteButton:{borderColor:e.base4,lightHover:!t}},LoadingView:{Container:{backgroundColor:e.base2,color:i}},ParticipantsCanvas:{ParticipantCanvas:{Container:{color:i},Avatar:{background:e.flexBlueColor,color:e.lightTextColor,borderColor:e.base5},StateHover:{background:e.buttonHoverColor,color:e.lightTextColor},ConnectingAnimation:{color:e.lightTextColor},Button:{background:e.base3,color:e.base11},HangUpButton:{background:e.declineColor,color:e.declineTextColor}},Notification:{Container:{background:e.holdColor,color:t?e.base1:e.base11}}},QueueStats:{Container:{backgroundColor:e.base1,color:i},TableContainer:{},TilesGrid:{}},QueuesStats:{Container:{backgroundColor:e.base1,color:i},TableContainer:{},TilesGrid:{}},ToggleLoggingPanel:{IconButton:{},Panel:{backgroundColor:e.base2},Button:{backgroundImage:"linear-gradient(\n                    to top,\n                    "+e.defaultButtonColor+",\n                    "+e.defaultButtonColor+"\n                )"}}})};var s={colors:a,lightTheme:!0};t.default=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(199);t.Supervisor=o;var i=n(78);t.QueuesStats=i,r(n(0)),r(n(8)),r(n(304)),r(n(143)),r(n(148)),r(n(356)),r(n(87));var a=n(170);t.WorkersDataTable=a.WorkersDataTable,t.AgentsDataTable=a.WorkersDataTable,t.ColumnDataCreationContext=a.ColumnDataCreationContext;var s=n(183);t.TaskCard=s.TaskCard;var c=n(183);t.TaskCardList=c.TaskCardList;var l=n(184);t.RootContainer=l.RootContainer,t.RootContainerChildrenProps=l.RootContainerChildrenProps;var u=n(162);t.CRMContainer=u.CRMContainer,t.CRMContainerProps=u.CRMContainerProps;var p=n(185);t.MainContainer=p.MainContainer,t.MainContainerProps=p.MainContainerProps,t.MainContainerChildrenProps=p.MainContainerChildrenProps;var f=n(75);t.MuteButton=f.MuteButton,t.MuteButtonProps=f.MuteButtonProps;var d=n(186);t.SideNav=d.SideNav,t.SideNavProps=d.SideNavProps,t.SideNavChildrenProps=d.SideNavChildrenProps,t.SideLink=d.SideLink,t.SideLinkProps=d.SideLinkProps;var h=n(155);t.TaskListButtons=h.TaskListButtons;var m=n(159);t.TaskListContainer=m.TaskListContainer;var v=n(193);t.ViewCollection=v.ViewCollection,t.ViewCollectionProps=v.ViewCollectionProps,t.View=v.View,t.ViewProps=v.ViewProps,t.ViewCollectionChildrenProps=v.ViewCollectionChildrenProps;var g=n(160);t.WorkerDirectory=g.WorkerDirectory;var y=n(177);t.WorkerProfile=y.WorkerProfile;var k=n(178);t.WorkerSkills=k.WorkerSkills;var C=n(175);t.WorkerCanvas=C.WorkerCanvas;var b=n(190);t.LiveCommsBar=b.LiveCommsBar,t.LiveCommsBarChildrenProps=b.LiveCommsBarChildrenProps,t.LiveCommsBarItem=b.LiveCommsBarItem,t.LiveCommsBarItemAction=b.LiveCommsBarItemAction,t.LiveCommsBarItemActions=b.LiveCommsBarItemActions,t.LiveCommsBarItemActionsProps=b.LiveCommsBarItemActionsProps;var _=n(2);t.PropsWithTheme=_.PropsWithTheme,t.withTheme=_.withTheme,t.Theme=_.Theme,t.ThemeProps=_.ThemeProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonColors={holdColor:"#ea6c00",declineColor:"#d32f2f",acceptColor:"#07874a",declineTextColor:"#ffffff",acceptTextColor:"#ffffff",completeTaskColor:"#1976d2",flexBlueColor:"#1976D2",agentAvailableColor:"#62c158",agentBusyColor:"#f1a33e",agentUnavailableColor:"#dd392b",agentOfflineColor:"#606471"},t.defaultChannelColors={inactive:"#a0a8bd",call:"#1976D2",video:"#1976D2",chat:"#057D9E",sms:"#D81B60",facebook:"#4266B2",line:"#3ACE01",whatsapp:"#2BB826",custom:"#a0a8bd"}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=n(3),s=n(42),c=n(24),l=function(){function e(){}return e.destroy=function(){this.searches.forEach(function(e){return e.query.removeAllListeners()})},e.getWorker=function(e){if("WK"===e.substr(0,2))return this.entities.get(e)},e.getQueue=function(e){if("WQ"===e.substr(0,2))return this.entities.get(e)},e.refreshInfoForEntities=function(e){var t=this;return Promise.all(e.map(function(e){return r(t,void 0,void 0,function(){var t,n,r,l=this;return o(this,function(o){switch(o.label){case 0:return e?(t=this.searches.get(e))&&(new Date).getTime()-t.time<1e4?[2]:(i.log.debug("InsightsState refreshIdentity "+e),n="WK"===e.substr(0,2),[4,a.FlexModule.insightsClient.instantQuery(n?"tr-worker":"tr-queue")]):[2];case 1:return r=o.sent(),this.searches.set(e,{query:r,time:(new Date).getTime()}),r.on("searchResult",function(t){Object.keys(t).forEach(function(e){i.log.debug("InsightsState found data for "+e);var r=t[e],o=n?new s.InsightsWorker(r):new s.InsightsQueue(r);l.entities.set(e,o),c.Actions.updateConferencesWithParticipant(e)}),r.removeAllListeners(),l.searches.delete(e)}),n?r.search('data.worker_sid == "'+e+'"'):r.search('data.queue_sid == "'+e+'"'),[2]}})})}))},e.updateCache=function(e){i.log.debug("InsightsState updateCache "+e.sid),this.entities.set(e.sid,e)},e.entities=new Map,e.searches=new Map,e}();t.InsightsEntityCache=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i=function(){function e(e){this.complete=function(){throw new Error("Not implemented")},this.setAttributes=function(e){throw new Error("Not implemented")},this.wrapUp=function(){throw new Error("Not implemented")},this.transfer=function(e,t){throw new Error("Not implemented")},this.hold=function(){throw new Error("Not implemented")},this.unhold=function(){throw new Error("Not implemented")},this.holdParticipant=function(){throw new Error("Not implemented")},this.unholdParticipant=function(){throw new Error("Not implemented")},this.kick=function(){throw new Error("Not implemented")},this.cancelTransfer=function(){throw new Error("Not implemented")},this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceObject",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addOns",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"age",{get:function(){return this._source.task_age},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this._source.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateCreated",{get:function(){return new Date(this._source.date_created)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return new Date(this._source.date_updated)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this._source.task_priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueName",{get:function(){return this._source.queue_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueSid",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskSid",{get:function(){return this._source.task_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var e=this._source.status;return"wrapup"===e&&(e="wrapping"),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskStatus",{get:function(){return this._source.task_status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelSid",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelUniqueName",{get:function(){return this._source.task_channel_unique_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowName",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowSid",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this._source.reservation_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerSid",{get:function(){return this._source.worker_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFrom",{get:function(){var e=this.attributes;return e.name||e.from||"Anonymous"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"channelType",{get:function(){return this.attributes.channelType||this.taskChannelUniqueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incomingTransferObject",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outgoingTransferObject",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conference",{get:function(){var e=r.FlexModule.state.conferences.states.get(this.taskSid);return e?e.source:void 0},enumerable:!0,configurable:!0}),e}();t.InsightsTask=i;var a=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this.source.worker_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.source.friendly_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this.source.attributes.full_name||this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityName",{get:function(){return this.source.activity_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.source.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return new Date(this.source.date_updated)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityDuration",{get:function(){return o.Utils.formatTimeDuration(Math.max(Date.now()-new Date(this.source.date_activity_changed).getTime(),0),"short")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAvailable",{get:function(){return this.findAvailabilityByActivityName()},enumerable:!0,configurable:!0}),e.ensureAvailabilityCache=function(){var e=this;this._availabilityByNameCache.size||r.FlexModule.workerClient&&r.FlexModule.workerClient.activities.size&&r.FlexModule.workerClient.activities.forEach(function(t){e._availabilityByNameCache.set(t.name,t.available)})},e.prototype.findAvailabilityByActivityName=function(){return e.ensureAvailabilityCache(),!!e._availabilityByNameCache.has(this.activityName)&&e._availabilityByNameCache.get(this.activityName)},e._availabilityByNameCache=new Map,e}();t.InsightsWorker=a;var s=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this.source.queue_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.source.queue_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return new Date(this.source.date_updated)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceSid",{get:function(){return this.source.workspace_sid},enumerable:!0,configurable:!0}),e}();t.InsightsQueue=s},function(e,t){e.exports=require("react-router-redux")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(228)),r(n(109))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(18),c=n(31),l=n(0),u=n(6),p=n(21),f=n(92),d=n(46),h=n(66);t.SSOConfig=h.SSOConfig;var m=n(14),v=n(11),g=n(112);t.LOGIN_WINDOW_NAME="twilioFlexLoginWindow",t.LOGIN_SUCCESSFUL_MESSAGE="TWILIO_FLEX_LOGIN_SUCCESSFUL";var y={products:["flex"],redirectUrl:window.location.href,tokenRefreshThresholdMs:21e5},k=function(e){function n(t){var r=e.call(this)||this;return r._checkTokenExpirationInterval=0,r.checkTokenExpired=function(){u.log.trace("Checking if token is expired");var e=n.getTokenFromLocalStorage();if(!e||!e.token)return Promise.reject("No token");var t=Date.parse(e.expiration)-Date.now();return t<=0?(r.handleTokenExpired(),Promise.reject("Current token has expired")):t<r._config.tokenRefreshThresholdMs&&!r._updatingToken?(u.log.info("Updating token Current token would expire in",t/1e3,"s"),r.handleTokenUpdate()):Promise.resolve(r)},r.handleCheckTokenExpirationInterval=function(){r.checkTokenExpired().catch(function(e){u.log.warn("Unable to update token:",e);var t=!!e&&!!e.response&&e.response.status||0;t>=400&&t<=404&&(u.log.warn("Stopping token updates"),clearInterval(r._checkTokenExpirationInterval))})},r._updatingToken=!1,r._config=l.Utils.merge(y,t),r}return r(n,e),n.create=function(e){return void 0===e&&(e={}),new n(e).initialize(!0)},n.tryLogin=function(e){return void 0===e&&(e={}),new n(e).initialize(!1).then(function(){return!0})},n.tryValidateConfig=function(e){if(!e)throw new p.ConfigError(p.ConfigErrorKeys.sso);if(!e.accountSid)throw new p.ConfigError(p.ConfigErrorKeys.accountSid)},n.tryLoginInNewWindow=function(e){if(n.isInLoginWindow())return Promise.reject(new p.ClientError(p.ClientErrorKeys.loginWindowOpenedFromLoginWindow));if(!e.idpUrl)return Promise.reject(new p.InternalError("No idpUrl"));var r=n.openLoginWindow(e);return r?new Promise(function(e,o){var i=setInterval(function(){r.closed&&(o(new p.BrowserError(p.BrowserErrorKeys.windowClosed)),clearInterval(i))},100);window.addEventListener("message",function(a){if(a.origin===window.location.origin&&a.data===t.LOGIN_SUCCESSFUL_MESSAGE){u.log.debug("Got LOGIN_SUCCESSFUL_MESSAGE");var s=window.localStorage.getItem("TWILIO_FLEX_SSO");if(!s)return void o(new p.InternalError("No token in localStorage"));var c=JSON.parse(s);if(!n.isValidTokenPayload(c))return void o(new p.InternalError("Token is invalid"));u.log.debug("Got token from login window"),e(),clearInterval(i),r.close()}})}):(u.log.error("Unable to open a new window to log in. Pop-up might have been blocked by browser."),Promise.reject(new p.BrowserError(p.BrowserErrorKeys.popupBlocked)))},n.openLoginWindow=function(e){var n=e.loginPopupFeatures||g.stringifyLoginWindowFeatures(g.getDefaultLoginWindowFeatures());return u.log.debug("opening login view in a new window",e.idpUrl,n),window.open(e.idpUrl,t.LOGIN_WINDOW_NAME,n)},n.prototype.getTokenInfo=function(){return u.log.debug("Instance method getTokenInfo of SSOLoginHandler is deprecated. Consider using a similar static method SSOLoginHandler.getTokenInfo() instead"),n.getTokenInfo()},n.getTokenInfo=function(){var e=n.getTokenFromLocalStorage();if(e)return n.isValidTokenPayload(e)?e:void 0},n.prototype.logout=function(){clearInterval(this._checkTokenExpirationInterval),this.clearTokenFromLocalStorage()},n.prototype.initialize=function(e){return i(this,void 0,Promise,function(){var r,i,s,c,f,h,m,v,y,k=this;return a(this,function(a){switch(a.label){case 0:if(r=n.parseTokenPayloadFromQueryString()){if(n.isInLoginWindow())return window.opener?(n.storeTokenPayload(r),window.opener.postMessage(t.LOGIN_SUCCESSFUL_MESSAGE,window.location.origin),[2,Promise.reject("Logging in in another window")]):(u.log.error("window.opener is not set"),window.close(),[2,Promise.reject(new p.BrowserError(p.BrowserErrorKeys.noWindowOpener))]);if(n.storeTokenPayload(r),i=g.sanitizeSSOParams(window.location.href),window.history.replaceState({},document.title,i),!(s=document.head.querySelector("meta[name='referrer']"))||"no-referrer"!==s.getAttribute("content"))return c='element <meta name="referrer" content="no-referrer"> not found in page <head> section',u.log.warn("Redirecting to clear referrer, "+c+"."),window.location.href=i,[2,Promise.reject(new p.ClientError(p.ClientErrorKeys.metaNoReferrerMissing,"Redirecting because "+c+"."))]}return!(r=n.getTokenInfo())&&this._config.loginPopup&&n.openLoginWindow(o(o({},this._config),{idpUrl:"about:blank"})),r?(f=Promise.resolve(this),[3,6]):[3,1];case 1:return this._config.idpUrl?[3,5]:[4,this.getAccountSid()];case 2:return h=a.sent(),[4,g.IdpUrl.get(h,this._config)];case 3:return m=a.sent(),this._config.accountSid=h,this._config.idpUrl=m,u.log.debug("got the redirect url",m),[4,d.fetchPublicConfiguration(this._config.accountSid,!0,this._config)];case 4:v=a.sent(),y=v.public_attributes||{},this._config=l.Utils.merge(y||{},this._config),a.label=5;case 5:this._config.loginPopup?f=n.tryLoginInNewWindow(this._config):(u.log.debug("redirecting to ",this._config.idpUrl),window.location.href=this._config.idpUrl,f=Promise.reject(new p.BrowserError(p.BrowserErrorKeys.redirecting))),a.label=6;case 6:return[2,f.then(function(){return e?k.startLoginHandler():Promise.resolve(k)})]}})})},n.prototype.startLoginHandler=function(){return this._checkTokenExpirationInterval=setInterval(this.handleCheckTokenExpirationInterval,1e3),this.checkTokenExpired()},n.getTokenFromLocalStorage=function(){var e=window.localStorage.getItem("TWILIO_FLEX_SSO");if(e){var t=JSON.parse(e);if(!Array.isArray(t.roles)){var n=[];t.roles&&n.push(t.roles),t.roles=n}return t}},n.prototype.clearTokenFromLocalStorage=function(){window.localStorage.removeItem("TWILIO_FLEX_SSO")},n.prototype.getAccountSid=function(){var e=m.Manager.getInstance();return e?Promise.resolve(e.serviceConfiguration.account_sid):this._config.accountSid?Promise.resolve(this._config.accountSid):Promise.reject(new p.ConfigError(p.ConfigErrorKeys.accountSid))},n.parseTokenPayloadFromQueryString=function(){var e=window.location.search;if(e){var t=c.parse(e),r=[];t.Roles&&(r=Array.isArray(t.Roles)?t.Roles:[t.Roles]);var o={roles:r,identity:t.Identity,expiration:t.Expiration,token:t.Token};return n.isValidTokenPayload(o)?o:void 0}},n.hasValidToken=function(){var e=n.parseTokenPayloadFromQueryString()||n.getTokenFromLocalStorage();return!!n.isValidTokenPayload(e)},n.storeTokenPayload=function(e){var t=JSON.stringify(e);window.localStorage.setItem("TWILIO_FLEX_SSO",t)},n.isValidTokenPayload=function(e){if(!e)return!1;var t=e.expiration,n=e.identity,r=e.roles,o=e.token;return!(!t||!n||!r||!o||this.isTokenExpired(e,3e5))},n.isTokenExpired=function(e,t){void 0===t&&(t=0);var n=e.expiration;if(!n||"string"!=typeof n)return!0;var r=(Date.parse(n)||0)-t>Date.now();return r||u.log.debug("Token has expired"),!r},n.isInLoginWindow=function(){return window.name===t.LOGIN_WINDOW_NAME},n.prototype.fetchNewToken=function(e){var t=this;return this.getAccountSid().then(function(n){var r=v.getSSOTokenRefreshUrl(t._config,n);return u.log.debug("Fetching new token"),s.default.post(r,{token:e}).then(function(e){return u.log.debug("Got token info:",e.data),e.data}).catch(function(e){throw u.log.error("Failed to fetch new token",e),e})})},n.prototype.handleTokenUpdate=function(){var e=this,t=n.getTokenFromLocalStorage();return this._updatingToken=!0,this.fetchNewToken(t.token).then(function(r){var i=o(o({},t),{expiration:r.expiration,token:r.token});return n.storeTokenPayload(i),e._updatingToken=!1,u.log.info("Token updated successfully"),e.emit("tokenUpdated",e),e}).catch(function(r){throw e._updatingToken=!1,u.log.error("Unable to fetch new token"),e.emit("tokenUpdateFailed",e),n.isTokenExpired(t)&&e.handleTokenExpired(),r})},n.prototype.handleTokenExpired=function(){u.log.info("Token has expired"),clearInterval(this._checkTokenExpirationInterval),this.emit("tokenExpired",this)},n}(f.EventEmitter);t.SSOLoginHandler=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(21),i=n(6),a=n(73),s=n(11),c={mapDomainToLookup:function(e){return s.flexPublicConfigServiceUrl+"?RuntimeDomain="+e}};function l(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=!0),n&&r&&r.account_sid===t?Promise.resolve(r):fetch(e).then(function(e){if(200===e.status)return e.json();throw i.log.error("Failed to fetch public configuration",e.status),new o.ValidationError(o.ValidationErrorKeys.accountSid)}).then(function(e){var t=e.configurations;if(!Array.isArray(t)||t.length<=0)throw i.log.error("Failed to fetch accountSid, no configurations"),new o.ValidationError(o.ValidationErrorKeys.accountSid);return r=t[0]})}var u="FLEX_CONFIG";t.fetchRuntimeDomainInfo=function(e,t){if(void 0===t&&(t=c),!(e=e.trim()).endsWith(".twil.io")){var n=e.match(a.RUNTIME_DOMAIN_REGEXP);n&&n[1]&&(e+=".twil.io")}return e=e.endsWith("/")?e.replace(/\/$/,""):e,l(t.mapDomainToLookup?t.mapDomainToLookup(e):c.mapDomainToLookup(e))},t.fetchPublicConfiguration=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n={}),l(s.getPublicConfigServiceUrl(e,n),e,t)},t.getStoredConfig=function(){var e=localStorage.getItem(u);return e&&JSON.parse(e)||{}},t.clearStoredConfig=function(){i.log.debug("clearing config from local storage",u),localStorage.removeItem(u)},t.storeConfig=function(e){var t=JSON.stringify(e);i.log.debug("saving config to local storage",u,t),localStorage.setItem(u,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(118);t.TaskDetailsPanel=r.TaskDetailsPanel;var o=n(245);t.TaskDetailsPanelProps=o.TaskDetailsPanelProps;var i=n(48);t.IconContainerWithStyle=i.IconContainerWithStyle},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p,f,d=n(0),h=n(2);t.IconContainer=h.default("div")(o||(o=r(["\n    margin-bottom: 15px;\n"],["\n    margin-bottom: 15px;\n"]))),t.IconContainerWithStyle=h.default("div")(i||(i=r(["\n    border-radius: 50%;\n    width: 72px;\n    height: 72px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    ",";\n    background: ",";\n"],["\n    border-radius: 50%;\n    width: 72px;\n    height: 72px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    ",";\n    background: ",";\n"])),function(e){return e.theme.TaskDetailsPanel.IconContainer},function(e){return e.background}),t.SecondLineContainer=h.default("div")(a||(a=r(["\n    font-size: 12px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n    ","\n"],["\n    font-size: 12px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n    ","\n"])),function(e){return e.theme.TaskDetailsPanel.SecondLine}),t.FirstLineContainer=h.default("div")(s||(s=r(["\n    font-size: 16px;\n    font-weight: bold;\n    margin-bottom: 2px;\n    margin-left: 4px;\n    margin-right: 4px;\n"],["\n    font-size: 16px;\n    font-weight: bold;\n    margin-bottom: 2px;\n    margin-left: 4px;\n    margin-right: 4px;\n"]))),t.TitleLineContainer=h.default("div")(c||(c=r(["\n    font-size: 12px;\n    margin-bottom: 15px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n"],["\n    font-size: 12px;\n    margin-bottom: 15px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n"]))),t.InfoContainer=h.default("div")(l||(l=r(["\n    margin: auto;\n    text-align: center;\n"],["\n    margin: auto;\n    text-align: center;\n"]))),t.ContentContainer=h.default(d.FlexBoxColumn)(u||(u=r(["\n    flex-grow: 1;\n    overflow: hidden;\n"],["\n    flex-grow: 1;\n    overflow: hidden;\n"]))),t.ButtonContainer=h.default("div")(p||(p=r(["\n    width: 100%;\n    display: flex;\n    margin-top: 24px;\n    margin-bottom: 24px;\n    justify-content: center;\n\n    button {\n        width: 44px;\n        height: 44px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"],["\n    width: 100%;\n    display: flex;\n    margin-top: 24px;\n    margin-bottom: 24px;\n    justify-content: center;\n\n    button {\n        width: 44px;\n        height: 44px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"]))),t.Container=h.default(d.FlexBoxColumn)(f||(f=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.TaskDetailsPanel.Container})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(3),l=n(12),u=n(127),p=n(2),f=n(108),d=n(44),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(m,o({},this.props))},t.displayName=u.displayName,t.Content=u.contentStore,t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskCanvasTabs=h;var m=c.connect(function(e){var t=e.view.componentViewStates.AgentTaskCanvasTabs,n=d.featureFlagsSelector(e)[f.FeatureFlag.MarkdownSupport];return{selectedTabName:!!t&&t.selectedTabName,uniqueName:"AgentTaskCanvasTabs",hasMarkdownSupport:Boolean(n&&n.enabled)}})(l.withTaskContext(p.withTheme(u.TaskCanvasTabsImpl)))},function(e,t){e.exports=require("@material-ui/core/MenuItem")},function(e,t){e.exports=require("@material-ui/core/Select")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(58),a=n(37),s=n(67),c=n(6);t.FlexContext=o.createContext(void 0);var l=function(e){return e.store===s.getDefaultStore()||e.legacy?o.createElement(i.Provider,{store:e.store},e.children):e.children},u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.componentWillMount=function(){this.props.manager?this.props.manager.loadInitialData().then(function(){return c.log.info("All data has been loaded...")}):c.log.error("manager missing in the props of ContextProvider")},n.prototype.render=function(){var e=this.props.manager;return o.createElement(t.FlexContext.Provider,{value:this.props},o.createElement(l,{store:e.store,legacy:this.props.legacy},o.createElement(a.ThemeProvider,null,this.props.children)))},n}(o.PureComponent);t.ContextProvider=u},function(e,t){e.exports=require("react-router")},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p,f,d,h,m,v=n(2),g=n(0),y=n(55);t.CallButton=v.default(g.IconButton)(o||(o=r(["\n    margin-right: 8px;\n"],["\n    margin-right: 8px;\n"]))),t.ItemInnerContainer=v.default(g.FlexBox)(i||(i=r(["\n    display: flex;\n    padding-left: 0px;\n    padding-right: 12px;\n    color: inherit;\n    outline: none;\n    height: 44px;\n    background: none;\n    border: none;\n    border-style: solid;\n    border-width: 0px 0px 1px 0px;\n    ","\n    &:hover {\n        & .Twilio-WorkerDirectory-ButtonContainer {\n            display: flex;\n        }\n        ","\n        & .Twilio-WorkerDirectory-QueueAvatar {\n            ","\n        }\n    }\n"],["\n    display: flex;\n    padding-left: 0px;\n    padding-right: 12px;\n    color: inherit;\n    outline: none;\n    height: 44px;\n    background: none;\n    border: none;\n    border-style: solid;\n    border-width: 0px 0px 1px 0px;\n    ","\n    &:hover {\n        & .Twilio-WorkerDirectory-ButtonContainer {\n            display: flex;\n        }\n        ","\n        & .Twilio-WorkerDirectory-QueueAvatar {\n            ","\n        }\n    }\n"])),function(e){return e.theme.WorkerDirectory.Item},function(e){return g.getBackgroundWithHoverCSS(e.theme.WorkerDirectory.Item.background,e.theme.WorkerDirectory.Item.lightHover,!0)},function(e){return g.getBackgroundWithHoverCSS(e.theme.WorkerDirectory.QueueItem.Avatar.background,e.theme.WorkerDirectory.Item.lightHover,!0)}),t.ButtonContainer=v.default("div")(a||(a=r(["\n    display: none;\n"],["\n    display: none;\n"]))),t.PopupContainer=v.default("div")(s||(s=r(["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    width: 275px;\n    height: 100%;\n    right: 0px;\n    z-index: 100;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    width: 275px;\n    height: 100%;\n    right: 0px;\n    z-index: 100;\n    ","\n"])),function(e){return g.Animations.FadeInOutTransition(e.isOpen)}),t.HeaderPanel=v.default(g.FlexBox)(c||(c=r(["\n    height: 44px;\n    padding-left: 12px;\n    padding-right: 40px;\n    ","\n"],["\n    height: 44px;\n    padding-left: 12px;\n    padding-right: 40px;\n    ","\n"])),function(e){return e.theme.WorkerDirectory.Header.Container}),t.LabelContainer=v.default(g.FlexBox)(l||(l=r(["\n    margin: auto;\n"],["\n    margin: auto;\n"]))),t.Label=v.default("div")(u||(u=r(["\n    width: 100%;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: 1px;\n    text-align: center;\n"],["\n    width: 100%;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: 1px;\n    text-align: center;\n"]))),t.ItemContainer=v.default(g.FlexBox)(p||(p=r(["\n    flex-grow: 1;\n    overflow-y: auto;\n    border-style: solid;\n    border-width: 1px 0 0 0;\n    ","\n"],["\n    flex-grow: 1;\n    overflow-y: auto;\n    border-style: solid;\n    border-width: 1px 0 0 0;\n    ","\n"])),function(e){return e.theme.WorkerDirectory.ItemsContainer}),t.Container=v.default(g.FlexBox)(f||(f=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.WorkerDirectory.Container}),t.StyledInput=v.default(y.default)(d||(d=r(["\n    margin-left: 12px;\n    margin-top: 10px;\n    width: calc(100% - 24px);\n"],["\n    margin-left: 12px;\n    margin-top: 10px;\n    width: calc(100% - 24px);\n"]))),t.InputContainer=v.default("div")(h||(h=r(["\n    flex: 0 0 56px;\n"],["\n    flex: 0 0 56px;\n"]))),t.TabContainer=v.default(g.FlexBoxColumn)(m||(m=r(["\n    overflow-x: hidden;\n"],["\n    overflow-x: hidden;\n"])))},function(e,t){e.exports=require("@material-ui/core/Input")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.SupervisorStateHelper={getTaskBySid:function(e){var t=function(e){var t=r.FlexModule.state.supervisor.stickyWorker;if(t){var n=t.tasks.find(function(t){return t.sid===e});if(n)return n}}(e);if(t)return t;for(var n=r.FlexModule.state.supervisor.workers,o=0;o<n.length;o+=1){if(t=n[o].tasks.find(function(t){return t.sid===e}))return t}},getTaskByTaskSid:function(e){var t=function(e){var t=r.FlexModule.state.supervisor.stickyWorker;if(t){var n=t.tasks.find(function(t){return t.taskSid===e});if(n)return n}}(e);if(t)return t;for(var n=r.FlexModule.state.supervisor.workers,o=0;o<n.length;o+=1){if(t=n[o].tasks.find(function(t){return t.taskSid===e}))return t}},getWorkerBySid:function(e){var t=r.FlexModule.state.supervisor,n=t.workers,o=t.stickyWorker;if(o&&o.worker.sid===e)return o.worker;var i=n.find(function(t){return t.worker.sid===e});return Boolean(i)?i.worker:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(477);t.SideLink=r.SideLink;var o=n(480);t.SideLinkProps=o.SideLinkProps},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=n(40),i={Pending:"TaskReserved",Accepted:"TaskAssigned",Wrapping:"TaskWrapup",Completed:"TaskCompleted",Canceled:"TaskCanceled",Reserved:"TaskReserved",Assigned:"TaskAssigned"};t.SupervisorTaskDetails={Accepted:"SupervisorTaskLive",Pending:"SupervisorTaskLive",Wrapping:"SupervisorTaskWrapUp",Completed:"SupervisorTaskCompleted",Canceled:"SupervisorTaskCompleted",Reserved:"SupervisorTaskLive",Assigned:"SupervisorTaskLive"};var a=o.defaultChannelColors.inactive;function s(e,n,s,c,l){return void 0===s&&(s="GenericTask"),void 0===c&&(c="GenericTaskBold"),void 0===l&&(l=o.defaultChannelColors.custom),{name:e,isApplicable:n,capabilities:new Set([r.TaskChannelCapability.Info]),charLimit:32768,colors:{main:{Reserved:l,Assigned:l,Accepted:l,Pending:l,Canceled:a,Wrapping:a,Completed:a}},icons:{list:{Reserved:c,Assigned:c,Accepted:c,Pending:c,Canceled:s,Wrapping:s,Completed:s},active:c,main:s},templates:{CallCanvas:{titleLine:"TaskLineTitle",firstLine:"TaskHeaderLine",secondLine:i},IncomingTaskCanvas:{titleLine:"TaskLineTitle",firstLine:"TaskHeaderLine",secondLine:i},TaskListItem:{firstLine:"TaskHeaderLine",secondLine:i,extraInfo:"TaskExtraInfo"},TaskCanvasHeader:{title:"TaskHeaderLine",secondLine:i,endButton:{Assigned:"TaskHeaderComplete",Accepted:"TaskHeaderComplete",Reserved:void 0,Wrapping:"TaskHeaderWrapup",Completed:void 0,Canceled:void 0,Pending:void 0}},TaskCard:{firstLine:"SupervisorTaskCardHeader",secondLine:t.SupervisorTaskDetails},TaskInfoPanel:{content:"TaskInfoPanelContent"},Supervisor:{TaskCanvasHeader:{title:"SupervisorTaskHeaderLine",secondLine:i},TaskInfoPanel:{content:"SupervisorTaskInfoPanelContent"},TaskOverviewCanvas:{firstLine:"SupervisorTaskViewContentHeader",secondLine:t.SupervisorTaskDetails}}},componentProps:{},notifications:{override:{}}}}t.createDefaultTaskChannel=s,t.Default=s("default",function(){return!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=function(){function e(e){this.appState=e}return e.prototype.getUnconsumedMessagesCount=function(){var e=this;return Array.from(this.appState.worker.tasks.values()).reduce(function(t,n){return t+e.getUnconsumedMessagesCountForTask(n)},0)},e.prototype.getPendingTasks=function(){return Array.from(this.appState.worker.tasks.values()).filter(function(e){return r.TaskHelper.isPending(e)}).length},e.prototype.getUnconsumedMessagesCountForTask=function(e){if(!r.TaskHelper.isTaskAccepted(e)||!r.TaskHelper.isChatBasedTask(e))return 0;var t=r.TaskHelper.getTaskChatChannelSid(e);return t&&this.appState.chat.channels[t]?this.appState.chat.channels[t].unconsumedMessages.length:0},e.prototype.isAgentView=function(){return Boolean(this.appState.router&&this.appState.router.location&&this.appState.router.location.pathname&&this.appState.router.location.pathname.match(/agent-desktop/))},e}();t.AppStateHelper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(5),a=n(6);function s(e){var t=i.TaskHelper.getTaskChatChannelSid(e);if(t){var n=o.FlexModule.state.chat.channels[t];if(n&&n.source)a.log.debug("chat channel state exists already",t);else{a.log.debug("initializing chat for channel",t);try{r.ChatChannelState.Actions.initWithChannelSid(t)}catch(e){a.log.debug("Unable to init chat for channel",t,e)}}}}t.loadTaskChatChannel=s,t.loadChatChannelsForTasks=function(){a.log.debug("Loading chat channels for all tasks"),o.FlexModule.state.worker.tasks.forEach(function(e){i.TaskHelper.isChatBasedTask(e)&&s(e)})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(6),a=n(24),s=n(63),c=n(25),l=n(240),u=n(5),p=n(0),f=n(9),d=n(61),h=n(7),m=n(13),v={tasks:new Map,listener:void 0,activities:new Map,activity:void 0,attributes:{},source:void 0,worker:void 0},g="WORKER_INIT",y="WORKER_UPDATE",k="WORKER_ADD_RESERVATION",C="WORKER_DELETE_RESERVATION",b="WORKER_UPDATE_RESERVATION";t.reduce=function(e,t){switch(void 0===e&&(e=v),t.type){case g:var n=t.payload;return r(r(r({},v),t.payload),{worker:new l.TaskRouterWorker(n.source)});case c.ACTION_LOGGED_OUT:return v;case y:return r(r({},e),t.payload);case k:case b:var o=t.payload,i=new Map(e.tasks),a=new l.TaskRouterTask(o);return i.set(a.sid,a),r(r({},e),{tasks:i});case C:o=t.payload;var s=new Map(e.tasks);return s.delete(o.sid),r(r({},e),{tasks:s})}return e};var _=function(){function e(){}return e.dispatchWorkerAction=function(e,t){o.FlexModule.dispatch({type:e,payload:t})},e.init=function(e){var t=o.FlexModule.state.worker.listener;t||(t=new O(e)),t.start()},e.addReservation=function(e){this.dispatchWorkerAction(k,e)},e.setCurrentActivity=function(e){var t=o.FlexModule.state.worker.activities.get(e);return t?t.isCurrent?Promise.resolve():t.setAsCurrent():Promise.reject("Activity not found: "+e)},e.setCurrentActivityByName=function(e){var t;return o.FlexModule.state.worker.activities.forEach(function(n){n.name===e&&(t=n)}),t?t.isCurrent?Promise.resolve():t.setAsCurrent():Promise.reject("Activity not found: "+e)},e.updateEndConferenceOnExitForTask=function(e,t){var n=t||e.conference;if(n&&u.TaskHelper.isLiveCall(e)&&"started"===n.status){var r=n.participants.find(function(e){return e.isMyself&&"joined"===e.status}),o=n.liveParticipantCount<=2,a=this.previousEndConferenceOnExits.get(e.sid);i.log.info("Updating endConferenceOnExit for task "+e.sid+". imLivePerConference: "+r+", oldValue: "+a+", newValue: "+o),r&&a!==o&&(i.log.info("Updating endConferenceOnExit done"),this.previousEndConferenceOnExits.set(e.sid,o),e.sourceObject.updateParticipant({endConferenceOnExit:o}))}},e.shutdown=function(){i.log.debug("Worker state logout");var e=o.FlexModule.state.worker.source;if(e)try{e.disconnect()}catch(e){i.log.error("Error on worker disconnect",e)}var t=o.FlexModule.state.worker.listener;t&&t.stop()},e.previousEndConferenceOnExits=new Map,e}();t.Actions=_;var w={};function T(e,t){return function(e,t){return w[e]&&!!w[e][t]}(e,t)?(i.log.debug("duplicate reservation event",t,e),!1):(w[e]=w[e]||{},w[e][t]=!0,!0)}var O=function(){function e(e){var t=this;this.handleActivityUpdated=function(){t.dispatchAction(y,{activity:t._worker.activity,activities:t._worker.activities})},this.handleAttributesUpdated=function(){t.dispatchAction(y,{attributes:t._worker.attributes})},this.handleWorkerReady=function(){t.initAndLoadReservations()},this.handleReservationCreated=function(e){if(i.log.debug("reservationCreated event, sid: "+e.sid,e),t.initReservationListeners(e),_.addReservation(e),T(e.sid,"reservationCreated")){var n=new l.TaskRouterTask(e);t.playSound(n),m.Notifications.showNotification(m.NotificationIds.IncomingTask,{task:n}),u.TaskHelper.isCallTask(n)&&a.ConferenceListenerManager.startListening(n,"worker"+n.sid)}},this.handleReservationUpdated=function(e,n){if(i.log.info("Event, reservation updated",e,n),T(n.sid,e)){var r=m.Notifications.activeNotifications.find(function(e){return e.id===m.NotificationIds.IncomingTask&&e.context.task.sid===n.sid});r&&m.Notifications.dismissNotification(r);var o=new l.TaskRouterTask(n);switch(s.ChatOrchestrator.handleReservationEvent(e,o).catch(function(e){return i.log.error(e)}),e){case"wrapup":t.dispatchAction(b,n);break;case"accepted":t.dispatchAction(b,n),t.stopSound(o),u.TaskHelper.isLiveCall(o)&&_.updateEndConferenceOnExitForTask(o),u.TaskHelper.isCallTask(o)&&o.incomingTransferObject&&"COLD"===o.incomingTransferObject.mode&&h.tryInvokeAction("UnholdCall",{task:o}),u.TaskHelper.isChatBasedTask(o)&&d.loadTaskChatChannel(o);break;case"completed":case"rejected":case"timeout":case"canceled":case"rescinded":t.stopReservationListeners(n),a.ConferenceListenerManager.stopListening(n.task.sid,"worker"+n.sid),t.stopSound(o),t.dispatchAction(C,n),delete w[n.sid]}}},this.handleTaskUpdated=function(e,n){i.log.info("Task updated",e,n.task),t.dispatchAction(b,n)},this._reservationListeners=new Map,this._worker=e,this.currentMediaIds={},this.initAndLoadReservations(),this.start()}return e.prototype.start=function(){this._listening||(i.log.debug("Adding worker listeners"),this._worker.addListener("reservationCreated",this.handleReservationCreated),this._worker.addListener("activityUpdated",this.handleActivityUpdated),this._worker.addListener("attributesUpdated",this.handleAttributesUpdated),this._worker.addListener("ready",this.handleWorkerReady),this._listening=!0)},e.prototype.stop=function(){this._listening&&(i.log.debug("Removing worker listeners"),this._worker.removeListener("reservationCreated",this.handleReservationCreated),this._worker.removeListener("activityUpdated",this.handleActivityUpdated),this._worker.removeListener("attributesUpdated",this.handleAttributesUpdated),this._worker.removeListener("ready",this.handleWorkerReady),this._listening=!1)},e.prototype.initAndLoadReservations=function(){var e=this;this.stopAllReservationListeners();var t=new Map(o.FlexModule.state.worker.tasks);this._worker.reservations.forEach(function(n){var r=new l.TaskRouterTask(n);t.set(n.sid,r),e.initReservationListeners(n),u.TaskHelper.isCallTask(r)&&a.ConferenceListenerManager.startListening(r,"worker"+n.sid),u.TaskHelper.isChatBasedTask(r)&&d.loadTaskChatChannel(r)}),this.dispatchAction(g,{listener:this,source:this._worker,activity:this._worker.activity,activities:this._worker.activities,attributes:this._worker.attributes,tasks:t})},e.prototype.stopAllReservationListeners=function(){var e=this;w={},Array.from(this._reservationListeners.keys()).forEach(function(t){return e.stopReservationListeners(t)})},e.prototype.dispatchAction=function(e,t){_.dispatchWorkerAction(e,t)},e.prototype.stopReservationListeners=function(e){var t=this._reservationListeners.get(e);t&&(t.resListeners.forEach(function(t){e.removeListener(t.event,t.callback)}),t.taskListeners.forEach(function(t){e.task.removeListener(t.event,t.callback)}),this._reservationListeners.delete(e))},e.prototype.initReservationListeners=function(e){var t=this;this.stopReservationListeners(e);var n=[],r=[];["accepted","rejected","timeout","canceled","rescinded","completed","wrapup"].forEach(function(r){var o=function(){return t.handleReservationUpdated(r,e)};e.addListener(r,o),n.push({callback:o,event:r})});["updated","wrapup","completed","canceled"].forEach(function(n){var o=function(){return t.handleTaskUpdated(n,e)};e.task.addListener(n,o),r.push({callback:o,event:n})});var o=function(e){a.ConferenceListenerManager.initOutboundTransfer(e)};e.task.addListener("transferInitiated",o),r.push({event:"transferInitiated",callback:o}),this._reservationListeners.set(e,{resListeners:n,taskListeners:r})},e.prototype.playSound=function(e){var t=this,n=f.TaskChannels.getForTask(e);n.sounds&&(this.currentMediaIds[e.taskSid]=p.AudioPlayerManager.play({url:n.sounds.Pending.url,repeatable:n.sounds.Pending.repeatable},function(e){t.handlePlayError(e)}))},e.prototype.handlePlayError=function(e){var t;t=e.code===p.ErrorCode.NotAllowed?m.NotificationIds.AudioPlayerDeniedErrorNotificationId:e.code===p.ErrorCode.InvalidMedia?m.NotificationIds.AudioPlayerInvalidMediaErrorNotificationId:m.NotificationIds.AudioPlayerGenericErrorNotificationId,m.Notifications.showNotification(t)},e.prototype.stopSound=function(e){this.currentMediaIds[e.taskSid]&&p.AudioPlayerManager.stop(this.currentMediaIds[e.taskSid])},e.prototype.isListening=function(){return this._listening},e}();t.WorkerListener=O},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(18),c=n(31),l=n(0),u=n(6),p=n(13),f=n(20),d=n(5),h=n(3),m=n(19),v=n(11);!function(e){e.AddToChatChannel="AddToChatChannel",e.DeactivateChatChannel="DeactivateChatChannel",e.LeaveChatChannel="LeaveChatChannel"}(a=t.ChatOrchestration||(t.ChatOrchestration={}));var g={accepted:new Set([a.AddToChatChannel]),wrapup:new Set([a.DeactivateChatChannel]),completed:new Set([a.DeactivateChatChannel,a.LeaveChatChannel])},y=function(){function e(){var e;this.events=r({},g),this.mapEventToFunc=((e={})[a.AddToChatChannel]=this.addWorkerToChatChannelInternal,e[a.DeactivateChatChannel]=this.deactivateChatChannelInternal,e[a.LeaveChatChannel]=this.leaveAgentFromChatInternal,e)}return e.prototype.getOrchestrations=function(e){var t=this.events[e];return this.isChatOrchestrationsCallbackType(t)?t:Array.from(t)},e.prototype.setOrchestrations=function(e,t){if(this.isChatOrchestrationsCallbackType(t))return u.log.debug("ChatOrchestrator setOrchestrations, event: "+e+", orchestrations: callback"),void(this.events[e]=t);var n=this.getOrchestrationsSet(e,t);this.events[e]=n;var r=Array.from(n).join(", ");u.log.debug("ChatOrchestrator setOrchestrations, event: "+e+", orchestrations: ["+r+"]")},e.prototype.clearAllOrchestrations=function(){var e=this;u.log.debug("ChatOrchestrator clearAllOrchestrations"),Object.keys(this.events).forEach(function(t){e.events[t]=new Set})},e.prototype.orchestrateWrapupTask=function(e){return u.log.debug("ChatOrchestrator orchestrateWrapupTask"),this.handleReservationEvent("wrapup",e)},e.prototype.orchestrateCompleteTask=function(e){return u.log.debug("ChatOrchestrator orchestrateCompleteTask"),this.handleReservationEvent("completed",e)},e.prototype.handleReservationEvent=function(e,t){return o(this,void 0,Promise,function(){var n,r,o,a,s,c,l;return i(this,function(i){switch(i.label){case 0:if(!d.TaskHelper.isChatBasedTask(t))return[2,!1];if(n=this.events[e],this.isChatOrchestrationsCallbackType(n)&&(r=n(t),n=this.getOrchestrationsSet(e,r)),!n)return[2,!1];if(!(o=Array.from(n.values())).length)return u.log.debug("ChatOrchestrator no events to handle for "+e+" in "+t.sid),[2,!1];a=Array.from(o).join(", "),u.log.debug("ChatOrchestrator handleReservationEvent event: "+e+" for "+t.sid+", orchestrations: ["+a+"]"),s=!1,c=0,i.label=1;case 1:return c<o.length?(l=o[c],[4,(0,this.mapEventToFunc[l])(t)]):[3,4];case 2:s=i.sent()||s,i.label=3;case 3:return c++,[3,1];case 4:return[2,s]}})})},e.prototype.addWorkerToChatChannelInternal=function(e){return o(this,void 0,void 0,function(){var t,n,r,o,a;return i(this,function(i){return h.FlexModule.chatClient?(t=m.StateHelper.getChatChannelStateForTask(e))&&t.source&&"joined"===t.source.status?(u.log.debug("ChatOrchestrator addAgentToChatChannel - chat channel state exists already"),[2,!1]):(n=d.TaskHelper.getTaskChatChannelSid(e))?(u.log.debug("ChatOrchestrator addAgentToChatChannel for "+e.sid),r=v.getChatOrchestrationServiceUrl(h.FlexModule.state.config),o=c.stringify({Identity:h.FlexModule.chatClient.user.identity,ChatChannelSid:n}),a={auth:{username:"token",password:h.FlexModule.chatClient.token},headers:{"Content-Type":"application/x-www-form-urlencoded"}},u.log.debug("requesting to join channel for task",n,e.sid),[2,s.default.post(r+"/Users",o,a).then(function(){return u.log.debug("Request to join channel successfully sent",n,e.sid),!0}).catch(function(t){return 409===t.response.status?(u.log.warn("Agent is already in the chat channel",n,e.sid),!0):(p.Notifications.showNotification(f.ChatOrchestrationAddToChatChannelFailed),u.log.error("Failed to join channel",n,e.sid,t),!1)})]):(u.log.warn("ChatOrchestrator addAgentToChatChannel - No chat channel sid in task",e),[2,!1]):(u.log.debug("chat client not ready yet, loading channel later"),[2,!1])})})},e.prototype.deactivateChatChannelInternal=function(e){return o(this,void 0,void 0,function(){var t,n,o,a,s;return i(this,function(i){switch(i.label){case 0:if(!(t=m.StateHelper.getChatChannelStateForTask(e)))return[3,5];if(!(n=t.source))throw p.Notifications.showNotification(f.ChatOrchestrationDeactivateChatChannelFailed),a=d.TaskHelper.getTaskChatChannelSid(e),new Error("ChatOrchestrator DeactivateChatChannel failed for task "+e.sid+" channelSid: "+a+". Chat channel is not loaded.");if(n.attributes[l.FrameConstants.CHANNEL_STATUS_ATTRIBUTE]===l.FrameConstants.CHANNEL_STATUS_INACTIVE)return u.log.trace("ChatOrchestrator DeactivateChatChannel channel already inactive "+e.sid),[2,!1];u.log.debug("ChatOrchestrator DeactivateChatChannel for "+e.sid),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.source.updateAttributes(r(r({},t.source.attributes),(s={},s[l.FrameConstants.CHANNEL_STATUS_ATTRIBUTE]=l.FrameConstants.CHANNEL_STATUS_INACTIVE,s)))];case 2:return i.sent(),u.log.debug("ChatOrchestrator DeactivateChatChannel for "+e.sid+" done"),[3,4];case 3:throw o=i.sent(),p.Notifications.showNotification(f.ChatOrchestrationDeactivateChatChannelFailed),a=d.TaskHelper.getTaskChatChannelSid(e),u.log.error("ChatOrchestrator DeactivateChatChannel for "+e.sid+" error, channelSid: "+a,o),o;case 4:return[2,!0];case 5:return u.log.debug("ChatOrchestrator DeactivateChatChannel chat channel not found for "+e.sid),[2,!1]}})})},e.prototype.leaveAgentFromChatInternal=function(e){return o(this,void 0,void 0,function(){var t,n;return i(this,function(r){return u.log.debug("ChatOrchestrator leaveAgentFromChat for "+e.sid),(t=d.TaskHelper.getTaskChatChannelSid(e))?(n=m.StateHelper.getChatChannelStateForTask(e))?[2,n.source.leave().then(function(){return u.log.debug("ChatOrchestrator leaveAgentFromChat for "+e.sid+" done"),!0}).catch(function(e){throw p.Notifications.showNotification(f.ChatOrchestrationLeaveChatChannelFailed),u.log.error("Failed to leave chat channel",t,e),e})]:(u.log.trace("No chat channel state for task",e),[2,!1]):(u.log.trace("chat channel sid for task does not exist",e),[2,!1])})})},e.prototype.isChatOrchestrationsCallbackType=function(e){return"function"==typeof e},e.prototype.getOrchestrationsSet=function(e,t){if(!Array.isArray(t))return new Set;var n=new Set(t);return this.validateOrchestrations(e,n),n},e.prototype.validateOrchestrations=function(e,t){var n=this;if(t.forEach(function(e){if(!n.mapEventToFunc[e])throw new Error("Unknown orchestration: "+e)}),"accepted"===e&&(t.has(a.DeactivateChatChannel)||t.has(a.LeaveChatChannel)))throw new Error("DeactivateChatChannel and LeaveChatChannel are not valid orchestrations for 'accept'")},e}();t.ChatOrchestrationManager=y,t.ChatOrchestrator=new y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(217);t.QueueStatsConnectionStatusInfo=r.QueueStatsConnectionStatusInfo;var o=n(219);t.QueueStatsConnectionStatusInfoText=o.QueueStatsConnectionStatusInfoText},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),i=n(3),a=n(6),s=n(13),c=n(0),l={listener:void 0,connection:void 0,connections:[]},u="PHONE_INIT",p="PHONE_ADD_CONNECTION",f="PHONE_REMOVE_CONNECTION",d="PHONE_TOGGLE_MUTE",h="PHONE_UNINIT",m="PHONE_HOLD_CONNECTION",v="PHONE_UNHOLD_CONNECTION";t.reduce=function(e,t){switch(void 0===e&&(e=l),t.type){case u:var n=t.payload;return r(r({},l),{listener:n.listener});case h:return l;case v:case d:case p:var o=k(t.payload,!1);return r(r({},e),{connection:o,connections:[o]});case m:return o=k(t.payload,!0),r(r({},e),{connection:o,connections:[o]});case f:return r(r({},e),{connection:void 0,connections:[]});default:return e}};var g=function(){function e(){}return e.dispatchPhoneAction=function(e,t){i.FlexModule.dispatch({type:e,payload:t})},e.init=function(e,t){var n=new y(e,t);this.dispatchPhoneAction(u,{listener:n})},e.oldHoldConnection=function(){i.FlexModule.state.phone.connection&&e.dispatchPhoneAction(m,i.FlexModule.state.phone.connection.source)},e.oldUnHoldConnection=function(){i.FlexModule.state.phone.connection&&e.dispatchPhoneAction(v,i.FlexModule.state.phone.connection.source)},e.shutdown=function(){a.default.info("Phone state shutdown");var e=i.FlexModule.state.phone.listener;e&&e.stop(),o.Device.destroy(),this.dispatchPhoneAction(h,null)},e}();t.Actions=g;var y=function(){function e(e,t){var n=this;this.handleDeviceReady=function(e){a.default.info("handleDeviceReady",n,e)},this.handleDeviceError=function(e){31201===e.code&&c.Notifications.showNotification(s.NotificationIds.MicTaken),a.default.error("device error",e)},this.handleDeviceConnect=function(e){a.default.info("connection connected",e),e.on("mute",n.handleConnectionMute),g.dispatchPhoneAction(p,e)},this.handleDeviceDisconnect=function(e){a.default.info("connection disconnected",e),e.removeListener("mute",n.handleConnectionMute),g.dispatchPhoneAction(f,void 0)},this.handleDeviceIncoming=function(e){a.default.info("connection incoming",e),e.accept()},this.handleDeviceCancel=function(e){a.default.info("connection was cancelled",e)},this.handleConnectionMute=function(e){a.default.info("connection was "+(e?"muted":"unmuted")),g.dispatchPhoneAction(d,i.FlexModule.state.phone.connection.source)},o.Device.setup(e,t),this.start()}return e.prototype.start=function(){this._listening||(o.Device.on("ready",this.handleDeviceReady),o.Device.on("connect",this.handleDeviceConnect),o.Device.on("disconnect",this.handleDeviceDisconnect),o.Device.on("error",this.handleDeviceError),o.Device.on("incoming",this.handleDeviceIncoming),o.Device.on("cancel",this.handleDeviceCancel),this._listening=!0)},e.prototype.stop=function(){this._listening&&(o.Device.removeListener("ready",this.handleDeviceReady),o.Device.removeListener("connect",this.handleDeviceConnect),o.Device.removeListener("disconnect",this.handleDeviceDisconnect),o.Device.removeListener("error",this.handleDeviceError),o.Device.removeListener("incoming",this.handleDeviceIncoming),o.Device.removeListener("cancel",this.handleDeviceCancel),this._listening=!1)},e.prototype.isListening=function(){return this._listening},e}();function k(e,t){return{oldHold:t,source:e}}t.DeviceListener=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.file="file"}(t.LoggerType||(t.LoggerType={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(68),a=n(103),s=n(110),c=n(6);t.getDefaultStore=function(){return o};var l,u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionSanitizer:function(e){return e},stateSanitizer:function(e){return e.flex.config?r(r({},e),{flex:r(r({},e.flex),{chat:"<<CUT FOR DEV>>",insights:"<<CUT FOR DEV>>",supervisor:"<<CUT FOR DEV>>"})}):e}})||i.compose;t.flexStoreEnhancer=function(e){return function(t,n,o){l=t;var i=r(r({},e(t,n,o)),{addReducer:function(e,t){if("flex"!==e){var n=l,o=function(o,i){var a;void 0===o&&(o={});var s,c=r({},o);c&&c[e]&&(s=c[e],delete c[e]);var l=n(c,i),u=t(s,i);return c===l&&s===u?o:r(r({},l),((a={})[e]=u,a))};l=o,i.replaceReducer(o)}else c.log.debug("Cannot add reducer with name `flex`")}});return i}},t.createDefaultStore=function(e){if(o)return c.log.error("default store already exists"),null;var n=i.combineReducers({flex:a.FlexReducer});return o=i.createStore(n,u(s.applyFlexMiddleware(e.history),t.flexStoreEnhancer))}},function(e,t){e.exports=require("redux")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(43);t.FLEX_LOCATION_CHANGE="@@flex/LOCATION_CHANGE",t.createReducer=function(e){return function(n,i){var a=i.type===t.FLEX_LOCATION_CHANGE,s=i.type===o.LOCATION_CHANGE,c=e&&e.router&&e.router.isolate,l=i;return s&&c?n:(a&&(l=r(r({},i),{type:o.LOCATION_CHANGE})),o.routerReducer.call(null,n,l))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=n(14),c=n(3),l=n(6);t.initialState={queuesList:{},aggregatedData:{activeTasks:0,waitingTasks:0,agentByActivity:{},longestWaitQueue:{}},hasFetchedList:!1},t.UPDATE_QUEUES="FLEX_UPDATE_QUEUES",t.NO_QUEUE_FOUND="FLEX_NO_QUEUE_FOUND",t.reduce=function(e,n){switch(void 0===e&&(e=t.initialState),n.type){case t.UPDATE_QUEUES:var o=r(r({},e.queuesList),n.payload.queues),i=r(r({},e.aggregatedData),p.getWorkspaceRealtimeStats(n.payload.workspaceStats,n.payload.queues));return r(r({},e),{queuesList:o,aggregatedData:i,hasFetchedList:!0});case t.NO_QUEUE_FOUND:return r(r({},e),{hasFetchedList:!0});default:return e}};var u=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||c.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.startPolling=function(){return o(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return e=s.Manager.getInstance(),t=e.serviceConfiguration,n=e.configuration.queuesStats,this.workspaceSid=t.taskrouter_workspace_sid,this.accountSid=t.account_sid,this.pollingInterval=Math.max(n.pollInterval,1e3),this.baseUrl=n.baseApiUrl,this.isPollingData=!0,this.activities||(this.activities=c.FlexModule.workerClient.activities),[4,this.handleFetchedQueues()];case 1:return r.sent(),[2]}})})},e.handleFetchedQueues=function(){return o(this,void 0,void 0,function(){var e,n,r,o,a,s,c=this;return i(this,function(i){switch(i.label){case 0:if(!this.isPollingData)return[2];if(this.fetchedQueuesList)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchTaskQueuesList()];case 2:return e=i.sent().data,this.fetchedQueuesList=e,[3,4];case 3:return n=i.sent(),setTimeout(function(){return c.handleFetchedQueues()},this.pollingInterval),[2,l.default.error(n)];case 4:return this.fetchedQueuesList&&this.fetchedQueuesList.task_queues.length?[4,Promise.all([this.fetchWorkspace()].concat(this.fetchedQueuesList.task_queues.map(function(e){return c.fetchTaskQueue(e.sid,e.friendly_name)})))]:[2,this.dispatcher({type:t.NO_QUEUE_FOUND})];case 5:return r=i.sent(),o=r[0],a=r.slice(1),o.activity_statistics=o.activity_statistics.map(function(e){return c.getActivityDetails(e)}),s=a.reduce(function(e,t){return t&&(e[t.task_queue_sid]=c.setQueueActivitiesDetails(t)),e},{}),this.dispatcher({type:t.UPDATE_QUEUES,payload:{queues:s,workspaceStats:o}}),setTimeout(function(){return c.handleFetchedQueues()},this.pollingInterval),[2]}})})},e.stopPolling=function(){this.isPollingData=!1},e.fetchTaskQueuesList=function(){return this.makeAuthenticatedGetCall(""+this.baseUrl+this.workspaceSid+"/TaskQueues/")},e.fetchTaskQueueRealTimeStats=function(e){return this.makeAuthenticatedGetCall(""+this.baseUrl+this.workspaceSid+"/TaskQueues/"+e+"/RealTimeStatistics/")},e.fetchWorkspaceRealTimeStats=function(){return this.makeAuthenticatedGetCall(""+this.baseUrl+this.workspaceSid+"/RealTimeStatistics/")},e.fetchTaskQueue=function(e,t){return o(this,void 0,void 0,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.fetchTaskQueueRealTimeStats(e)];case 1:return n=i.sent(),[2,r({friendly_name:t},n.data)];case 2:return o=i.sent(),l.default.error("Failed to load stats for queue "+e+".",o),[2,{}];case 3:return[2]}})})},e.fetchWorkspace=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.fetchWorkspaceRealTimeStats()];case 1:return[2,t.sent().data];case 2:return e=t.sent(),l.default.error("Failed to load realtime stats for workspace",e),[2,{}];case 3:return[2]}})})},e.makeAuthenticatedGetCall=function(e){var t=c.FlexModule.state.session.ssoTokenPayload.token;return a.default.get(e,{auth:{username:"token",password:t}})},e.setQueueActivitiesDetails=function(e){var t=this,n=e.activity_statistics.map(function(e){return t.getActivityDetails(e)});return r(r({},e),{activity_statistics:n})},e.getActivityDetails=function(e){return r(r({},e),{available:this.activities.get(e.sid).available})},e}();t.Actions=u;var p=function(){function e(){}return e.getWorkspaceRealtimeStats=function(e,t){var n=e.tasks_by_status;return{activeTasks:n.assigned+n.wrapping,waitingTasks:n.reserved+n.pending,longestWaitQueue:{friendlyName:this.getLongestQueueWaitFriendlyName(t),time:e.longest_task_waiting_age},agentByActivity:this.getWorkspaceAgentsByActivity(e)}},e.getLongestQueueWaitFriendlyName=function(e){return Object.keys(e).map(function(t){return e[t]}).reduce(function(e,t){return t.longest_task_waiting_age>e.longest_task_waiting_age?t:e}).friendly_name},e.getQueueAgentsByActivity=function(e,t){var n=this,r=function(e,r){return t.activity_statistics.filter(function(t){return t.available===e&&n.isOfflineActivity(t)===r}).reduce(function(e,t){return e+t.workers},0)};return{availableAgents:r(!0,!1)+(e.availableAgents||0),offlineAgents:r(!1,!0)+(e.offlineAgents||0),unavailableAgents:r(!1,!1)+(e.unavailableAgents||0)}},e.getWorkspaceAgentsByActivity=function(e){var t=this,n=function(n,r){return e.activity_statistics.filter(function(e){return e.available===n&&t.isOfflineActivity(e)===r}).reduce(function(e,t){return e+t.workers},0)};return{availableAgents:n(!0,!1),offlineAgents:n(!1,!0),unavailableAgents:n(!1,!1)}},e.isOfflineActivity=function(e){var t=s.Manager.getInstance().serviceConfiguration.taskrouter_offline_activity_sid;return t&&t===e.sid||"Offline"===e.friendly_name},e}();t.AggregatedDataHelpers=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(232),i=n(6);function a(e){return"browser"===e||"memory"===e}t.isHistory=function(e){var t=e;return!!(t&&t.length&&t.location&&t.listen&&t.action&&t.push&&t.replace&&t.go&&t.goBack&&t.goForward)},t.isHistoryType=a,t.isHistoryParams=function(e){var t=e;return t&&("string"==typeof t.type||"boolean"==typeof t.isolate||"object"==typeof t.history)},t.default=function(e){if(void 0===e&&(e={type:"browser"}),!r){var t=e.isolate?"memory":e.type;r=function(e){return"memory"===e?o.createMemoryHistory:(a(e)||i.log.error("History type '"+e+"' is not supported. Use 'browser' or 'memory' type for router configuration."),o.createBrowserHistory)}(t)(e.history)}return r},t.setHistory=function(e){r=e}},function(e,t){e.exports=require("uuid")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),o=/^\/?(login\/)?([^/]*)\/?/;function i(){var e=window.location.search||"";if(!e)return"/";var t=r.parse(e),n=Array.isArray(t.path)?t.path[0]:t.path;return n?(n.endsWith("/")||(n+="/"),n.startsWith("/")||(n="/"+n),n):"/"}function a(){var e=r.parse(window.location.search);return Array.isArray(e.path)?e.path.shift():"string"==typeof e.path&&delete e.path,r.stringify(e)}t.RUNTIME_DOMAIN_REGEXP=/^([a-z]+-[a-z]+-\d+)$/,t.parseRuntimeDomainFromPathName=function(){var e=window.location.pathname.match(o),n=e&&e[2],r=e&&!!e[1];if(!n)return"";if(r)return n;var i=n.match(t.RUNTIME_DOMAIN_REGEXP);return i&&i[1]?i[1]:""},t.parseDestinationPathFromSearch=i,t.getUserParamsFromSearch=a,t.getDestinationURLFromLocation=function(){var e=i();"/"===e&&((e=window.location.pathname).endsWith("/")||(e+="/"));var t=a();return t&&(t="?"+t),""+window.location.origin+e+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(253);t.TaskCanvasTabs=r.TaskCanvasTabs},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(265);t.MuteButton=r.MuteButton,t.MuteButtonProps=r.MuteButtonProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(12),l=n(274),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return a.createElement(p,o({},this.props))},t.displayName="TaskInfoPanel",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={content:n.Content},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskInfoPanel=u;var p=c.withTaskContext(l.TaskInfoPanelImpl)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(279);t.TaskCanvasHeader=r.TaskCanvasHeader},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(284);t.AggregatedQueuesDataTilesProps=r.AggregatedQueuesDataTilesProps,t.AggregatedQueuesDataTiles=r.AggregatedQueuesDataTiles;var o=n(300);t.QueuesDataTableProps=o.QueuesDataTableProps,t.QueuesDataTable=o.QueuesDataTable;var i=n(15);t.ActivityStatistic=i.ActivityStatistic,t.WorkerQueue=i.WorkerQueue,t.WorkspaceStats=i.WorkspaceStats;var a=n(15);t.setFilter=function(e){return a.Actions.setFilter(e)}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u=n(2),p=n(0);t.Container=u.default("div")(o||(o=r(["\n    max-width: 200px;\n    ","\n"],["\n    max-width: 200px;\n    ","\n"])),function(e){return e.large&&{minWidth:"120px;",maxWidth:"180px;"}}),t.UserActivityControls=u.default(p.Menu)(i||(i=r(["\n    white-space: nowrap;\n    min-width: 200px;\n    box-shadow: -1px 1px 3px 0 rgba(0, 0, 0, 0.4);\n"],["\n    white-space: nowrap;\n    min-width: 200px;\n    box-shadow: -1px 1px 3px 0 rgba(0, 0, 0, 0.4);\n"]))),t.AccountMenuItem=u.default(p.MenuItem)(a||(a=r(["\n    font-weight: normal;\n    letter-spacing: initial;\n    font-weight: ",";\n"],["\n    font-weight: normal;\n    letter-spacing: initial;\n    font-weight: ",";\n"])),function(e){return e.selected&&"bold"}),t.AccountMenuItemLogout=u.default(p.MenuItem)(s||(s=r(["\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 12px;\n    font-size: 12px;\n    letter-spacing: initial;\n\n    & > span {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"],["\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 12px;\n    font-size: 12px;\n    letter-spacing: initial;\n\n    & > span {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"]))),t.AccountMenuDivider=u.default("li")(c||(c=r(["\n    height: 1px;\n    ","\n"],["\n    height: 1px;\n    ","\n"])),function(e){return e.theme.UserActivityControls.Divider}),t.AccountMenuTitle=u.default("li")(l||(l=r(["\n    font-size: 12px;\n    font-weight: bold;\n    padding-top: 4px;\n    padding-bottom: 3px;\n    padding-left: 12px;\n    padding-right: 12px;\n    ","\n"],["\n    font-size: 12px;\n    font-weight: bold;\n    padding-top: 4px;\n    padding-bottom: 3px;\n    padding-left: 12px;\n    padding-right: 12px;\n    ","\n"])),function(e){return e.theme.UserActivityControls.Item})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(325),s=n(326),c=n(327),l=n(328),u=n(113),p=function(){function e(){}return e.getPredefined=function(e){var t={MediumTheme:a.default,DarkTheme:s.default,BlueMediumTheme:l.default,BlueDarkTheme:c.default},n=r(r({},t),{GreyDark:s.GreyDark,GreyLight:a.GreyLight,FlexDark:c.FlexDark,FlexLight:l.FlexLight})[e];return n||(n=l.FlexLight),n},e}();t.ThemeColorsDefinitionCreator=p;var f=function(){function e(){}return e.getPredefinedTheme=function(e){return p.getPredefined(e)},o([u.deprecatedMethod("ThemeColorsDefinitionCreator.getPredefined"),i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",Object)],e,"getPredefinedTheme",null),e}();t.ThemeDefCreator=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(5),l=n(149),u=n(149);t.TaskListContext=u.TaskListContext;var p=function(e,t){var n=c.TaskHelper.isPending(e),r=c.TaskHelper.isPending(t);return n!==r?r?1:-1:n&&r?t.dateUpdated.getTime()-e.dateUpdated.getTime():t.dateCreated.getTime()-e.dateCreated.getTime()},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.updateAll=function(){},t.prototype.render=function(){return a.createElement(l.TaskListImpl,o({},this.props))},t.displayName=l.displayName,t.Content=l.contentStore,t.IncludeAllFilter={callback:function(){return!0}},t.defaultProps={compareFunction:p},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskList=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(363),s=n(2),c=n(12),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(u,o({},this.props))},t.friendlyName=a.displayName,t.displayName=a.displayName,t.Content=a.contentStore,t}(i.PureComponent);t.WorkerDirectoryTabs=l;var u=s.withTheme(c.withTaskContext(a.WorkerDirectoryTabsImpl))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(165);t.LoginFormView=r.LoginFormView,t.LoginFormViewProps=r.LoginFormViewProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(402);t.TaskCardPlaceholder=r.TaskCardPlaceholder},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p,f,d,h=n(55),m=n(416),v=n(0),g=n(2);t.Container=g.default(v.FlexBox)(o||(o=r(["\n    padding-top: 12px;\n    padding-bottom: 12px;\n"],["\n    padding-top: 12px;\n    padding-bottom: 12px;\n"]))),t.SkillsContainer=g.default(v.FlexBox)(i||(i=r(["\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n"],["\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n"]))),t.NoSkillsContainer=g.default(v.FlexBox)(a||(a=r(["\n    margin-top: 16px;\n    & > * {\n        margin: auto;\n    }\n"],["\n    margin-top: 16px;\n    & > * {\n        margin: auto;\n    }\n"]))),t.NotificationTextContainer=g.default(v.FlexBox)(s||(s=r(["\n    margin-top: 12px;\n    font-size: 10px;\n    & > * {\n        margin: auto;\n    }\n"],["\n    margin-top: 12px;\n    font-size: 10px;\n    & > * {\n        margin: auto;\n    }\n"]))),t.ButtonsContainer=g.default(v.FlexBox)(c||(c=r(["\n    margin-top: 32px;\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    justify-content: center;\n    & > * {\n        margin-left: 6px;\n        margin-right: 6px;\n        min-width: 100px;\n    }\n"],["\n    margin-top: 32px;\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    justify-content: center;\n    & > * {\n        margin-left: 6px;\n        margin-right: 6px;\n        min-width: 100px;\n    }\n"]))),t.AddPanelContainer=g.default(v.FlexBox)(l||(l=r(["\n    padding-left: 12px;\n    padding-right: 12px;\n    min-height: 48px;\n"],["\n    padding-left: 12px;\n    padding-right: 12px;\n    min-height: 48px;\n"]))),t.StyledFormControlLabel=g.default(m.default)(u||(u=r(["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-bottom: auto;\n"],["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-bottom: auto;\n"]))),t.StyledSkillLevelInput=g.default(h.default)(p||(p=r(["\n    flex: 0 0 56px;\n    height: 32px;\n    width: 56px;\n"],["\n    flex: 0 0 56px;\n    height: 32px;\n    width: 56px;\n"]))),t.RightButtonContainer=g.default("div")(f||(f=r(["\n    display: flex;\n    flex: 0 0 28px;\n    margin-left: 12px;\n    & > * {\n        margin: auto;\n    }\n"],["\n    display: flex;\n    flex: 0 0 28px;\n    margin-left: 12px;\n    & > * {\n        margin: auto;\n    }\n"]))),t.LevelInputAndButtonContainer=g.default(v.FlexBox)(d||(d=r(["\n    flex-basis: 0;\n"],["\n    flex-basis: 0;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSkillLevelOk=function(e){return!e.multivalue||e.level>=e.minimum&&e.level<=e.maximum}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(448)),r(n(463))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(39)),r(n(22));var o=n(33);t.languages=o.languages,t.Strings=o.Strings,r(n(507)),r(n(146));var i=n(63);t.ChatOrchestrator=i.ChatOrchestrator,t.ChatOrchestratorEvent=i.ChatOrchestration,r(n(103)),r(n(110)),r(n(19));var a=n(67);t.FlexState=a.FlexState,t.flexStoreEnhancer=a.flexStoreEnhancer,r(n(5)),r(n(23)),r(n(10));var s=n(9);t.DefaultTaskChannels=s.DefaultTaskChannels,t.TaskChannels=s.TaskChannels,r(n(114));var c=n(508),l=n(13);c.registerActions(),l.registerToNotifications();var u=n(13);t.NotificationIds=u.NotificationIds,t.Notifications=u.Notifications,t.NotificationType=u.NotificationType,t.NotificationEvent=u.NotificationEvent;var p=n(32);t.VERSION=p.VERSION,n(115),r(n(80));var f=n(80);t.ThemeColorsDefinition=f.ThemeColorsDefinition,t.ThemeDef=f.ThemeDef;var d=n(39);t.Theme=d.Theme,t.ThemeProps=d.ThemeProps,r(n(512)),n(516).initialize()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90);t.TaskOverviewCanvas=r.TaskOverviewCanvas,t.TaskOverviewCanvasProps=r.TaskOverviewCanvasProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(200),l=n(243),u=n(47),p=n(10),f=n(8),d=n(2),h=n(120),m=n(5),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e,t=this.props,r=t.firstLine,i=t.secondLine,s=t.task,f=t.channelDefinition;return t.conference&&m.TaskHelper.isLiveCall(s)&&(e=a.createElement(h.ParticipantsCanvas,{includeMyself:!0,hideActions:!0})),a.createElement(u.TaskDetailsPanel,o({content:n.Content,IconComponent:l.TaskOverviewIcon,ActionsComponent:c.SupervisorTaskOverviewActions,contentComponent:e,firstLine:r||p.TaskChannelHelper.getTemplateForStatus(s,f.templates.Supervisor.TaskOverviewCanvas.firstLine,n),secondLine:i},this.props))},t.friendlyName="TaskOverviewCanvas",t.displayName=n.friendlyName,t.Content=new s.DynamicContentStore(n.friendlyName),t=n=i([d.withTheme,f.withTaskContext],t)}(a.PureComponent);t.TaskOverviewCanvas=v},function(e,t){e.exports=require("twilio-client")},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(94);t.Spy=o.Spy,t.PredefinedSpies=o.PredefinedSpies,t.NotifyCallback=o.NotifyCallback;var i=n(207);t.Formatter=i.Formatter,t.PredefinedFormatters=i.PredefinedFormatters;var a=n(209);t.Storage=a.Storage,t.PredefinedStorages=a.PredefinedStorages;var s,c=n(211);t.Transport=c.Transport,t.PredefinedTransports=c.PredefinedTransports,function(e){e.isLogging="isLogging",e.ready="ready"}(s||(s={}));var l=function(){function e(t){var n=this,s=t.identifier;this.config=r(r(r({},e.defaults),{identifier:s}),t),this.storage="function"==typeof this.config.storage?this.config.storage():a.getStorage(r({identifier:this.config.identifier},this.config.storage));var l=this.storage?function(e){return n.storage.add(e)}:function(e){return n.flush([e])};this.spies=this.config.spies.map(function(e){return"function"==typeof e?e({trigger:l}):o.getSpy(r({trigger:l},e))}),this.formatter="function"==typeof this.config.formatter?this.config.formatter():i.getFormatter(this.config.formatter),this.transport="function"==typeof this.config.transport?this.config.transport():c.getTransport(this.config.transport),this.start=this.start.bind(this)}return e.prototype.start=function(){this.isReady()&&(this.setState(s.isLogging,!0),this.spies.forEach(function(e){return e.start()}))},e.prototype.stop=function(){this.spies.forEach(function(e){return e.stop()}),this.storage.clear(),this.setState(s.ready,!1),this.setState(s.isLogging,!1)},e.prototype.flush=function(e){e=void 0===e&&this.storage?this.storage.get():e;var t=this.formatter(e);return this.transport.flush(t)},e.prototype.isReady=function(){return this.getState(s.ready)},e.prototype.isLogging=function(){return!!this.getState(s.isLogging)},e.prototype.prepare=function(){var e=this;return new Promise(function(t){e.setState(s.ready,!0),t()})},e.prototype.setState=function(t,n){var o,i=JSON.parse(window.localStorage.getItem(e.persistKey))||{};i[this.config.identifier]=r(r({},i[this.config.identifier]),((o={})[t]=n,o)),window.localStorage.setItem(e.persistKey,JSON.stringify(i))},e.prototype.getState=function(t){var n=(JSON.parse(window.localStorage.getItem(e.persistKey))||{})[this.config.identifier]||{};return t?n[t]:n},e.persistKey="FLEX_LOG_STATE",e.defaults={spies:[],storage:{type:a.PredefinedStorages.LocalStorage},transport:{type:c.PredefinedTransports.File},formatter:{type:i.PredefinedFormatters.String}},e}();t.LogManager=l},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(30);t.Spy=o.Spy,t.NotifyCallback=o.NotifyCallback,t.OnStartCallback=o.OnStartCallback;var i,a=n(203),s=n(204),c=n(205),l=n(206);!function(e){e.ClassProxy="ClassProxy",e.EventEmitter="EventEmitter",e.DOMEvents="DOMEvents",e.Loglevel="Loglevel"}(i=t.PredefinedSpies||(t.PredefinedSpies={})),t.getSpy=function(e){var t=e.type,n=r(e,["type"]);switch(e.type){case i.ClassProxy:return new a.ClassProxySpy(n);case i.EventEmitter:return new s.EventEmitterSpy(n);case i.DOMEvents:return new c.DOMEventsSpy(n);case i.Loglevel:return new l.LoglevelSpy(n);default:console.error("invalid spy type: "+t)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return void 0===e&&(e=0),function(t){var n=r({},t);return Object.getOwnPropertyNames(n).forEach(function(t){var r=n[t];"object"!=typeof r||Array.isArray(r)||null===r||(n[t]=e>=1?"<Object>":o(e+1)(r))}),n}};t.stringify=function(e){return JSON.stringify(e,function(e,t){return"function"==typeof t?"<Function>":"object"!=typeof t||null===t||Array.isArray(t)?t:o()(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){this.add=this.add.bind(this),this.get=this.get.bind(this),this.clear=this.clear.bind(this)}}();t.Storage=r},function(e,t){e.exports=require("lodash.debounce")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){}}();t.Transport=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,a=n(0),s=n(59),c=n(23),l=n(5),u=n(40),p=n(7),f=n(100),d=function(e,t){if(e.incomingTransferObject&&"pending"===e.status)return"WORKER"===e.incomingTransferObject.type?t===o?"TaskLineCallTransferWorkerDetail":"TaskLineCallTransferWorker":t===o?"TaskLineCallTransferQueueDetail":"TaskLineCallTransferQueue";switch(e.status){case"pending":return t===o?"TaskLineQueue":"TaskLineCallReserved";case"accepted":return e.conference&&e.conference.liveParticipantCount>2?"TaskLineGroupCallAssigned":"TaskLineCallAssigned";case"wrapping":if(t===r)return;return"TaskLineCallWrapup";default:return""}},h=function(e,t){switch(e.status){case"accepted":return e.conference&&e.conference.liveParticipantCount>2?"TaskHeaderLeaveCall":"TaskHeaderEndCall";case"wrapping":return"TaskHeaderComplete";default:return""}},m=function(e,t){switch(e.status){case"accepted":return e.conference&&e.conference.liveParticipantCount>2?"SupervisorTaskGroupCall":"SupervisorTaskLive";case"pending":return"SupervisorTaskLive";case"wrapping":return"SupervisorTaskWrapUp";default:return"SupervisorTaskCompleted"}},v=function(e,t){if(e.incomingTransferObject&&"pending"===e.status)return"TaskLineCallTransferTitle";switch(e.status){case"pending":return"TaskLineCallIncomingTitle";case"wrapping":return"TaskLineCallEndedTitle";default:return""}},g=function(e,t){switch(e.status){case"pending":return"TaskHeaderStatusPending";case"accepted":return e.conference&&e.conference.liveParticipantCount>2?"TaskHeaderGroupCallAccepted":"TaskHeaderStatusAccepted";case"wrapping":return"TaskHeaderStatusWrapup";case"completed":return"TaskHeaderStatusCompleted";default:return""}},y={IncomingTask:function(e,t){var n=e.context.task,r="IncomingCallNotificationTitle",o="IncomingCallBrowserNotificationTitle",i="IncomingCallBrowserNotificationBody";n&&n.incomingTransferObject&&(r="IncomingCallTransferNotificationTitle",o="IncomingCallTransferBrowserNotificationTitle",i="WORKER"===n.incomingTransferObject.type?"IncomingCallTransferWorkerBrowserNotificationBody":"IncomingCallTransferQueueBrowserNotificationBody"),e.content=r,e.timeout=0,e.icon="IncomingCallBold",e.actions=f.incomingTaskNotificationActions,e.options||(e.options={}),e.options.browser={title:o,body:i,onClick:function(e,t){p.tryInvokeAction("SelectTask",{task:e.context.task})},options:{requireInteraction:!0}}}};function k(e,t){return a.Utils.merge(s.Default,{name:e,isApplicable:t,capabilities:new Set([c.TaskChannelCapability.Call,c.TaskChannelCapability.Info,c.TaskChannelCapability.Wrapup]),colors:{main:_},icons:{list:C,active:b,main:"Call"},notifications:{override:y},templates:{CallCanvas:{secondLine:d,titleLine:v},IncomingTaskCanvas:{secondLine:d,titleLine:v},TaskListItem:{secondLine:d},TaskCanvasHeader:{secondLine:g,endButton:h},TaskCard:{secondLine:m},Supervisor:{TaskCanvasHeader:{secondLine:g}}},componentProps:{}})}function C(e,t,n){void 0===n&&(n=!1);var r="Call";return i.has(t)&&(r="IncomingCall",e.incomingTransferObject&&"pending"===e.status?r="IncomingTransfer":l.TaskHelper.isRegularConferenceCall(e)&&l.TaskHelper.isGroupCall(e)&&!l.TaskHelper.isInWrapupMode(e)&&!l.TaskHelper.isCompleted(e)?r="GroupCall":l.TaskHelper.isCallOnHold(e)?r="Hold":l.TaskHelper.isLiveCall(e)?r="Call":(l.TaskHelper.isInWrapupMode(e)||l.TaskHelper.isCompleted(e))&&(r="Hangup")),n&&(r+="Bold"),r}function b(e,t,n){return C(e,t,!0)}function _(e,t){return l.TaskHelper.isCallOnHold(e)&&!l.TaskHelper.isGroupCall(e)?u.commonColors.holdColor:l.TaskHelper.isLiveCall(e)||l.TaskHelper.isIncomingCall(e)?u.defaultChannelColors.call:u.defaultChannelColors.inactive}t.createCallTaskChannel=k,t.Call=k("call",function(e){return"voice"===e.taskChannelUniqueName}),t.init=function(e){i||(i=new Set([e.CallCanvas,e.IncomingTaskCanvas,e.TaskCard,e.TaskOverviewCanvas,e.TaskListBaseItem]),r=e.CallCanvas,o=e.IncomingTaskCanvas)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0);t.incomingTaskNotificationActions=[r.createElement(o.NotificationBar.Action,{label:"IncomingNotificationAccept",onClick:function(e,t){o.Actions.invokeAction("AcceptTask",{task:t.context.task}),o.Actions.invokeAction("SelectTask",{task:t.context.task})}}),r.createElement(o.NotificationBar.Action,{label:"IncomingNotificationReject",onClick:function(e,t){o.Actions.invokeAction("RejectTask",{task:t.context.task})}})]},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(6),a=n(41),s="FLEX_ACTION_INIT_INSIGHTS",c={client:void 0};t.reduce=function(e,t){switch(void 0===e&&(e=c),t.type){case s:return r(r({},c),{client:t.payload});default:return e}};var l=function(){function e(){}return e.dispatchAction=function(e,t){o.FlexModule.dispatch({type:e,payload:t})},e.init=function(e){this.dispatchAction(s,e)},e.shutdown=function(){i.log.info("Insights shutdown"),a.InsightsEntityCache.destroy();var e=o.FlexModule.state.insights.client;if(e)try{e.shutdown()}catch(e){i.log.error("Error on Insights shutdown",e)}this.dispatchAction(s,null)},e}();t.Actions=l},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),a=n(6),s="LOAD_CC_CONFIG";t.reduce=function(e,t){switch(void 0===e&&(e={}),t.type){case s:return r({sso:{}},t.payload);default:return e}};var c=function(){function e(){}return e.initConfig=function(e){i.FlexModule.dispatch({type:s,payload:e}),e.logLevel&&a.log.setLevel(e.logLevel),o.ChatConfig.setConfig({language:e.language,logLevel:e.logLevel})},e}();t.Actions=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(102),o=n(25),i=n(62),a=n(65),s=n(26),c=n(101),l=n(17),u=n(69),p=n(24),f=n(15),d=n(70),h=n(106),m=n(44),v=n(0),g={};t.FlexReducer=function(e,t){return void 0===e&&(e=g),{config:r.reduce(e.config,t),session:o.reduce(e.session,t),chat:v.chatReducer(e.chat,t),worker:i.reduce(e.worker,t),phone:a.reduce(e.phone,t),view:s.reduce(e.view,t),insights:c.reduce(e.insights,t),supervisor:l.reduce(e.supervisor,t),router:u.createReducer(e.config)(e.router,t),connectionStatus:h.reduce(e.connectionStatus,t),conferences:p.reduce(e.conferences,t),realtimeQueues:f.reduce(e.realtimeQueues,t),queues:d.reduce(e.queues,t),featureFlags:m.reduce(e.featureFlags,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_QUEUES="FLEX_SET_QUEUES",t.ADD_QUEUE="FLEX_ADD_QUEUE",t.UPDATE_QUEUE="FLEX_UPDATE_QUEUE",t.REMOVE_QUEUE="FLEX_REMOVE_QUEUE",t.SET_WORKSPACE_STATS="FLEX_SET_WORKSPACE_STATS",t.UPDATE_FILTER="FLEX_UPDATE_QUEUES_FILTER"},function(e,t){e.exports=require("reselect")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(227);t.reduce=r.reduce,t.ConnectionStatusState=r.ConnectionStatusState;var o=n(107);t.CONNECTION_STATUS_CHANGE=o.CONNECTION_STATUS_CHANGE,t.ConnectionStatus=o.ConnectionStatus,t.ConnectionStatusActionTypes=o.ConnectionStatusActionTypes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTION_STATUS_CHANGE="FLEX_CONNECTION_STATUS_CHANGE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TestFeature="test-feature",e.TestPilotFeature="test-pilot-feature",e.MarkdownSupport="markdown-support"}(t.FeatureFlag||(t.FeatureFlag={})),function(e){e.Private="private",e.Pilot="pilot",e.Beta="beta",e.ForceEnable="force-enable",e.ForceDisable="force-disable"}(t.FeatureStage||(t.FeatureStage={})),t.FEATURE_FLAGS_UPDATE="FLEX_FEATURE_FLAGS_UPDATE",t.FEATURE_FLAGS_OVERRIDES_UPDATE="FLEX_FEATURE_FLAGS_OVERRIDES_UPDATE",t.FEATURE_FLAG_OVERRIDE="FLEX_FEATURE_FLAG_OVERRIDE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(229),o=n(105);t.featureFlagsSelector=o.createSelector(function(e){return e.featureFlags.features},function(e){return e.featureFlags.localOverrides},function(e,t){return r({},e,t)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),o=n(230),i=n(231),a=n(43),s=n(6),c=n(71);t.applyFlexMiddleware=function(e){var t;c.isHistory(e)?(t=e,c.setHistory(t)):t=c.isHistoryParams(e)?c.default(e):c.isHistoryType(e)?c.default({type:e}):c.default();var n=[a.routerMiddleware(t),i.default()];return s.default.getLevel()<=1&&n.push(o.createLogger()),r.applyMiddleware.apply(void 0,n)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(18),c=n(6),l=n(32),u=n(3),p=n(72),f=n(11);!function(e){e.NotStarted="NotStarted",e.Loaded="Loaded",e.Initialising="Initialising",e.Initialized="Initialized",e.Failed="Failed"}(a=t.PluginState||(t.PluginState={}));var d=function(){function e(){var e=this;this._plugins=[],this._phase=0,this._listeners=[],this.doInit=function(t,n){c.log.debug("loading plugin",t),e.updatePluginState(n,a.Initialising);var r=new t;return Promise.resolve(r.init(e._flexComponents,e._manager,e._plugins)).then(function(){c.log.debug("successfully loaded plugin",r.name),e.updatePluginState(n,a.Initialized)}).catch(function(r){c.log.error("failed to load plugin",t,r),e.updatePluginState(n,a.Failed)})},this.incrementPhase=function(){e._phase=e._phase+1,e.notifyListeners()},this.notifyListeners=function(){e._listeners.forEach(function(e){return e.callback()})},this.createListener=function(t){var n=p.v4(),r={uuid:n,callback:t};return e._listeners.push(r),function(){var t=e._listeners.findIndex(function(e){return e.uuid===n});-1!==t&&e._listeners.splice(t,1)}}}return Object.defineProperty(e.prototype,"plugins",{get:function(){return this._plugins},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listeners",{get:function(){return this._listeners},enumerable:!0,configurable:!0}),e.prototype.setup=function(e,t){this._flexComponents=e,this._manager=t},e.prototype.init=function(e){var n=this,r=document.currentScript.getAttribute("uuid");t.Plugins.updatePluginState(r,a.Loaded);var o=this.createListener(function(){n.canInitPlugin(r)&&(o(),n.doInit(e,r))});this.canInitPlugin(r)&&(o(),this.doInit(e,r))},e.prototype.storePluginDefinition=function(e){if(0!==this._plugins.length)throw new Error("Plugins can only be set once");this._plugins=e},e.prototype.updatePluginState=function(e,t){var n=this._plugins.find(function(t){return t.uuid===e});n&&(n.state=t,t!==a.Failed&&t!==a.Initialized||this.notifyListeners())},e.prototype.canInitPlugin=function(e){var t=this,n=this._plugins.slice(),r=n.filter(function(e){return e.phase===t._phase}),o=r.filter(function(e){return e.state===a.NotStarted||e.state===a.Loaded}),i=n.filter(function(t){return t.uuid===e})[0];if(!i)return c.log.warn("Could not find a loaded plugin"),!1;if(i.state===a.Initialized||i.state===a.Failed)return c.log.warn("Attempting to re-initialize an already initialized plugin"),!1;if(0===r.length||0===o.length)return this.incrementPhase(),!1;if(!i||i.phase!==this._phase)return!1;if(1===r.length)return!0;var s=r.findIndex(function(t){return t.uuid===e});return-1!==s&&r.slice().splice(0,s).every(function(e){return e.state===a.Initialized||e.state===a.Failed})},e}();t.PluginManager=d,t.Plugins=new d,t.loadPlugins=function(e,n){var d=this,h=n.configuration.pluginService;return h&&h.enabled?(c.log.debug("loading plugins ..."),t.Plugins.setup(e,n),new Promise(function(e,h){return o(d,void 0,Promise,function(){var o,d,m,v;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),o=f.getPluginServiceUrl(n.configuration),[4,s.default.get(o,{withCredentials:!0,headers:{"X-Flex-JWE":u.FlexModule.state.session.ssoTokenPayload.token,"X-Flex-Version":l.VERSION}}).then(function(e){return e.data}).catch(function(e){c.log.error("failed to reach plugin service at "+o+" "+e)})];case 1:return d=i.sent(),Array.isArray(d)&&0!==d.length?(m=d.map(function(e){return r(r({phase:3},e),{uuid:p.v4(),state:a.NotStarted})}),t.Plugins.storePluginDefinition(m),[4,Promise.all(m.map(function(e){return new Promise(function(n){c.log.debug("downloading plugin: "+e.name+" version: "+e.version);var r=document.createElement("script");r.setAttribute("uuid",e.uuid),r.src=e.src,r.async=!0,r.onload=function(){c.log.debug("plugin "+e.name+" downloaded"),n()},r.onerror=function(r){c.log.warn("failed to download plugin: "+e.name,r),t.Plugins.updatePluginState(e.uuid,a.Failed),n()},document.body.appendChild(r)})}))]):(c.log.debug("no plugins loaded"),e(),[2]);case 2:return i.sent(),u.FlexModule.events.emitPluginsLoaded(),e(),[3,4];case 3:return v=i.sent(),c.log.warn("failed to fetch plugin configuration",v),h(),[3,4];case 4:return[2]}})})})):(c.log.debug("plugin service not configured"),Promise.resolve())}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(21),s=n(11),c=n(6),l={untrustedDomain:{code:70002,status:400},invalidCertificate:{code:70251,status:403}};function u(e){return e.replace(/((Token|Expiration|Identity|Roles)=[^&]+[&]?)/g,"").replace(/[&?]$/,"")}t.sanitizeSSOParams=u,t.getDefaultLoginWindowFeatures=function(){return{toolbar:"no",location:"no",menubar:"no",scrollbars:"no",resizable:"no",copyhistory:"no",width:600,height:800}},t.stringifyLoginWindowFeatures=function(e){return e?Object.keys(e).map(function(t){return t+"="+e[t]}).join(", "):""};var p=function(e,t){var n=e.code,r=e.status;return n===t.code&&r===t.status},f=function(){function e(){throw Error("Instance of this class can't be created")}return e.fetchRedirectURL=function(e,t){return r(this,void 0,Promise,function(){var n,r,l;return o(this,function(o){switch(o.label){case 0:return n=s.getSSOLoginUrl(t,e),r=function(e){return{products:e.products,resource:u(e.redirectUrl)}}(t),[4,i.default.post(n,r)];case 1:if(!(l=o.sent().data).location)throw c.log.error("No redirect location from /authenticate request, data: ",l),new a.InternalError("Invalid response from /authenticate endpoint");return[2,l.location]}})})},e.get=function(t,n){return r(this,void 0,Promise,function(){var r,i,s;return o(this,function(o){switch(o.label){case 0:if(e.accountSid===t)return[3,4];e.resetCache(),e.accountSid=t,o.label=1;case 1:return o.trys.push([1,3,,4]),r=e,[4,e.fetchRedirectURL(t,n)];case 2:return r.idpUrl=o.sent(),[3,4];case 3:if(!(i=o.sent()).isAxiosError)throw e.resetCache(),i;return s=i.response,p(s.data,l[a.ValidationErrorKeys.untrustedDomain])?e.error=new a.ValidationError(a.ValidationErrorKeys.untrustedDomain,i):p(s.data,l[a.ValidationErrorKeys.invalidCertificate])?e.error=new a.ValidationError(a.ValidationErrorKeys.invalidCertificate,i):e.error=new a.ValidationError(a.ValidationErrorKeys.sso,i),[3,4];case 4:if(e.error)throw e.error;return[2,e.idpUrl]}})})},e.resetCache=function(){e.accountSid=void 0,e.idpUrl=void 0,e.error=void 0},e}();t.IdpUrl=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deprecatedGetter=function(e){var t=this;return function(n,r,o){var i=o.get;return o.get=function(){return console.warn("Warning! Getter '"+r+"' has been deprecated, please use '"+e+"' instead!"),i.call(t)},o}},t.deprecatedSetter=function(e){var t=this;return function(n,r,o){var i=o.set;return o.set=function(n){return console.warn("Warning! Setter '"+r+"' has been deprecated, please use '"+e+"' instead!"),i.call(t,n)},o}},t.deprecatedMethod=function(e){var t=this;return function(n,r,o){var i=o.value;return o.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return console.warn("Warning! Method '"+r+"' has been deprecated, please use '"+e+"' instead!"),i.apply(t,n)},o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(237);t.Wfo=r.initWfoIdentity()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);t.Flex=r;var o=n(1),i=n(116),a=n(68),s=n(58),c=n(6);window.Twilio=window.Twilio||{Flex:r},window.Twilio.Flex||(window.Twilio.Flex=r);var l={React:o,ReactDOM:i,Redux:a,ReactRedux:s};t.isConflictingDependency=function(e,t){var n=window[e],r=t[e],o=r&&r.version,i=n&&n.version;return!!n&&(n!==r&&(!i||i!==o))},Object.keys(l).forEach(function(e){t.isConflictingDependency(e,l)&&c.log.warn("Cannot define global `"+e+"` variable for the module because the variable has been set by some other script. This may cause inconsistency."),window[e]=l[e]})},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),o=function(){function e(e){e&&(this.mode=e.mode,this.type=e.type,this.workerSid=e.workerSid,this.to=e.to,this.sid=e.sid,this.source=e)}return Object.defineProperty(e.prototype,"worker",{get:function(){return r.InsightsEntityCache.getWorker(this.workerSid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.source?this.source.status:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queue",{get:function(){return r.InsightsEntityCache.getQueue(this.to)},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){if(this.source.cancel)return this.source.cancel()},e}();t.TaskTransfer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),c=n(0),l=n(48),u=n(5),p=n(3),f=n(2),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimer=void 0,t.renderContainer=function(){var e=t.props,n=e.IconComponent,r=(e.ActionsComponent,e.titleLine),i=e.firstLine,f=e.secondLine,d=e.task,h=(e.conference,e.contentComponent),m=a(e,["IconComponent","ActionsComponent","titleLine","firstLine","secondLine","task","conference","contentComponent"]);if(h)return h;var v=new u.TaskHelper(d),g=p.FlexModule.state.supervisor.workers.find(function(e){return e.worker.sid===t.props.task.workerSid});!g&&p.FlexModule.state.supervisor.stickyWorker&&t.props.task.workerSid===p.FlexModule.state.supervisor.stickyWorker.worker.sid&&(g=p.FlexModule.state.supervisor.stickyWorker);var y=!!g&&g.worker;return s.createElement(l.InfoContainer,{key:"info-container",className:"Twilio-TaskDetailsPanel-Info"},!!r&&s.createElement(l.TitleLineContainer,{className:"Twilio-TaskDetailsPanel-TitleLine"},s.createElement(c.Template,{code:r,task:d,helper:v,worker:y})),!!n&&s.createElement(l.IconContainer,{className:"Twilio-TaskDetailsPanel-Icon"},s.createElement(n,o({task:d},m))),!!i&&s.createElement(l.FirstLineContainer,{className:"Twilio-TaskDetailsPanel-FirstLine"},s.createElement(c.Template,{code:i,task:d,helper:v,worker:y})),!!f&&s.createElement(l.SecondLineContainer,{className:"Twilio-TaskDetailsPanel-SecondLine"},s.createElement(c.Template,{code:f,task:d,helper:v,worker:y})))},t}return r(t,e),t.prototype.componentWillMount=function(){var e=this;this.refreshTimer=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){void 0!==this.refreshTimer&&window.clearInterval(this.refreshTimer)},t.prototype.render=function(){var e=this.props,t=e.content,n=e.ActionsComponent,r=e.task,i=a(e,["content","ActionsComponent","task"]);return s.createElement(c.DynamicComponent,{contentStore:t,childProps:this.props,name:t.name,customChildren:this.props.children,vertical:!0},s.createElement(l.Container,{className:"Twilio-TaskDetailsPanel-Container"},s.createElement(l.ContentContainer,{className:"Twilio-TaskDetailsPanel-Content",key:"container"},this.renderContainer()),s.createElement(l.ButtonContainer,{key:"button-container",className:"Twilio-TaskDetailsPanel-Buttons"},!!n&&s.createElement(n,o({task:r},i)))))},t=i([f.withTheme],t)}(s.PureComponent);t.TaskDetailsPanel=d},function(e,t){e.exports=require("hoist-non-react-statics")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(121);t.ParticipantsCanvas=r.ParticipantsCanvas;var o=n(252);t.ParticipantsCanvasProps=o.ParticipantsCanvasProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(12),s=n(247),c=n(2),l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.displayName=s.displayName,n.Content=s.contentStore,n}(i.PureComponent);t.ParticipantsCanvas=l,t.Connected=c.withTheme(a.withTaskContext(s.ParticipantsCanvasImpl))},function(e,t){e.exports=require("@twilio/frame-ui/")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(249);t.ParticipantCanvas=r.ParticipantCanvas},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(125);t.TaskCanvas=r.TaskCanvas,t.TaskCanvasChildrenProps=r.TaskCanvasChildrenProps,t.TaskCanvasThemeProps=r.TaskCanvasThemeProps;var o=n(74);t.TaskCanvasTabs=o.TaskCanvasTabs;var i=n(135);t.TaskInfoPanel=i.TaskInfoPanel;var a=n(77);t.TaskCanvasHeader=a.TaskCanvasHeader},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(8),s=n(74),c=n(77),l=n(282),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.displayName=l.displayName,n.Content=l.contentStore,n.Header=c.TaskCanvasHeader,n.Tabs=s.TaskCanvasTabs,n}(i.PureComponent);t.TaskCanvas=u,t.Connected=a.withTaskContext(l.TaskCanvasImpl)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49);t.TaskCanvasTabs=r.TaskCanvasTabs;var o=n(276);t.TaskCanvasTabsChildrenProps=o.TaskCanvasTabsChildrenProps;var i=n(127);t.getThemeForChat=i.getThemeForChat},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(9),a=n(5),s=n(0),c=n(4),l=n(128),u=n(132),p=n(76),f=n(28),d=n(49),h=n(7);t.displayName="TaskCanvasTabs",t.contentStore=new s.DynamicContentStore(t.displayName);var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTabSelection=function(e){h.tryInvokeAction("SetComponentState",{name:"AgentTaskCanvasTabs",state:{selectedTabName:e}})},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.task,r=e.selectedTabName,f=i.TaskChannels.getForTask(n),h=a.TaskHelper.isPending(n);return o.createElement(s.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,noContainers:!0,vertical:!0},o.createElement(s.Tabs,{className:"Twilio-TaskCanvasTabs",selectedTabName:r,onTabSelected:this.handleTabSelection},o.createElement(s.Tab,{key:"incoming",uniqueName:"incoming",label:o.createElement(s.Template,{source:c.templates.TaskTabAgentIncomingLabel}),hidden:!h},o.createElement(l.IncomingTaskCanvas,null)),o.createElement(s.Tab,{key:"call",uniqueName:"call",label:o.createElement(s.Template,{source:c.templates.TaskTabAgentCallLabel}),hidden:!a.TaskHelper.isCallTask(n)||h},o.createElement(u.CallCanvas,null)),o.createElement(s.Tab,{key:"chat",uniqueName:"chat",label:o.createElement(s.Template,{source:c.templates.TaskTabAgentChatLabel}),hidden:!a.TaskHelper.isChatBasedTask(n)||h},!!this.props.task&&this.renderChat(i.TaskChannelHelper.getColor(n,f.colors.main,d.TaskCanvasTabs))),o.createElement(s.Tab,{key:"info",uniqueName:"info",label:o.createElement(s.Template,{source:c.templates.TaskTabAgentInfoLabel})},o.createElement(p.TaskInfoPanel,null))))},n.prototype.renderChat=function(e){var t=this.props.task,n=this.props,r=n.channelDefinition,i=r.charLimit,l=r.componentProps,u=n.hasMarkdownSupport,p=v(e);return o.createElement(f.ThemeProvider,{theme:p},o.createElement(s.MessagingCanvas,{sid:a.TaskHelper.getTaskChatChannelSid(t),charLimit:i,inputDisabledReason:a.TaskHelper.isCompleted(t)||a.TaskHelper.isInWrapupMode(t)?c.templates.ChatInputDisabledText():void 0,welcomeMessageText:c.templates.ChatWelcomeText,predefinedMessage:l.MessagingCanvas&&l.MessagingCanvas.predefinedMessage,hasMarkdownSupport:u}))},n}(o.PureComponent);function v(e){return function(t){return e?s.Utils.merge(t,{Chat:{MessageInput:{Button:{background:e}},MessageListItem:{FromMe:{Bubble:{background:e}}},WelcomeMessage:{Icon:{color:e}}}}):t}}t.TaskCanvasTabsImpl=m,t.getThemeForChat=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(129);t.IncomingTaskCanvas=r.IncomingTaskCanvas;var o=n(258);t.IncomingTaskCanvasProps=o.IncomingTaskCanvasProps;var i=n(131);t.IncomingTaskIcon=i.IncomingTaskIcon;var a=n(130);t.IncomingTaskCanvasActions=a.IncomingTaskCanvasActions},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(8),s=n(255),c=n(2),l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.friendlyName=s.displayName,n.displayName=s.displayName,n.Content=s.contentStore,n}(i.PureComponent);t.IncomingTaskCanvas=l,t.Connected=c.withTheme(a.withTaskContext(s.IncomingTaskCanvasImpl))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256);t.IncomingTaskCanvasActions=r.IncomingTaskCanvasActions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(257);t.IncomingTaskIcon=r.IncomingTaskIcon},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(133);t.CallCanvas=r.CallCanvas;var o=n(273);t.CallCanvasChildrenProps=o.CallCanvasChildrenProps,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(134))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(12),s=n(259),c=n(2),l=n(3),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.friendlyName=s.displayName,n.displayName=s.displayName,n.Content=s.contentStore,n}(i.PureComponent);t.CallCanvas=u,t.Connected=a.withTaskContext(l.connect(function(e,t){return{dialpadState:e.view.componentViewStates["CallCanvasDialpad"+t.task.sid]}})(c.withTheme(s.CallCanvasImpl)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(263);t.CallCanvasActions=r.CallCanvasActions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(277);t.TaskInfoPanel=r.TaskInfoPanel},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.TaskInfoPanel=r.TaskInfoPanel;var o=n(278);t.TaskInfoPanelProps=o.TaskInfoPanelProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(283);t.TeamFiltersPanel=r.TeamFiltersPanel,t.TeamFiltersPanelProps=r.TeamFiltersPanelProps,t.FilterData=r.FilterData},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTaskWaitingAgeFromTimestamp=function(e){return e?Date.now()-new Date(e).getTime():0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(140),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tick=function(){t.forceUpdate()},t}return r(t,e),t.prototype.componentDidMount=function(){i.addTickListener(this.tick)},t.prototype.componentWillUnmount=function(){i.removeTickListener(this.tick)},t.prototype.render=function(){return this.props.children()},t}(o.Component);t.Ticker=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(299));window.setInterval(function(){return r.emit("tick")},1e3),t.addTickListener=function(e){return r.on.call(r,"tick",e)},t.removeTickListener=function(e){return r.off.call(r,"tick",e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(305);t.NoTasksCanvas=r.NoTasksCanvas},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(308);t.TaskCanvas=r.TaskCanvas;var o=n(316);t.TaskCanvasChildrenProps=o.TaskCanvasChildrenProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(144);t.UserControls=r.UserControls,t.UserControlsImplProps=r.UserControlsImplProps;var o=n(323);t.MainHeader=o.MainHeader;var i=n(336);t.MainHeaderProps=i.MainHeaderProps,t.MainHeaderChildrenProps=i.MainHeaderChildrenProps,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(147))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(319);t.UserControls=r.UserControls,t.UserControlsChildrenProps=r.UserControlsChildrenProps,t.UserControlsImplProps=r.UserControlsChildrenProps},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c=n(0),l=n(2);t.Container=l.default("div")(o||(o=r(["\n    padding-left: 8px;\n    height: 44px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex: 0 0 auto;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow: hidden;\n    ","\n"],["\n    padding-left: 8px;\n    height: 44px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex: 0 0 auto;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow: hidden;\n    ","\n"])),function(e){return e.theme.MainHeader.Container}),t.HeaderLogoImage=l.default("img")(i||(i=r(["\n    margin-left: 12px;\n    margin-top: auto;\n    margin-bottom: auto;\n    display: block;\n    max-width: 240px;\n    max-height: 36px;\n    width: auto;\n    height: auto;\n"],["\n    margin-left: 12px;\n    margin-top: auto;\n    margin-bottom: auto;\n    display: block;\n    max-width: 240px;\n    max-height: 36px;\n    width: auto;\n    height: auto;\n"]))),t.StyledIconContainer=l.default("div")(a||(a=r(["\n    display: flex;\n    align-items: center;\n    position: relative;\n    background: ",";\n    &:hover {\n        // Hack to change outer circle color on hover\n        & .Twilio-Main-Header-IconButton,\n        & .Twilio-Badge-OuterCircle {\n            cursor: pointer;\n            ","\n        }\n    }\n"],["\n    display: flex;\n    align-items: center;\n    position: relative;\n    background: ",";\n    &:hover {\n        // Hack to change outer circle color on hover\n        & .Twilio-Main-Header-IconButton,\n        & .Twilio-Badge-OuterCircle {\n            cursor: pointer;\n            ","\n        }\n    }\n"])),function(e){return e.theme.MainHeader.Container.background},function(e){return c.getBackgroundWithHoverCSS(e.theme.MainHeader.Container.background,e.theme.MainHeader.Button.lightHover,!0)}),t.StyledIconButton=l.default(c.IconButton)(s||(s=r(["\n    margin-right: 8px;\n"],["\n    margin-right: 8px;\n"])))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(66)),r(n(333));var o=n(24);t.ConferenceParticipant=o.ConferenceParticipant;var i=n(69);t.FLEX_LOCATION_CHANGE=i.FLEX_LOCATION_CHANGE},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(334))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81);t.TaskList=r.TaskList,t.TaskListProps=r.TaskListProps;var o=n(152);t.TaskListBaseItem=o.TaskListBaseItem;var i=n(150);t.TaskListFilter=i.TaskListFilter,t.TaskListFilterProps=i.TaskListFilterProps;var a=n(151);t.TaskListItem=a.TaskListItem,t.TaskListItemProps=a.TaskListItemProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=n(1),l=n(0),u=n(150),p=n(342),f=n(8),d=n(151),h=n(81),m={from:{transform:"translateY(-45px)"},to:{transform:""}};t.displayName="TaskList",t.contentStore=new l.DynamicContentStore(t.displayName),t.TaskListContext=c.createContext(void 0);var v=function(e){function n(t){var n=e.call(this,t)||this;return n._isFilterChanging=!1,n.handleFilterChange=function(e){n._isFilterChanging=!0,n.setState(o(o({},n.state),{selectedFilter:e}),function(){n._isFilterChanging=!1}),n.props.onFilterChange&&n.props.onFilterChange(e)},n.state=o(o({},t),{onFilterChange:n.handleFilterChange,selectedFilter:t.filters&&t.filters.length>0&&t.filters[0]||null}),n}var v;return r(n,e),n.getDerivedStateFromProps=function(e,t){return o(o({},t),e)},n.prototype.render=function(){var e=this,n=this.props,r=n.tasks,o=n.staticFilter,i=this.state,a=i.compareFunction,s=i.selectedFilter,f=Array.from(r.values()),d=o?f.filter(function(e){return o(e)}).sort(function(e,t){return a(e,t)}).map(function(t){return e.createTaskListItem(t)}):[],h=f.filter(function(e){return s.callback(e)&&!o(e)}).sort(function(e,t){return a(e,t)}).map(function(t){return e.createTaskListItem(t)}),v=d.concat(c.createElement(u.TaskListFilter,{key:"TaskListFilter",filters:this.state.filters,value:this.state.selectedFilter})).concat(h);return c.createElement(t.TaskListContext.Provider,{value:this.state},c.createElement(l.DynamicComponent,{contentStore:t.contentStore,childProps:this.state,name:t.displayName,customChildren:this.props.children,vertical:!0},c.createElement(l.FlexBox,{vertical:!0,noShrink:!0},c.createElement(p.default,{key:"contents",easing:"ease-in",disableAllAnimations:this._isFilterChanging,duration:300,appearAnimation:"fade",enterAnimation:m,leaveAnimation:"none"},v))))},n.prototype.createTaskListItem=function(e){return c.createElement(f.TaskContextSource,{key:e.sid,taskSid:e.sid},c.createElement(d.TaskListItem,{selectedTaskSid:this.state.selectedTaskSid,onSelected:this.props.onTaskSelected}))},n=i([s.withTheme,a("design:paramtypes",["function"==typeof(v=void 0!==h.TaskListProps&&h.TaskListProps)?v:Object])],n)}(c.PureComponent);t.TaskListImpl=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(337);t.TaskListFilterProps=r.TaskListFilterProps,t.TaskListFilter=r.TaskListFilter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(343);t.TaskListItem=r.TaskListItem,t.TaskListItemChildrenProps=r.TaskListItemChildrenProps,t.TaskListItemProps=r.TaskListItemProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(153);t.TaskListBaseItem=r.TaskListBaseItem},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(8),s=n(345);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(154));var c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.displayName="TaskListBaseItem",n}(i.PureComponent);t.TaskListBaseItem=c,t.Connected=a.withTaskContext(s.TaskListBaseItemImpl)},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p,f,d,h=n(0),m=n(2);t.TaskListIcon=m.default(h.Icon)(o||(o=r(["\n    flex: 0 0 44px;\n    ","\n"],["\n    flex: 0 0 44px;\n    ","\n"])),function(e){return e.theme.TaskList.Item.Icon}),t.Container=m.default("div")(i||(i=r(["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: ",";\n    user-select: none;\n    height: 44px;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow-y: hidden;\n    cursor: pointer;\n    height: ",";\n\n    ","\n    ","\n    ","\n    ","\n    & .Twilio-TaskListBaseItem-IconAreaContainer {\n        background: ",";\n    };\n    &:hover {\n        // Hack to change outer circle color on hover\n        & .Twilio-TaskListBaseItem-IconAreaContainer, & .Twilio-Badge-OuterCircle {\n            ",";\n            }\n        }"],["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: ",";\n    user-select: none;\n    height: 44px;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow-y: hidden;\n    cursor: pointer;\n    height: ",";\n\n    ","\n    ","\n    ","\n    ","\n    & .Twilio-TaskListBaseItem-IconAreaContainer {\n        background: ",";\n    };\n    &:hover {\n        // Hack to change outer circle color on hover\n        & .Twilio-TaskListBaseItem-IconAreaContainer, & .Twilio-Badge-OuterCircle {\n            ",";\n            }\n        }"])),function(e){return e.vertical?"column":"row"},function(e){return e.large?"200px":"44px"},function(e){return e.theme.TaskList.Item.Container},function(e){return e.selected?e.theme.TaskList.Item.SelectedContainer:{}},function(e){return h.getBackgroundWithHoverCSS(e.theme.TaskList.Item.Container.background,e.theme.TaskList.Item.Container.lightHover)},function(e){return e.selected?h.getBackgroundWithHoverCSS(e.theme.TaskList.Item.SelectedContainer.background,e.theme.TaskList.Item.SelectedContainer.lightHover):{}},function(e){return e.iconColor},function(e){return e.iconColor&&h.getBackgroundWithHoverCSS(e.iconColor,!1,!0)}),t.UpperArea=m.default("div")(a||(a=r(["\n    height: 44px;\n    display: flex;\n    flex: auto 0 0;\n"],["\n    height: 44px;\n    display: flex;\n    flex: auto 0 0;\n"]))),t.Content=m.default("div")(s||(s=r(["\n    flex: 1 1 auto;\n    overflow: hidden;\n"],["\n    flex: 1 1 auto;\n    overflow: hidden;\n"]))),t.LowerArea=m.default("div")(c||(c=r(["\n    display: flex;\n    height: 156px;\n\n    p {\n        overflow-y: hidden;\n        text-overflow: ellipsis;\n    }\n\n    div {\n        width: 100%;\n        height: 100%;\n    }\n\n    iframe {\n        width: 100%;\n        height: 100%;\n    }\n"],["\n    display: flex;\n    height: 156px;\n\n    p {\n        overflow-y: hidden;\n        text-overflow: ellipsis;\n    }\n\n    div {\n        width: 100%;\n        height: 100%;\n    }\n\n    iframe {\n        width: 100%;\n        height: 100%;\n    }\n"]))),t.ActionsContainer=m.default("div")(l||(l=r(["\n    height: 44px;\n    flex: 0 0 auto;\n    display: flex;\n    margin-right: 8px;\n\n    button {\n        margin-left: 4px;\n        margin-right: 4px;\n    }\n"],["\n    height: 44px;\n    flex: 0 0 auto;\n    display: flex;\n    margin-right: 8px;\n\n    button {\n        margin-left: 4px;\n        margin-right: 4px;\n    }\n"]))),t.SecondLineContainer=m.default("div")(u||(u=r(["\n    font-size: 10px;\n    margin: 1px 4px 4px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    font-size: 10px;\n    margin: 1px 4px 4px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),t.SecondLineStyledTemplate=m.default(h.Template)(p||(p=r(["\n    display: inline-flex;\n    align-items: center;\n    .Twilio-Template-Icon {\n        margin-right: 4px;\n    }\n"],["\n    display: inline-flex;\n    align-items: center;\n    .Twilio-Template-Icon {\n        margin-right: 4px;\n    }\n"]))),t.FirstLineContainer=m.default("div")(f||(f=r(["\n    font-size: 12px;\n    font-weight: bold;\n    margin: 4px 4px 0px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    font-size: 12px;\n    font-weight: bold;\n    margin: 4px 4px 0px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),t.IconAreaContainer=m.default("div")(d||(d=r(["\n    position: relative;\n    flex: 0 0 44px;\n    display: flex;\n"],["\n    position: relative;\n    flex: 0 0 44px;\n    display: flex;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);t.TaskListButtons=r.TaskListButtons},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(357);t.AgentDesktopView=r.AgentDesktopView,t.AgentDesktopViewProps=r.AgentDesktopViewProps,t.AgentDesktopViewChildrenProps=r.AgentDesktopViewChildrenProps;var o=n(158);t.SplitterOrientation=o.SplitterOrientation},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(158);t.Panel1=r.Panel1},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(1),c=n(0),l=n(3),u=n(29),p=n(159),f=n(142),d=n(141),h=n(160),m=n(370),v=n(373),g=n(7);!function(e){e.auto="auto",e.vertical="vertical",e.horizontal="horizontal"}(a=t.SplitterOrientation||(t.SplitterOrientation={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleResize=function(e){setTimeout(function(){t.forceUpdate()},0)},t.handleParentSplitterChange=function(){setTimeout(function(){t.forceUpdate()},0)},t.makeInnerRef=function(e){t.container=e},t.handleTaskSelected=function(e){g.tryInvokeAction("SelectTask",{sid:e})},t}var n;return r(t,e),n=t,t.prototype.componentDidMount=function(){var e=this;l.FlexModule.events.addListener(u.FlexEvent.flexSplitterResize,this.handleParentSplitterChange),l.FlexModule.events.addListener(u.FlexEvent.selectedViewChanged,this.handleParentSplitterChange),window.addEventListener("resize",this.handleResize),setTimeout(function(){return e.forceUpdate()},1)},t.prototype.componentWillUnmount=function(){l.FlexModule.events.removeListener(u.FlexEvent.flexSplitterResize,this.handleParentSplitterChange),l.FlexModule.events.removeListener(u.FlexEvent.selectedViewChanged,this.handleParentSplitterChange),window.removeEventListener("resize",this.handleResize)},t.prototype.render=function(){var e=!0;switch(this.props.splitterOrientation){case a.auto:if(this.container)e=this.container.getBoundingClientRect().width<552;break;default:e=this.props.splitterOrientation===a.vertical}return s.createElement(c.DynamicComponent,{name:n.friendlyName,contentStore:n.Content,childProps:this.props,customChildren:this.props.children,vertical:!0},s.createElement(v.LeftPanelRootContainer,o({},this.props,{innerRef:this.makeInnerRef}),this.props.tasks.size>0?s.createElement(m.ContentSplitter,{key:"splitter",vertical:e},s.createElement(p.TaskListContainer,{tasks:this.props.tasks,selectedTaskSid:this.props.selectedTaskSid,onTaskSelected:this.handleTaskSelected}),s.createElement(f.TaskCanvas,{key:"taskCanvas"})):s.createElement(d.NoTasksCanvas,{key:"no-tasks"}),s.createElement(h.WorkerDirectory,{key:"worker-directory"})))},t.friendlyName="AgentDesktopView.Panel1",t.displayName=n.friendlyName,t.Content=new c.DynamicContentStore(n.friendlyName),t.defaultProps={splitterOrientation:a.auto},t=n=i([c.withDefaultPropsUpdate],t)}(s.Component);t.Panel1=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(358);t.TaskListContainer=r.TaskListContainer,t.TaskListContainerProps=r.TaskListContainerProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(361);t.WorkerDirectory=r.WorkerDirectory,t.WorkerDirectoryProps=r.WorkerDirectoryProps,t.WorkerDirectoryChildrenProps=r.WorkerDirectoryChildrenProps;var o=n(82);t.WorkerDirectoryTabs=o.WorkerDirectoryTabs,t.WorkerDirectoryTabsProps=o.WorkerDirectoryTabsProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(374);t.Panel2=r.Panel2},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(375);t.CRMContainer=r.CRMContainer,t.CRMContainerProps=r.CRMContainerProps,t.CRMContainerChildrenProps=r.CRMContainerChildrenProps},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.Container=i.default("div")(o||(o=r(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 auto;\n    border-style: solid;\n    border-width: 0 0 0 1px;\n    ","\n\n    iframe {\n        border: none;\n        display: flex;\n        flex: 1 0 auto;\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 auto;\n    border-style: solid;\n    border-width: 0 0 0 1px;\n    ","\n\n    iframe {\n        border: none;\n        display: flex;\n        flex: 1 0 auto;\n    }\n"])),function(e){return e.theme.CRMContainer.Container})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l=n(0),u=n(2);t.Container=u.default("div")(o||(o=r(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"],["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.LoginView.Container}),t.LogoContainer=u.default("div")(i||(i=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.LoginView.Logo}),t.ControlsContainer=u.default("div")(a||(a=r(["\n    margin-top: 29px;\n    text-align: center;\n"],["\n    margin-top: 29px;\n    text-align: center;\n"]))),t.LoginButton=u.default(l.Button)(s||(s=r(["\n    margin-top: 28px;\n    padding-left: 16px;\n    padding-right: 16px;\n"],["\n    margin-top: 28px;\n    padding-left: 16px;\n    padding-right: 16px;\n"]))),t.LoadingContainer=u.default("div")(c||(c=r(["\n    margin-top: 34px;\n    font-size: 12px;\n    font-weight: 600;\n"],["\n    margin-top: 34px;\n    font-size: 12px;\n    font-weight: 600;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(37),s=n(73),c=n(389),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(a.StorelessThemeProvider,{themeConf:{baseName:"BlueDarkTheme"}},i.createElement(c.LoginFormViewImpl,o({},this.props)))},t.defaultProps={userConfig:{},initialRuntimeDomain:s.parseRuntimeDomainFromPathName()||"",userLoggedOut:!1},t}(i.Component);t.LoginFormView=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(391);t.LogoWithCircle=r.LogoWithCircle},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(392);t.LoginLogo=r.LoginLogo},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(169);t.TeamsView=r.TeamsView,t.FilterDefinitionFactory=r.FilterDefinitionFactory},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(1),c=n(53),l=n(3),u=n(17),p=n(2),f=n(395),d=n(0);!function(e){e.search="teams-view-search",e.filter="teams-view-filter"}(a=t.FiltersType||(t.FiltersType={}));var h=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBaseRoute=function(){return n.props.route.match&&n.props.route.match.url.replace(/\/$/,"")},n.renderChildrenFromRoute=function(e){return s.createElement(t.Connected,o({},n.props,{route:e}))},n}var a;return r(n,e),a=n,n.prototype.render=function(){var e=this.getBaseRoute();return s.createElement(c.Route,{path:e+"/:resource?/:sid?",children:this.renderChildrenFromRoute})},n.displayName=f.displayName,n.Content=f.contentStore,n.activitiesFilter=function(e){var t=Array.from(e.worker.activities).map(function(e){return{value:e[1].name,label:e[1].name,default:!1}});return{id:"data.activity_name",fieldName:"activity_name",type:d.FiltersListItemType.multiValue,title:"Activities",options:t}},n.defaultProps={filtersEnabled:!1,filters:[a.activitiesFilter]},n=a=i([d.withDefaultPropsUpdate],n)}(s.PureComponent);t.TeamsView=h,t.Connected=l.connect(function(e,t){var n;return e.view.filters[a.search]?n=e.view.filters[a.search]:e.view.filters[a.filter]&&(n=e.view.filters[a.filter]),{appliedFilters:n,monitoredTaskSid:e.supervisor.callMonitoring.status===u.CallMonitoringStatus.monitoring?e.supervisor.callMonitoring.taskSid:"",workers:e.supervisor.workers,stickyWorker:e.supervisor.stickyWorker,isLoadingWorkers:e.supervisor.isLoadingWorkers,filters:t.filters.map(function(n){return"function"==typeof n?n(e,t):n}).filter(function(e){return!!e})}})(p.withTheme(f.TeamsViewImpl))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(396);t.WorkersDataTable=r.WorkersDataTable,t.WorkersDataTableProps=r.WorkersDataTableProps,t.ColumnDataCreationContext=r.ColumnDataCreationContext,t.WorkerListFilter=r.WorkerListFilter,t.defaultCompareFunction=r.defaultCompareFunction},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(172),s=n(84),c=n(174),l=function(e,t){var n=e.dateUpdated.getTime();return t.dateUpdated.getTime()-n},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.tasks,l=n.filter,u=n.compareFunction,p=Array.from(r).filter(function(e){return!l||l(e)});return 0===p.length?o.createElement(s.TaskCardPlaceholder,null):o.createElement(i.DynamicComponent,{contentStore:t.Content,childProps:this.props,name:t.displayName,customChildren:this.props.children,subContainer:o.createElement(i.FlexBox,{allowWrap:!0})},o.createElement(i.FlexBox,{className:"Twilio-TaskCardList-Container"},p.sort(u).map(function(t){return o.createElement(c.SupervisorTaskContextSource,{taskSid:t.sid,key:t.sid},o.createElement(a.TaskCard,{selected:e.props.selectedTaskSid===t.sid,highlighted:e.props.highlightedTaskSid===t.taskSid,onClick:e.props.onCardSelected}))})))},t.displayName="TaskCardList",t.Content=new i.DynamicContentStore(t.displayName),t.defaultProps={compareFunction:l},t}(o.Component);t.TaskCardList=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(173);t.TaskCard=r.TaskCard;var o=n(405);t.TaskCardProps=o.TaskCardProps,t.TaskCardChildrenProps=o.TaskCardChildrenProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(8),s=n(401),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.displayName=s.displayName,n.Content=s.contentStore,n}(i.PureComponent);t.TaskCard=c,t.Connected=a.withTaskContext(s.TaskCardImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(12),c=n(9),l=n(3),u=n(5),p=n(56),f=function(e,t){var n,r=p.SupervisorStateHelper.getTaskBySid(t.taskSid);return u.TaskHelper.isCallTask(r)&&(n=e.conferences.states.get(r.taskSid)),{task:r,conference:n,chatChannel:r&&u.TaskHelper.isChatBasedTask(r)?e.chat.channels[u.TaskHelper.getTaskChatChannelSid(r)]:void 0}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=i(e,["children"]);return n.channelDefinition=n.task?c.TaskChannels.getForTask(n.task):void 0,a.createElement(s.TaskContext.Provider,{value:n},t)},t=o([l.connect(f)],t)}(a.PureComponent);t.SupervisorTaskContextSource=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(409);t.WorkerCanvas=r.WorkerCanvas,t.WorkerCanvasProps=r.WorkerCanvasProps},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.StyledFlexBox=a.default(s.FlexBox)(o||(o=r(["\n    width: 320px;\n    border-width: 0 0 0 1px;\n    border-style: solid;\n    ","\n"],["\n    width: 320px;\n    border-width: 0 0 0 1px;\n    border-style: solid;\n    ","\n"])),function(e){return e.theme.Supervisor.WorkerCanvas.Container}),t.Caption=a.default("div")(i||(i=r(["\n    flex: 0 0 auto;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n    border-style: solid;\n    padding-left: 11px;\n    align-items: center;\n    height: 24px;\n    border-width: 0 0 1px 0;\n    text-transform: uppercase;\n    ","\n"],["\n    flex: 0 0 auto;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n    border-style: solid;\n    padding-left: 11px;\n    align-items: center;\n    height: 24px;\n    border-width: 0 0 1px 0;\n    text-transform: uppercase;\n    ","\n"])),function(e){return e.theme.Supervisor.WorkerCanvas.SectionCaption})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(411);t.WorkerProfile=r.WorkerProfile},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(414);t.WorkerSkills=r.WorkerSkills},function(e,t){e.exports=require("@material-ui/core/FormHelperText")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(181));var r=n(438);t.QueuesStatsView=r.FullscreenableQueuesStatsView},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(78),s=n(434),c=n(3).connect(function(e){var t=e.realtimeQueues,n=t.queuesList&&!Object.keys(t.queuesList).length;return{isLoading:n&&!t.hasFetchedList,hasNoData:n&&t.hasFetchedList}})(s.QueuesStatsViewImpl),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(c,o({},this.props))},t.displayName=s.displayName,t.Content=s.Content,t.Tiles=a.AggregatedQueuesDataTiles,t.Table=a.QueuesDataTable,t}(i.PureComponent);t.QueuesStatsViewComponent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(436))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(172)),r(n(84));var o=n(171);t.TaskCardList=o.TaskCardList,t.TaskCardListProps=o.TaskCardListProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(467);t.RootContainer=r.RootContainer;var o=n(506);t.RootContainerChildrenProps=o.RootContainerChildrenProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(3),l=n(470),u=n(2),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.updateAll=function(){},t.prototype.render=function(){return a.createElement(f,o({},this.props))},t.displayName=l.displayName,t.Content=l.contentStore,t.defaultProps={keepSideNavOpen:!1,showNotificationBar:!0,showLiveCommsBar:!0},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.MainContainer=p;var f=c.connect(function(e){return{activeView:e.view.activeView}})(u.withTheme(l.MainContainerImpl))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(473);t.SideNav=r.SideNav,t.SideNavProps=r.SideNavProps,t.SideNavChildrenProps=r.SideNavChildrenProps;var o=n(57);t.SideLink=o.SideLink,t.SideLinkProps=o.SideLinkProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(476);t.SideLinkAgentDesktop=r.SideLinkAgentDesktop},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(481);t.SideLinkTeams=r.SideLinkTeams},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(482);t.SideLinkQueuesStats=r.SideLinkQueuesStats},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(483);t.LiveCommsBar=r.LiveCommsBar,t.LiveCommsBarChildrenProps=r.LiveCommsBarChildrenProps;var o=n(191);t.LiveCommsBarItem=o.LiveCommsBarItem;var i=n(192);t.LiveCommsBarItemAction=i.LiveCommsBarItemAction,t.LiveCommsBarItemActions=i.LiveCommsBarItemActions,t.LiveCommsBarItemActionsProps=i.LiveCommsBarItemActionsProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(486);t.LiveCommsBarItem=r.LiveCommsBarItem},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(491);t.LiveCommsBarItemAction=r.LiveCommsBarItemAction,t.LiveCommsBarItemActions=r.LiveCommsBarItemActions,t.LiveCommsBarItemActionsProps=r.LiveCommsBarItemActionsProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(493);t.ViewCollection=r.ViewCollection,t.ViewCollectionProps=r.ViewCollectionProps,t.ViewCollectionChildrenProps=r.ViewCollectionChildrenProps,t.ViewAdditionalProps=r.ViewAdditionalProps;var o=n(194);t.View=o.View,t.ViewProps=o.ViewProps,t.ViewMountRule=o.ViewMountRule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(495);t.View=r.View,t.ViewFC=r.ViewFC,t.ViewProps=r.ViewProps,t.ViewMountRule=r.ViewMountRule;var o=n(496);t.ViewImpl=o.ViewImpl},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(196),n(197),n(198),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(88))},function(e,t){e.exports=require("core-js/fn/symbol")},function(e,t){e.exports=require("core-js/fn/symbol/iterator")},function(e,t){e.exports=require("core-js/fn/object/assign")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89);t.TaskOverviewCanvas=r.TaskOverviewCanvas;var o=n(124);t.TaskCanvas=o.TaskCanvas,t.TaskInfoPanel=o.TaskInfoPanel,t.TaskCanvasTabs=o.TaskCanvasTabs,t.TaskCanvasHeader=o.TaskCanvasHeader,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(137))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(201);t.SupervisorTaskOverviewActions=r.SupervisorTaskOverviewActions,t.SupervisorTaskOverviewActionsImplProps=r.SupervisorTaskOverviewActionsImplProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(1),s=n(216),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return a.createElement(t.Connected,o({},this.props))},n}(a.Component);t.SupervisorTaskOverviewActions=c,t.Connected=i.connect(function(e){return{monitorStatus:e.supervisor.callMonitoring.status}})(s.SupervisorTaskOverviewActionsImpl)},function(e,t){e.exports=require("loglevel")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.stopped=!1,n.methods=t.methods||[],n}return r(t,e),t.prototype.start=function(){var e=this,t=this.trigger,n=this.methods,r=this.targetAlias,o={get:function(o,i){var a=o[i];return e.stopped||n.length&&n.indexOf(i)<0||"function"!=typeof a?a:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=a.apply(o,e);return t({target:o,args:e,result:s,targetAlias:r,subject:i,timestamp:Date.now()}),s}}};this.onStart&&this.onStart(new Proxy(this.target,o))},t.prototype.stop=function(){this.stopped=!0},t}(n(30).Spy);t.ClassProxySpy=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;if(n.events=t.events,!n.events)throw Error("EventEmitterSpy requires some events to listen to.");return n}return r(t,e),t.prototype.start=function(){var e=this;this.events.forEach(function(t){e.target.addListener(t,e.trigger)}),this.onStart&&this.onStart()},t.prototype.stop=function(){var e=this;this.events.forEach(function(t){e.target.removeListener(t,e.trigger)})},t}(n(30).Spy);t.EventEmitterSpy=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;if(n.applyMiddleware=function(e){n.trigger({targetAlias:n.targetAlias||"Window event listener",args:[e.message+" in "+e.filename+" at "+e.lineno+":"+e.colno],subject:"Error Event",result:"",timestamp:Date.now()})},n.events=t.events,!n.events)throw Error("DOMEventsSpy requires some events to listen to.");return n}return r(t,e),t.prototype.start=function(){var e=this;this.events.forEach(function(t){e.target.addEventListener(t,e.applyMiddleware)}),this.onStart&&this.onStart()},t.prototype.stop=function(){var e=this;this.events.forEach(function(t){e.target.removeEventListener(t,e.applyMiddleware)})},t}(n(30).Spy);t.DOMEventsSpy=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.stopped=!1,n.methods=t.methods||[],n}return r(t,e),t.prototype.start=function(){var e=this,t=this.target,n=this.targetAlias,r=this.trigger,o=this.methods,i=t.methodFactory;t.methodFactory=function(a,s,c){var l=i(a,s,c);return o.indexOf(a)<0?l:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=l.apply(t,o);return e.stopped||r({target:t,args:o,result:s,targetAlias:n,subject:a,timestamp:Date.now()}),s}},t.setLevel(t.getLevel()),this.onStart&&this.onStart(t)},t.prototype.stop=function(){this.stopped=!0},t}(n(30).Spy);t.LoglevelSpy=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(208);!function(e){e.String="String"}(r=t.PredefinedFormatters||(t.PredefinedFormatters={})),t.getFormatter=function(e){if(e.type===r.String)return o.stringFormatter}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(95),a=function(e){var t=e.timestamp,n=e.targetAlias,r=e.subject,o=e.args,a=e.repeats;return[new Date(t).toLocaleString(),n,r,Array.isArray(o)?function(e){return e.map(function(e){return"object"==typeof e?i.stringify(e):e.toString()})}(o).map(function(e){return function(t){return t.length>e?t.substring(0,100)+" <CUT "+(t.length-e)+" characters>}":t}}(100)).join(" "):o,a?"(repeats "+a+" more "+(a>1?"times":"time")+")":""].reduce(function(e,t){return t?e?e+" | "+t:t:e},"")};t.stringFormatter=function(e){return e.reduce(function(e){var t={};return function(n,i,a,s){if(!n.length)return[i];var c=n,l=n.length-1,u=n[l];return e(u,i)?t[l]?t[l]++:t[l]=1:c=o(n,[i]),a===s.length-1&&(c=c.map(function(e,n){var o=t[n];return o?r(r({},e),{repeats:o}):e})),c}}(function(e,t){return e.subject===t.subject&&JSON.stringify(e.args)===JSON.stringify(t.args)}),[]).map(a).join("\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(210),i=n(96);t.Storage=i.Storage,function(e){e.LocalStorage="LocalStorage"}(r=t.PredefinedStorages||(t.PredefinedStorages={})),t.getStorage=function(e){if(e.type===r.LocalStorage)return new o.LocalStorage(e)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(96),i=n(95),a=n(97),s=function(e){function t(t){var n=e.call(this)||this;return n.maxLocalStorageSize=4e3,n.cache=[],n.localStorageKey="FLEX_LOG_CONTENT_"+t.identifier,n.cache=n.get(),n.set=a(n.set.bind(n),1e3,{maxWait:100}),n}return r(t,e),t.calculateUsedSpace=function(e){return Number((new Blob([e]).size/1024).toFixed())},t.prototype.set=function(e,n){for(var r=i.stringify(this.cache),o=0;t.calculateUsedSpace(r)>=this.getMaxLocalStorageSize()&&o<10;)this.cache=this.truncate(this.cache),r=i.stringify(this.cache),o++;t.calculateUsedSpace(r)>=this.getMaxLocalStorageSize()?n(Error("The object you're trying to store is too big. The maximum allowed size is\n                    "+this.getMaxLocalStorageSize()/1024+"Mb")):(window.localStorage.setItem(this.localStorageKey,r),e(this.get()))},t.prototype.truncate=function(e){var t=Math.floor(e.length/2);return e.slice(t,e.length)},t.prototype.setMaxLocalStorageSize=function(e){this.maxLocalStorageSize=e},t.prototype.getMaxLocalStorageSize=function(){return this.maxLocalStorageSize},t.prototype.add=function(e){return this.cache.push(e),new Promise(this.set)},t.prototype.get=function(){var e=window.localStorage.getItem(this.localStorageKey)||"[]";return JSON.parse(e)},t.prototype.clear=function(){return this.cache=[],new Promise(this.set)},t}(o.Storage);t.LocalStorage=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98);t.Transport=r.Transport;var o,i=n(212);!function(e){e.File="File"}(o=t.PredefinedTransports||(t.PredefinedTransports={})),t.getTransport=function(e){if(e.type===o.File)return new i.DownloadableFile}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.flush=function(e){var t=this.getAnchorTag(),n=new Blob([e],{type:"octet/stream"}),r=window.URL.createObjectURL(n);t.href=r,t.download=(new Date).toISOString()+".txt",t.click(),window.URL.revokeObjectURL(r)},t.prototype.getAnchorTag=function(){return this.anchorElement?this.anchorElement:(this.anchorElement=document.createElement("a"),document.body.appendChild(this.anchorElement),this.anchorElement.style.display="none",this.anchorElement)},t}(n(98).Transport);t.DownloadableFile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(5),a=n(61);function s(e){r.ChatChannelState.Actions.unload(e.sid)}var c=function(){function e(){}return e.init=function(e){e.addListener("channelJoined",this.handleChannelJoined),e.addListener("channelLeft",this.handleChannelLeft),e.addListener("channelRemoved",this.handleChannelRemoved)},e.handleChannelJoined=function(e){var t=i.TaskHelper.getTaskFromChannelSid(e.sid);t?(o.log.debug("channel joined, loading",e.sid),a.loadTaskChatChannel(t)):o.log.warn("Task for chat channel does not exist - not loading yet",e.sid)},e.handleChannelLeft=function(e){return o.log.debug("handleChannelLeft for channel",e.sid),s(e)},e.handleChannelRemoved=function(e){return o.log.debug("handleChannelRemoved for channel",e.sid),s(e)},e}();t.ChatListener=c},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(99);r(n(99)),r(n(215)),r(n(59)),t.initDefaultChannels=function(e){o.init(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(59),a=n(23),s=n(40),c=n(60),l=n(7),u=n(100),p={Pending:"TaskLineQueue",Accepted:"TaskLineChatAssigned",Wrapping:"TaskLineChatAssigned"};function f(e,t,n,f,d,h,m,v,g,y,k,C){void 0===n&&(n="Message"),void 0===f&&(f="MessageBold"),void 0===d&&(d=s.defaultChannelColors.chat),void 0===h&&(h="TaskLineChatReserved"),void 0===m&&(m=32768),void 0===v&&(v="TaskHeaderStatusAccepted"),void 0===g&&(g="TaskLineChatAssigned"),void 0===y&&(y="IncomingChatNotificationTitle"),void 0===k&&(k="IncomingChatBrowserNotificationTitle"),void 0===C&&(C="IncomingChatBrowserNotificationBody");var b={IncomingTask:{content:y,type:o.NotificationType.information,timeout:0,icon:"Message",actions:u.incomingTaskNotificationActions,options:{browser:{title:k,body:C,onClick:function(e,t){l.tryInvokeAction("SelectTask",{task:e.context.task})},options:{requireInteraction:!0}}}}},_=r(r({},p),{Pending:h,Accepted:g});return o.Utils.merge(i.Default,{name:e,isApplicable:t,charLimit:m,capabilities:new Set([a.TaskChannelCapability.Chat,a.TaskChannelCapability.Info,a.TaskChannelCapability.Wrapup]),colors:{main:{Accepted:d,Pending:d,Reserved:d,Assigned:d}},icons:{list:{Pending:f,Accepted:f,Canceled:n,Wrapping:n,Completed:n,Reserved:f,Assigned:f},active:f,main:n},templates:{IncomingTaskCanvas:{secondLine:p,titleLine:{Pending:h}},TaskListItem:{secondLine:_},TaskCanvasHeader:{secondLine:{Pending:"TaskHeaderStatusPending",Accepted:v,Wrapping:"TaskHeaderStatusWrapup",Completed:"TaskHeaderStatusCompleted"},endButton:{Assigned:"TaskHeaderEndChat",Accepted:"TaskHeaderEndChat",Wrapping:"TaskHeaderComplete"}},Supervisor:{TaskCanvasHeader:{secondLine:{Pending:"TaskHeaderStatusPending",Accepted:v,Wrapping:"TaskHeaderStatusWrapup",Completed:"TaskHeaderStatusCompleted"}}}},componentProps:{TaskListItem:{Badge:{children:function(e,t){return new c.AppStateHelper(e).getUnconsumedMessagesCountForTask(t.task)}}}},notifications:{override:b}})}t.Chat=f("chat",function(e){return"chat"===e.taskChannelUniqueName},"Message","MessageBold",s.defaultChannelColors.chat,void 0,void 0,"TaskHeaderWebChatStatusAccepted","TaskLineWebChatAssigned"),t.ChatMessenger=f("chat-messenger",function(e){return t.Chat.isApplicable(e)&&("facebook"===e.channelType||"messenger"===e.channelType)},"Facebook","FacebookBold",s.defaultChannelColors.facebook,"TaskLineChatMessengerReserved",4e3,void 0,void 0,"IncomingMessengerNotificationTitle","IncomingMessengerBrowserNotificationTitle"),t.ChatLine=f("chat-line",function(e){return t.Chat.isApplicable(e)&&"line"===e.channelType},"Line","LineBold",s.defaultChannelColors.line,"TaskLineChatLineReserved",4e3,void 0,void 0,"IncomingLineNotificationTitle","IncomingLineBrowserNotificationTitle"),t.ChatWhatsApp=f("chat-whatsapp",function(e){return t.Chat.isApplicable(e)&&"whatsapp"===e.channelType},"Whatsapp","WhatsappBold",s.defaultChannelColors.whatsapp,"TaskLineChatWhatsAppReserved",4e3,void 0,void 0,"IncomingWhatsAppNotificationTitle","IncomingWhatsAppBrowserNotificationTitle"),t.ChatSms=f("chat-sms",function(e){return"sms"===e.taskChannelUniqueName||t.Chat.isApplicable(e)&&"sms"===e.channelType},"Sms","SmsBold",s.defaultChannelColors.sms,"TaskLineSmsReserved",1600,void 0,void 0,"IncomingWhatsAppNotificationTitle","IncomingWhatsAppBrowserNotificationTitle"),t.createChatTaskChannel=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(5),c=n(3),l=n(17),u=n(4),p=n(2),f=n(7),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMonitorClick=function(){t.props.monitorStatus===l.CallMonitoringStatus.none?f.tryInvokeAction("MonitorCall",{task:t.props.task}):t.props.monitorStatus===l.CallMonitoringStatus.monitoring&&f.tryInvokeAction("StopMonitoringCall",{task:t.props.task})},t}return r(t,e),t.prototype.render=function(){var e=this.props.task;return s.TaskHelper.isLiveCall(e)?e.workerSid===c.FlexModule.workerClient.sid?null:e.conference?i.createElement(a.IconButton,{className:"Twilio-SupervisorTaskOverviewActions-MonitorButton",icon:this.props.monitorStatus===l.CallMonitoringStatus.monitoring?"MonitorOffLarge":"MonitorBoldLarge",disabled:this.props.monitorStatus===l.CallMonitoringStatus.waiting,onClick:this.onMonitorClick,themeOverride:this.props.monitorStatus===l.CallMonitoringStatus.monitoring?this.props.theme.Supervisor.TaskCanvas.MonitorActiveButton:this.props.theme.Supervisor.TaskCanvas.Button,title:u.templates.MonitorCallTooltip()}):null:null},t=o([p.withTheme],t)}(i.Component);t.SupervisorTaskOverviewActionsImpl=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(218);t.QueueStatsConnectionStatusInfo=r.connect(function(e){return{connectionState:e.connectionStatus.connectionState}})(o.QueueStatsConnectionStatusInfoImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(20),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){"connected"!==this.props.connectionState&&i.Notifications.showNotification(a.QueuesStatsStale)},t.prototype.componentDidUpdate=function(e){e.connectionState!==this.props.connectionState&&("connected"===this.props.connectionState?i.Notifications.dismissNotificationById(a.QueuesStatsStale):i.Notifications.showNotification(a.QueuesStatsStale))},t.prototype.componentWillUnmount=function(){i.Notifications.dismissNotificationById(a.QueuesStatsStale)},t.prototype.render=function(){return null},t}(o.PureComponent);t.QueueStatsConnectionStatusInfoImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(220);t.QueueStatsConnectionStatusInfoText=r.connect(function(e){return{timestampLastConnected:e.connectionStatus.timestampLastConnected}})(o.QueueStatsConnectionStatusInfoTextImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.intervalHandle=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){window.clearInterval(this.intervalHandle)},t.prototype.render=function(){var e=i.Utils.formatTimeDuration(Date.now()-this.props.timestampLastConnected);return o.createElement("div",null,"You are currently experiencing connectivity issues. The data has not been updated for"," ",e,".")},t}(o.PureComponent);t.QueueStatsConnectionStatusInfoTextImpl=a},function(e,t){e.exports=require("twilio-chat")},function(e,t){e.exports=require("twilio-sync")},function(e,t){e.exports=require("twilio-taskrouter")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(104);function c(e){return r(r({},e.value),{key:e.key})}t.WORKSPACE_KEY="workspace",t.initialState={queuesList:{},hasFetchedList:!1,workspaceStats:void 0,filter:void 0},t.reduce=function(e,n){var o;switch(void 0===e&&(e=t.initialState),n.type){case s.SET_QUEUES:var i=n.payload.reduce(function(e,t){return e[t.key]=t,e},{});return r(r({},e),{queuesList:i,hasFetchedList:!0});case s.ADD_QUEUE:case s.UPDATE_QUEUE:return r(r({},e),{queuesList:r(r({},e.queuesList),(o={},o[n.payload.key]=n.payload,o))});case s.REMOVE_QUEUE:return delete(i=r({},e.queuesList))[n.payload],r(r({},e),{queuesList:i});case s.SET_WORKSPACE_STATS:return r(r({},e),{workspaceStats:n.payload});case s.UPDATE_FILTER:return r(r({},e),{filter:n.payload});default:return e}};var l=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||a.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.init=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return e=this,[4,a.FlexModule.insightsClient.map({id:"realtime_statistics_v1",mode:"open_existing"})];case 1:return e._map=t.sent(),[2,this.fetchWorkerQueues()]}})})},e.close=function(){this._map&&this._map.close()},e.setFilter=function(e){this.dispatcher({type:s.UPDATE_FILTER,payload:e})},e.fetchWorkerQueues=function(){return o(this,void 0,void 0,function(){var e,n,r,o;return i(this,function(i){switch(i.label){case 0:return this._map?[4,this._map.getItems()]:[3,2];case 1:e=i.sent().items,n=e.map(function(e){return c(e)}),r=n.find(function(e){return e.key===t.WORKSPACE_KEY}),o=n.filter(function(e){return e.key!==t.WORKSPACE_KEY}),this.dispatcher({type:s.SET_QUEUES,payload:o}),r&&this.dispatcher({type:s.SET_WORKSPACE_STATS,payload:r}),this.registerMapListeners(),i.label=2;case 2:return[2]}})})},e.registerMapListeners=function(){this._map&&(this._map.on("itemAdded",this.handleItemAdded),this._map.on("itemUpdated",this.handleItemUpdated),this._map.on("itemRemoved",this.handleItemRemoved))},e.handleItemAdded=function(t){var n=t.item;e.dispatcher({type:s.ADD_QUEUE,payload:c(n)})},e.handleItemUpdated=function(n){var r=c(n.item);r.key===t.WORKSPACE_KEY?e.dispatcher({type:s.SET_WORKSPACE_STATS,payload:r}):e.dispatcher({type:s.UPDATE_QUEUE,payload:r})},e.handleItemRemoved=function(t){var n=t.key;e.dispatcher({type:s.REMOVE_QUEUE,payload:n})},e}();t.Actions=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(105);t.queuesListSelector=function(e){return e.realtimeQueues.queuesList},t.queuesListFilterSelector=function(e){return e.realtimeQueues.filter},t.workspaceStatsSelector=function(e){return e.realtimeQueues.workspaceStats},t.queuesListArraySelector=r.createSelector(t.queuesListSelector,t.queuesListFilterSelector,function(e,t){return void 0===t&&(t=function(){return!0}),Object.keys(e).map(function(t){return e[t]}).filter(t).sort(function(e,t){return e.friendly_name.localeCompare(t.friendly_name)})}),t.workspaceActiveTasksSelector=r.createSelector(t.queuesListArraySelector,function(e){return e.reduce(function(e,t){return e+t.tasks_by_status.assigned+t.tasks_by_status.wrapping},0)}),t.workspaceWaitingTasksSelector=r.createSelector(t.queuesListArraySelector,function(e){return e.reduce(function(e,t){return e+t.tasks_by_status.reserved+t.tasks_by_status.pending},0)}),t.workspaceLongestQueueSelector=r.createSelector(t.queuesListArraySelector,function(e){return e.reduce(function(e,t){var n=t.longest_task_waiting_from?new Date(t.longest_task_waiting_from):new Date;return n<e.timestamp?{queue:t,timestamp:n}:e},{timestamp:new Date,queue:null}).queue})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(3);function i(e,t,n){return e.activity_statistics.filter(function(e){return function(e){return o.FlexModule.workerClient.activities.get(e.sid).available}(e)===t&&function(e){var t=r.Manager.getInstance().serviceConfiguration.taskrouter_offline_activity_sid;return t&&t===e.sid||"Offline"===e.friendly_name}(e)===n}).reduce(function(e,t){return e+t.workers},0)}t.getAvailableAgentsCount=function(e){return e?i(e,!0,!1):0},t.getUnavailableAgentsCount=function(e){return e?i(e,!1,!1):0},t.getOfflineAgentsCount=function(e){return e?i(e,!1,!0):0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97),o=n(3),i=n(107),a={timestampLastConnected:Date.now(),connectionState:"connected"};t.reduce=function(e,t){switch(void 0===e&&(e=a),t.type){case i.CONNECTION_STATUS_CHANGE:if(t.payload!==e.connectionState){var n=e.timestampLastConnected;return"connected"!==e.connectionState&&"connected"!==t.payload||(n=Date.now()),{timestampLastConnected:n,connectionState:t.payload}}return e;default:return e}};var s=function(){function e(){}return e.init=function(e,t){void 0===e&&(e=o.FlexModule.insightsClient),void 0===t&&(t=o.FlexModule.dispatch),this.syncClient=e,this.dispatch=t,this.updateConnectionState(this.syncClient.connectionState),this.syncClient.on("connectionStateChanged",this.updateConnectionState)},e.updateConnectionState=function(t){e.dispatchUpdate(t),"connected"===t&&e.dispatchUpdate.flush()},e.dispatchUpdate=r(function(t){e.dispatch({type:i.CONNECTION_STATUS_CHANGE,payload:t})},5e3),e}();t.ConnectionStatusState=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(108);t.initialState={localOverrides:{},features:{}},t.reduce=function(e,n){var o;switch(void 0===e&&(e=t.initialState),n.type){case i.FEATURE_FLAGS_UPDATE:var a=n.payload.reduce(function(e,t){return e[t.id]=t,e},{});return r(r({},e),{features:r(r({},e.features),a)});case i.FEATURE_FLAGS_OVERRIDES_UPDATE:return r(r({},e),{localOverrides:n.payload});case i.FEATURE_FLAG_OVERRIDE:return n.payload.id?r(r({},e),{localOverrides:r(r({},e.localOverrides),(o={},o[n.payload.id]=n.payload,o))}):e;default:return e}};var a=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||o.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.setFeatures=function(t){t&&e.dispatcher({type:i.FEATURE_FLAGS_UPDATE,payload:t})},e.setFeatureOverrides=function(t){t&&e.dispatcher({type:i.FEATURE_FLAGS_OVERRIDES_UPDATE,payload:t})},e.overrideFeatureFlag=function(t){t&&e.dispatcher({type:i.FEATURE_FLAG_OVERRIDE,payload:t})},e}();t.Actions=a},function(e,t){e.exports=require("lodash.merge")},function(e,t){e.exports=require("redux-logger")},function(e,t){e.exports=require("redux-promise-middleware")},function(e,t){e.exports=require("history")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={language:"en-US",colorTheme:"BlueMediumTheme",pluginService:{enabled:!0},sdkOptions:{insights:{productId:"flex_insights"}},rejectPendingReservations:!0,notifications:{browser:!1}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i='\n<h1>TASK CONTEXT</h1>\n<h2>Task type</h2>\n<p>{{task.channelType}}</p>\n<h2>Task created on</h2>\n<p>{{task.dateCreated}}</p>\n<h2>Task priority</h2>\n<p>{{task.priority}}</p>\n<h2>Task queue</h2>\n<p>{{task.queueName}}</p>\n<h2>Task Sid</h2>\n<p>{{task.taskSid}}</p>\n<h2>Reservation Sid</h2>\n<p>{{task.sid}}</p>\n<hr />\n<h1>CUSTOMER CONTEXT</h1>\n<h2>Customer name / phone number</h2>\n<p>{{task.defaultFrom}}</p>\n<h2>Country</h2>\n<p>{{task.attributes.caller_country}}</p>\n<hr />\n<h1>ADDONS</h1>\n<p>\n    No add-ons enabled.\n    To expand your experience, visit\n</p>\n<a href="https://www.twilio.com/marketplace/add-ons" target="blank">Twilio Marketplace</a>',a=r(r({},o.languages.default),{SetYourStatus:"Set your status",LogOut:"Log out",SigningIn:"Signing in",SessionExpired:"Your session has expired. <a href='#' onClick='window.location.reload()'>Click here to log in again</a>",NoTasksTitle:"Status",NoTasks:"No active tasks",NoTasksHintNotAvailable:"Change activity state to start receiving tasks.",NoTasksHintAvailable:"You are ready to start receiving tasks.",NoCRMConfigured:"No CRM configured",NoCRMConfiguredAction:"HOW TO CONFIGURE",NoCRMTitle:"CRM config",NoCRMHint:"Our docs can help you get started.",LoginUsername:"User Name",LoginPassword:"Password",LoginLoading:"Loading ...",LoginWelcome:"Hi there, welcome to Flex!",LoginLogin:"LOGIN",LoginContinue:"Continue anyway",LoginAgain:"Login again",LoginLaunch:"Launch",LoginTitle:"Twilio Flex",LoginErrorDomain:"Oops! Your runtime domain is incorrect.",LoginErrorDomainDetails:"Find your runtime domain <a href='https://www.twilio.com/console/runtime/overview'>here</a>",LoginErrorSso:"Hmm, Single Sign-On has not been configured.",LoginErrorSsoDetails:"Find out how to configure Single Sign-On <a href='https://www.twilio.com/console/flex/users/single-sign-on'>here</a>",LoginErrorPopupBlocked:"Sorry, pop-ups are blocked.",LoginErrorPopupBlockedDetails:"<a href='https://support.google.com/chrome/answer/95472'>Find out how to enable pop-ups in your browser</a>",LoginErrorUntrustedDomain:"Trusted Login has not been enabled for this domain.",LoginErrorUntrustedDomainDetails:"Find out how to configure Single Sign-On <a href='https://www.twilio.com/docs/flex/configuring-single-sign-and-identity-provider-integration#how-do-i-login-to-a-self-hosted-domain' target='_blank'>here</a>",LoginErrorInvalidCertificate:"Invalid SSO Settings",LoginErrorInvalidCertificateDetails:"This may be caused by malformed urls or missing/invalid certificates.<br><br>Please reconfigure the <a href='https://www.twilio.com/docs/api/errors/70251' target='_blank'>SSO settings</a> and retry.",LoginErrorGeneric:"Oops! Well, that didn't work :( Please double check your configuration.",LoginIsAdmin:"Flex Admin?",LoginWithTwilio:"Login with Twilio.",TaskHeaderLeaveCall:"LEAVE CALL",TaskHeaderEndCall:"HANG UP",TaskHeaderWrapup:"WRAP UP",TaskHeaderComplete:"COMPLETE",TaskHeaderEndChat:"END CHAT",TaskHeaderStatusPending:"",TaskHeaderStatusAccepted:"Live | {{helper.durationSinceUpdate}}",TaskHeaderWebChatStatusAccepted:"{{#if helper.chat.isCustomerOnline}} {{{icon name='GreenIndicator'}}} {{else}} {{{icon name='GreyIndicator'}}} {{/if}} Live | {{helper.durationSinceUpdate}}",TaskHeaderGroupCallAccepted:"Live | {{helper.durationSinceUpdate}} | {{{icon name='Participant'}}} {{task.conference.liveParticipantCount}}",TaskHeaderStatusWrapup:"Wrap up | {{helper.durationSinceUpdate}}",TaskHeaderStatusCompleted:"Completed | {{helper.durationSinceUpdate}}",SideNavTaskView:"Agent Desktop",SideNavTeamsView:"Teams",SideNavAgentDashboard:"Agent Dashboard",SideNavSupervisorInspections:"Supervisor Inspections",SideNavSupervisorDashboard:"Supervisor Dashboard",SideNavSupervisorReports:"Supervisor Reports",SideNavSettings:"Settings",SideNavQueuesStatsView:"Queues Stats",TaskHeaderLine:"{{task.defaultFrom}}",TaskExtraInfo:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",TaskLineCallIncomingTitle:"Incoming call",TaskLineCallTransferTitle:"Transfer request",TaskLineCallEndedTitle:"Call ended",TaskLineQueue:"Queue: {{task.queueName}}",TaskLineCallDuration:"{{helper.durationSinceUpdate}}",TaskLineCallReserved:"Incoming call from queue {{task.queueName}}",TaskLineCallAssigned:"Live | {{helper.durationSinceUpdate}}",TaskLineCallWrapup:"Wrap up | {{helper.durationSinceUpdate}}",TaskLineGroupCallAssigned:"Live | {{helper.durationSinceUpdate}} | {{{icon name='Participant'}}} {{task.conference.liveParticipantCount}}",TaskLineCallTransferWorker:"Request from {{task.incomingTransferObject.worker.fullName}} (direct)",TaskLineCallTransferWorkerDetail:"From: {{task.incomingTransferObject.worker.fullName}} (direct)<br />Queue: {{task.queueName}}",TaskLineCallTransferQueue:"Request from {{task.incomingTransferObject.worker.fullName}} ({{task.incomingTransferObject.queue.name}})",TaskLineCallTransferQueueDetail:"From: {{task.incomingTransferObject.worker.fullName}}<br />Queue: {{task.queueName}}",TaskLineChatReserved:"Incoming chat request",TaskLineChatLineReserved:"Incoming Line request",TaskLineChatMessengerReserved:"Incoming Messenger request",TaskLineChatWhatsAppReserved:"Incoming WhatsApp request",TaskLineSmsReserved:"Incoming SMS request",TaskLineChatAssigned:"{{helper.durationSinceUpdate}} | {{#if helper.chat.typers.length}} typing … {{else}} {{#if helper.chat.lastMessage}} {{helper.chat.lastMessage.authorName}}: {{helper.chat.lastMessage.body}}{{else}}No messages{{/if}}{{/if}}",TaskLineWebChatAssigned:"{{#if helper.chat.isCustomerOnline}} {{{icon name='GreenIndicator'}}} {{else}} {{{icon name='GreyIndicator'}}} {{/if}}{{helper.durationSinceUpdate}} | {{#if helper.chat.typers.length}} typing … {{else}} {{#if helper.chat.lastMessage}} {{helper.chat.lastMessage.authorName}}: {{helper.chat.lastMessage.body}}{{else}}No messages{{/if}}{{/if}}",TaskLineTitle:"",TaskReserved:"Reserved",TaskAssigned:"Assigned",TaskWrapup:"In wrap up",TaskCompleted:"Completed",TaskCanceled:"Canceled",TaskFilterAll:"ALL TASKS",TaskFilterActive:"ACTIVE TASKS",TaskFilterWrapping:"TASKS IN WRAP UP",TaskInfoPanelContent:i,ColumnHeaderAgent:"AGENT",ColumnHeaderCalls:"CALLS",ColumnHeaderTasks:"OTHER TASKS",SupervisorUserCardFirstLine:"{{worker.fullName}}",SupervisorUserCardSecondLine:"{{worker.activityName}} | {{worker.activityDuration}}",SupervisorTaskViewContentHeader:"{{worker.fullName}}, {{task.defaultFrom}}",SupervisorTaskHeaderLine:"{{task.defaultFrom}}",SupervisorTaskLive:"{{helper.durationSinceUpdateShort}}",SupervisorTaskGroupCall:"{{helper.durationSinceUpdateShort}} | ({{task.conference.liveParticipantCount}})",SupervisorTaskWrapUp:"Wrap up | {{helper.durationSinceUpdateShort}}",SupervisorTaskCompleted:"Completed | {{helper.durationSinceUpdateShort}}",SupervisorTaskCardHeader:"{{task.defaultFrom}}",SupervisorTaskInfoPanelContent:i,LiveCommsMonitoringMessage:"You are listening to a call with {{task.defaultFrom}} and {{worker.fullName}}",LiveCommsMonitoringMessageMoreWorkers:"You are listening to a call with {{task.defaultFrom}} and {{workers.length}} workers",LiveCommsMonitoringMessageNoWorkers:"You are listening to a call with {{task.defaultFrom}}",LiveCommsOngoingCallMessage:"You are on a call with {{task.defaultFrom}}",LiveCommsBarReturnToCall:"RETURN",LiveCommsBarStopListening:"STOP LISTENING",LiveCommsBarHold:"HOLD",LiveCommsBarUnHold:"UNHOLD",WorkerDirectoryTitle:"Transfer",WorkerDirectoryItemFirstLine:"{{worker.fullName}}",WorkerDirectoryItemSecondLine:"{{worker.activityName}}",WorkerDirectoryAgentsTabLabel:"AGENTS",WorkerDirectoryQueuesTabLabel:"QUEUES",WorkerDirectoryQueueItemText:"{{queue.name}}",WorkerDirectorySearchPlaceholder:"Search",ChatInputDisabledText:"Conversation ended",WorkerCanvasHeader:"Profile",WorkerCanvasDetailsHeader:"Agent Details",WorkerCanvasSkillsHeader:"Skills",WorkerSkillLevelInvalid:"Please select a skill level between {{min}} - {{max}}",WorkerSkillPleaseSelect:"Add skill",WorkerSkillsNoSkills:"No skills attributed",WorkerSkillsSchemaMismatch:"Worker skills schema mismatch",WorkerSkillsSaved:"Changes saved successfully",WorkerSkillsError:"Failed to save changes",WorkerSkillsReverted:"Changes reverted",ChatWelcomeText:"Conversation started with customer",UiVersionDeprecated:"{{message}}",RuntimeLoginLabel:"Runtime domain",RuntimeLoginPlaceholder:"Your Runtime Domain",RuntimeLoginLaunch:"Launch",RuntimeLoginWithTwilio:"Login with Twilio.",RuntimeLoginIsAdmin:"Flex Admin?",RuntimeLoginErrorDomain:"Oops! Well, that didn’t work :( Check your <b>domain</b>.",RuntimeLoginErrorSso:"Oops! Well, that didn’t work :( Check your <b>SSO</b> setup.",TransferFailedNotification:"Transfer failed: {{reason}}",TaskCannotBeTransferredNotification:"Task cannot be transferred",SupervisorTaskCanvasHeader:"TASK DETAILS",TaskTabAgentIncomingLabel:"Incoming",TaskTabAgentCallLabel:"Call",TaskTabAgentChatLabel:"Chat",TaskTabAgentInfoLabel:"Info",TaskTabSupervisorOverviewLabel:"Overview",TaskTabSupervisorCallLabel:"Call",TaskTabSupervisorChatLabel:"Chat",TaskTabSupervisorInfoLabel:"Info",MicNotAvailableNotification:"Unable to access microphone, please check browser settings.",BrowserVoiceDisabledNotification:"Call cannot be accepted. Twilio Voice SDK has been disabled.",MessageSizeExceeded:"The entered character number exceeds the limit - {{currentCharCount}}/{{maxCharCount}}",UserControlWorkerSecondLine:"{{worker.activityName}} | {{worker.activityDuration}}",UserLoggedOutSuccess:"You have logged out successfully!",CannotChangeOtherWorkerActivity:"You cannot change an agent’s activity while they have a pending task/reservation.",CallCanvasWorkerOnHold:"You are on hold",CallCanvasUnholdWorker:"Unhold",CallParticipantStatusOnHold:"On Hold",CallParticipantStatusLive:"Live",CallParticipantStatusConnecting:"Calling...",CallParticipantStatusLeft:"Caller left",CallParticipantStatusTransferFailed:"No Answer",CallParticipantStatusKickConfirmation:"Remove from call?",LiveCommsIncomingDirectCallTransfer:"Request from {{task.incomingTransferObject.worker.fullName}} (direct)",LiveCommsIncomingQueueCallTransfer:"Request from {{task.incomingTransferObject.worker.fullName}} ({{task.incomingTransferObject.queue.name}})",CallParticipantCustomerName:"{{task.defaultFrom}}",MonitoringFailedNotification:"Monitoring attempt has failed",PredefinedChatMessageAuthorName:"Bot",PredefinedChatMessageBody:"Hi there! How can we help you today?",AgentStatusAvailable:"Available",AgentStatusBusy:"Busy",AgentStatusUnavailable:"Unavailable",AgentStatusOffline:"Offline",ActiveTasksTileTitle:"Active tasks",WaitingTasksTileTitle:"Waiting tasks",AgentsByActivityTileTitle:"Agents",LongestWaitTimeTileTitle:"Longest wait",QueuesNoDataHeading:"Queues",QueuesNoDataBodyForAdmin:"You have no Queues set up. Please configure your Queues.",QueuesNoDataBodyForSupervisor:"There are no Queues set up. Please contact your Administrator.",QueuesNoDataLinkLabelForAdmin:"Add Queue",PendingReservationsOnLogoutNotification:"You cannot logout while you have a pending task/reservation",PendingReservationsOnActivityStateChangeNotification:"You cannot update your activity while you have a pending task/reservation",AcceptTaskTooltip:"Accept",RejectTaskTooltip:"Reject",HangupCallTooltip:"Hang up",LeaveCallTooltip:"Leave",MuteCallTooltip:"Mute",HoldCustomerTooltip:"Hold Customer",UnholdCustomerTooltip:"Unhold Customer",HoldAgentTooltip:"Hold {{worker.fullName}}",UnholdAgentTooltip:"Unhold {{worker.fullName}}",CancelTransferTooltip:"Cancel Consult",KickAgentTooltip:"Hang up {{worker.fullName}}",ColdTransferTooltip:"Transfer",WarmTransferTooltip:"Consult",MonitorCallTooltip:"Monitor Call",LogToFileStartLoggingText:"<div>\n    <h2>Capture logs</h2>\n    <ul>\n        <li>When you enable logging, your browser will be refreshed and logs capturing will start.</li>\n        <li>Once you are ready to finish - stop logging. All captured logs will be saved to a text file.</li>\n    </ul>\n  </div>",LogToFileStartLoggingLabel:"Refresh and start",LogToFileStopLoggingText:"<div>\n    <h2>Logging is active</h2>\n    <p>\n    If you've repeated your actions and reproduced the issue, stop logging to download the file with captured logs.\n    </p>\n  </div>",LogToFileStopLoggingLabel:"Finish and download",ChatOrchestrationAddToChatChannelFailed:"Failed to add worker to the chat channel.",ChatOrchestrationDeactivateChatChannelFailed:"Failed to deactivate the chat channel.",ChatOrchestrationLeaveChatChannelFailed:"Failed to remove worker from the chat channel.",TeamsViewFilterAction:"Filter{{#if filterCount}} ({{filterCount}}){{/if}}",TeamsViewClearSearchAction:"Clear search result",TeamsViewClearSearchPlaceholder:"Search Agents",TeamsViewResultsSummaryNoWorkersDisplayed:"No agents matched your criteria. Refine results via search or filter.",TeamsViewResultsSummaryMaxWorkersDisplayed:"Showing maximum number of agents. Refine results via search or ",TeamsViewResultsSummaryFilterCTA:"filter",TeamFiltersPanelTitle:"Filters",TeamFiltersPanelSingularLabel:"Viewing <strong>{{number}}</strong> agent",TeamFiltersPanelPluralLabel:"Viewing <strong>{{number}}</strong> agents",TeamFiltersApply:"Apply",TeamFiltersReset:"Reset",AudioPlayerDeniedError:"Cannot play sound, because permissions for playback of media were not given or denied. To find out more about how to fix this error, go to <a href='https://www.twilio.com/docs/flex/audio-player' target='blank'>FlexDocs</a>.",AudioPlayerInvalidMediaError:"Cannot play sound, because provided media is invalid.",AudioPlayerGenericError:"Error playing media.",RequestBrowserNotificationPermissions:"We need your permission to <a href='#'>enable browser notifications</a>",IncomingCallBrowserNotificationTitle:"Incoming call",IncomingCallBrowserNotificationBody:"From: {{task.defaultFrom}}",IncomingCallNotificationTitle:"Incoming call from {{task.defaultFrom}}",IncomingCallTransferNotificationTitle:"Transfer request from {{task.defaultFrom}}",IncomingCallTransferBrowserNotificationTitle:"Transfer request",IncomingCallTransferWorkerBrowserNotificationBody:"From {{task.incomingTransferObject.worker.fullName}} (direct)",IncomingCallTransferQueueBrowserNotificationBody:"From {{task.incomingTransferObject.worker.fullName}} ({{task.incomingTransferObject.queue.name}})",IncomingNotificationAccept:"accept",IncomingNotificationReject:"reject",IncomingChatNotificationTitle:"Incoming chat request from {{task.defaultFrom}}",IncomingLineNotificationTitle:"Incoming Line request from {{task.defaultFrom}}",IncomingMessengerNotificationTitle:"Incoming Messenger request from {{task.defaultFrom}}",IncomingWhatsAppNotiticationTitle:"Incoming WhatsApp request from {{task.defaultFrom}}",IncomingSmsNotificationTitle:"Incoming SMS request from {{task.defaultFrom}}",IncomingChatBrowserNotificationTitle:"Incoming chat request",IncomingLineBrowserNotificationTitle:"Incoming Line request",IncomingMessengerBrowserNotificationTitle:"Incoming Messenger request",IncomingWhatsAppBrowserNotiticationTitle:"Incoming WhatsApp request",IncomingSmsBrowserNotificationTitle:"Incoming SMS request",IncomingChatBrowserNotificationBody:"From: {{task.defaultFrom}}"});t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),o=n(6),i=n(13),a=n(20);!function(e){e.yes="yes",e.no="no",e.deprecated="deprecated"}(t.CompatibilityOptions||(t.CompatibilityOptions={})),t.isCompatible=function(e,t){switch(void 0===t&&(t=void 0),e){case"yes":return!0;case"deprecated":return i.Notifications.showNotification(a.FlexUiVersionDeprecated,{message:t}),o.log.warn("This version of Flex is deprecated and will not work with future version of back end services. Please contact your administrator. UI version",r.VERSION,t),!0;default:return o.log.error("This version of Flex is not compatible with back end services. UI version",r.VERSION,t),!1}}},function(e,t){e.exports=require("@twilio/wfo-identity-client-flex")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(11),i=n(44),a=n(32),s=n(6),c=n(239);t.fetchFlexFeatures=function(e){c.FeatureFlags.init(e);var t=e.user.token,n=o.getSessionUrl(e.configuration);i.Actions.setFeatureOverrides(e.configuration.featureOverrides),r.default.get(n,{headers:{"X-Flex-Version":a.VERSION,"X-Flex-JWE":t}}).then(function(e){try{var t=e.data.features;i.Actions.setFeatures(t)}catch(e){s.log.error("Failed to set feature flags configuration",e)}}).catch(function(e){s.log.error("Failed to fetch feature flag config",e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),o=n(44),i=function(){function e(){}return e.init=function(e){this.manager=e},e.isEnabled=function(e){var t=r.featureFlagsSelector(this.manager.store.getState().flex);return t[e]?t[e].enabled:void 0},e.set=function(e,t){o.Actions.overrideFeatureFlag({id:e,enabled:t})},e}();t.FeatureFlags=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(117),o=n(6),i=n(0),a=n(20),s=n(3),c=function(){function e(e){var t=this;this.transfer=function(e,n){var r=function(n){o.default.debug("transfer of task "+t._task.sid+" to "+e+" unsuccessful",n);var r=n.response&&n.response.statusText?n.response.statusText:"Unknown error";throw i.Notifications.showNotification(a.TransferFailed,{reason:r}),n};return n.mode&&"COLD"===n.mode?t._reservation.updateParticipant({endConferenceOnExit:!1}).then(function(){return t._task.transfer(e,n).catch(function(e){throw t._reservation.updateParticipant({endConferenceOnExit:!0}),e})}).then(function(){o.default.debug("transfer of task "+t._task.sid+" to "+e+" successful")}).catch(function(e){r(e)}):t._task.transfer(e,n).then(function(){o.default.debug("transfer of task "+t._task.sid+" to "+e+" successful")}).catch(function(e){r(e)})},this.setAttributes=function(e){return t._task.setAttributes(e)},this.wrapUp=function(){return t._reservation.wrap()},this.complete=function(){return t._reservation.complete()},this.hold=function(){return t._task.updateParticipant({hold:!0})},this.unhold=function(){return t._task.updateParticipant({hold:!1})},this.holdParticipant=function(e){var n=t.conference.participants.find(function(t){return t.workerSid===e});return n&&"worker"===n.participantType?t._task.hold(n.workerSid,!0):t.hold()},this.unholdParticipant=function(e){var n=t.conference.participants.find(function(t){return t.workerSid===e});return n&&"worker"===n.participantType?t._task.hold(n.workerSid,!1):t.unhold()},this.kick=function(e){return t._task.kick(e)},this.cancelTransfer=function(){return t._outgoingTransferObject.cancel()},this._reservation=e,this._task=e.task,this._task.transfers&&(this._task.transfers.incoming&&(this._incomingTransferObject=new r.TaskTransfer(this._task.transfers.incoming)),this._task.transfers.outgoing&&(this._outgoingTransferObject=new r.TaskTransfer(this._task.transfers.outgoing)))}return Object.defineProperty(e.prototype,"source",{get:function(){return this._task},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceObject",{get:function(){return this._reservation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addOns",{get:function(){return this._task.addOns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"age",{get:function(){return this._task.age},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this._task.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateCreated",{get:function(){return this._reservation.dateCreated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return this._reservation.dateUpdated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this._task.priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueName",{get:function(){return this._task.queueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueSid",{get:function(){return this._task.queueSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this._task.reason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this._reservation.sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskSid",{get:function(){return this._task.sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._reservation.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskStatus",{get:function(){return this._task.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelSid",{get:function(){return this._task.taskChannelSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelUniqueName",{get:function(){return this._task.taskChannelUniqueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this._task.timeout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowName",{get:function(){return this._task.workflowName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowSid",{get:function(){return this._task.workflowSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerSid",{get:function(){return this._reservation.workerSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFrom",{get:function(){var e=this.attributes;return e.name||e.from||"Anonymous"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"channelType",{get:function(){return this.attributes.channelType||this.taskChannelUniqueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incomingTransferObject",{get:function(){return this._incomingTransferObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outgoingTransferObject",{get:function(){return this._outgoingTransferObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conference",{get:function(){var e=s.FlexModule.state.conferences.states.get(this.taskSid);return e?e.source:void 0},enumerable:!0,configurable:!0}),e}();t.TaskRouterTask=c;var l=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this.source.sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.source.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this.source.attributes.full_name||this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityName",{get:function(){return this.source.activity.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.source.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return this.source.dateUpdated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAvailable",{get:function(){return this.source.activity&&this.source.activity.available},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityDuration",{get:function(){return this.source&&this.source.dateStatusChanged?i.Utils.formatTimeDuration(Math.max(Date.now()-new Date(this.source.dateStatusChanged).getTime(),0),"short"):""},enumerable:!0,configurable:!0}),e}();t.TaskRouterWorker=l},function(e,t){e.exports=require("async-sema")},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=n(72),a=function(){function e(e,t,n,r){this._state=void 0,this._state={worker:e,tasks:[]},this.taskFilter=r,this.initInsightsQuery(t),this.onTasksUpdated=n}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.updateWorker=function(e){this._state.worker=e},e.prototype.getTasksFromItems=function(e){return Object.keys(e).map(function(t){return new o.InsightsTask(e[t])})},e.prototype.updateTasksInState=function(e){this._state={tasks:e,worker:this.state.worker},this.onTasksUpdated(this)},e.prototype.onTasksItemsUpdated=function(e){var t=this.getTasksFromItems(e);this.updateTasksInState(t)},e.prototype.onTaskItemUpdated=function(e){var t=new o.InsightsTask(e.value),n=r(this._state.tasks),i=n.findIndex(function(e){return e.sid===t.sid});i>=0?n[i]=t:n.push(t),this.updateTasksInState(n)},e.prototype.onTaskItemRemoved=function(e){var t=this._state.tasks.filter(function(t){return t.sid!==e.key});this.updateTasksInState(t)},e.prototype.initInsightsQuery=function(e){var t=this;this.unInit();var n=i.v4();this.lastQueryUUID=n;var r='data.worker_sid == "'+this.state.worker.sid+'"';this.taskFilter&&(r=r+" && ("+this.taskFilter+")"),e.liveQuery("tr-reservation",r).then(function(e){t.lastQueryUUID===n&&(t.liveQuery=e,t.onTasksItemsUpdated(e.getItems()),e.on("itemUpdated",function(e){t.onTaskItemUpdated(e)}),e.on("itemRemoved",function(e){t.onTaskItemRemoved(e)}))})},e.prototype.unInit=function(){this.lastQueryUUID="",this.liveQuery&&(this.liveQuery.removeAllListeners(),this.liveQuery.close())},e}();t.WorkerListener=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(244);t.TaskOverviewIcon=r.TaskOverviewIcon},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(9),i=n(90),a=n(47),s=n(246);t.TaskOverviewIcon=function(e){var t=e.task,n=o.TaskChannels.getForTask(t),c=o.TaskChannelHelper.getIcon(t,n.icons.active,i.TaskOverviewCanvas),l=o.TaskChannelHelper.getColor(t,n.colors.main,i.TaskOverviewCanvas);return r.createElement(a.IconContainerWithStyle,{background:l},r.createElement(s.StyledIcon,{icon:c,sizeMultiplier:2}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),a=n(2);t.StyledIcon=a.default(i.Icon)(o||(o=r(["\n    color: ",";\n"],["\n    color: ",";\n"])),function(e){return e.color})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),a=n(29),s=n(122),c=n(248),l=n(123),u=n(5),p=n(7),f=n(35);t.displayName="ParticipantsCanvas",t.contentStore=new s.DynamicContentStore(t.displayName);var d=190,h=170,m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={participantWidth:50,listMode:!1},t.handleParticipantWidthNeedsUpdate=function(){if(t.container){var e=t.container.offsetWidth,n=t.container.offsetHeight,r=4;e<=2*h?r=1:e<=3*h?r=2:e<=4*h&&(r=3);var o=t.getParticipants();r=Math.min(r,o.length);var i=Math.ceil(o.length/r)*d>n;t.setState({listMode:i,participantWidth:100/r})}},t.setContainerRef=function(e){t.container=e},t.renderParticipants=function(){var e=t.props,n=e.task,r=e.hideActions;return t.getParticipants().map(function(e){return o.createElement(l.ParticipantCanvas,{key:e.uniqueId,participant:e,participantWidth:t.state.participantWidth,task:n,hideActions:r,listMode:t.state.listMode})})},t.unHoldMyself=function(){p.tryInvokeAction("UnholdParticipant",{task:t.props.task,targetSid:i.FlexModule.state.worker.worker.sid})},t}return r(n,e),n.prototype.componentDidMount=function(){var e=this;i.FlexModule.events.addListener(a.FlexEvent.flexSplitterResize,this.handleParticipantWidthNeedsUpdate),i.FlexModule.events.addListener(a.FlexEvent.selectedViewChanged,this.handleParticipantWidthNeedsUpdate),setTimeout(function(){e.handleParticipantWidthNeedsUpdate()},0)},n.prototype.componentWillUnmount=function(){i.FlexModule.events.removeListener(a.FlexEvent.flexSplitterResize,this.handleParticipantWidthNeedsUpdate),i.FlexModule.events.removeListener(a.FlexEvent.selectedViewChanged,this.handleParticipantWidthNeedsUpdate)},n.prototype.render=function(){var e=this,n=this.props,r=n.task,a=(n.children,this.state.listMode?c.ParticipantsContainerList:c.ParticipantsContainerNormal);return o.createElement(s.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,noContainers:!0,rootContainerStyles:"display: flex;\n                        position: relative;"},o.createElement(c.Container,{key:"container"},u.TaskHelper.amIOnHold(r)&&o.createElement(c.WorkerOnHoldContainer,{key:"onHold",className:"ParticipantsCanvas-Container-ImOnHold"},o.createElement(s.Template,{code:"CallCanvasWorkerOnHold"}),o.createElement(s.ActionStateListener,{key:"onHoldAction",action:"UnholdParticipant",payload:f.isValidWorkerParticipantActionPayload(r,i.FlexModule.state.worker.worker.sid)},function(t){return o.createElement(c.ActionButton,{onClick:e.unHoldMyself,disabled:t.disabled},o.createElement(s.Template,{code:"CallCanvasUnholdWorker"}))})),o.createElement(c.Scroll,{innerRef:this.setContainerRef,key:"participantsContainer",className:"ParticipantsCanvas-Container"},o.createElement(a,null,this.renderParticipants()))))},n.prototype.getParticipants=function(){var e=this.props.conference.source.participants;return this.props.includeMyself||(e=e.filter(function(e){return!e.isMyself})),e=e.filter(function(e){return"left"!==e.status})},n}(o.PureComponent);t.ParticipantsCanvasImpl=m},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(16);t.Container=o.default("div")(a||(a=r(["\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    flex-grow: 1;\n"],["\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    flex-grow: 1;\n"]))),t.ParticipantsContainerNormal=o.default("div")(s||(s=r(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    flex: 1;\n    justify-content: center;\n    align-content: center;\n"],["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    flex: 1;\n    justify-content: center;\n    align-content: center;\n"]))),t.ParticipantsContainerList=o.default("div")(c||(c=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    flex-grow: 1;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    flex-grow: 1;\n"]))),t.Scroll=o.default("div")(l||(l=r(["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-wrap: nowrap;\n    overflow-y: scroll;\n    overflow-x: hidden;\n"],["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-wrap: nowrap;\n    overflow-y: scroll;\n    overflow-x: hidden;\n"])));var a,s,c,l,u,p,f,d=i.keyframes(u||(u=r(["\n    from {\n        opacity: 0.3;\n        transform: translate3d(0, -30px, 0);\n    }\n\n    to {\n        opacity: 1;\n        transform: translate3d(0);\n    }\n"],["\n    from {\n        opacity: 0.3;\n        transform: translate3d(0, -30px, 0);\n    }\n\n    to {\n        opacity: 1;\n        transform: translate3d(0);\n    }\n"])));t.WorkerOnHoldContainer=o.default("div")(p||(p=r(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 32px;\n    padding: 0 12px;\n    flex-shrink: 0;\n    animation: "," 0.15s ease 1;\n    ",";\n"],["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 32px;\n    padding: 0 12px;\n    flex-shrink: 0;\n    animation: "," 0.15s ease 1;\n    ",";\n"])),d,function(e){return e.theme.ParticipantsCanvas.Notification.Container}),t.ActionButton=o.default("button")(f||(f=r(["\n    padding: 0px;\n    cursor: pointer;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: normal;\n    background: inherit;\n    color: inherit;\n    border: none;\n    outline: none;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"],["\n    padding: 0px;\n    cursor: pointer;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: normal;\n    background: inherit;\n    color: inherit;\n    border: none;\n    outline: none;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(2),c=n(250),l=n(251),u=n(4),p=n(5),f=n(7),d=n(34),h=n(35),m=n(28),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showKickConfirmation:!1},t.getThemeForButtons=function(){return function(e){return a.Utils.merge(e,{Button:e.ParticipantsCanvas.ParticipantCanvas.Button})}},t.showKickConfirmation=function(){return t.setState({showKickConfirmation:!0})},t.hideKickConfirmation=function(){return t.setState({showKickConfirmation:!1})},t.onCancelTransferClick=function(){var e=t.props.task;f.tryInvokeAction("CancelTransfer",{task:e})},t.onHoldParticipantClick=function(){var e=t.props,n=e.task,r=e.participant;"worker"===r.participantType?f.tryInvokeAction(r.onHold?"UnholdParticipant":"HoldParticipant",{task:n,targetSid:r.workerSid}):f.tryInvokeAction(r.onHold?"UnholdCall":"HoldCall",{task:n})},t.onKickParticipantConfirmClick=function(){var e=t.props,n=e.task,r=e.participant;f.tryInvokeAction("KickParticipant",{task:n,targetSid:r.workerSid}),t.hideKickConfirmation()},t}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this.props,t=e.task,n=e.participant,r="recently_left"===n.status||p.TaskHelper.amIOnHold(t),o="",a="",s=u.templates.CallParticipantStatusLive;if("customer"===this.props.participant.participantType)o=i.createElement(u.Template,{code:"CallParticipantCustomerName",task:t});else if("worker"===n.participantType||"transfer"===n.participantType){var c=n.worker;c?(o=c.fullName,a=c.attributes.image_url):n.queue&&(o=n.queue.name)}return n.onHold&&(s=u.templates.CallParticipantStatusOnHold),"recently_left"===n.status&&(s="transfer"===n.participantType?u.templates.CallParticipantStatusTransferFailed:u.templates.CallParticipantStatusLeft),n.connecting&&(s=u.templates.CallParticipantStatusConnecting),this.state.showKickConfirmation&&(s=u.templates.CallParticipantStatusKickConfirmation),this.props.listMode?this.renderContentList(r,o,a,s):this.renderContent(r,o,a,s)},t.prototype.renderContent=function(e,t,r,o){var s=this.props,l=s.task,f=s.participant,d=s.theme,h=s.hideActions,v=d.ParticipantsCanvas.ParticipantCanvas.ConnectingAnimation.color,g=this.getThemeForButtons();return i.createElement(m.ThemeProvider,{theme:g},i.createElement(a.DynamicComponent,{contentStore:n.Content,childProps:this.props,name:n.displayName,customChildren:this.props.children,vertical:!0},i.createElement(c.Container,{participantWidth:this.props.participantWidth,isDisabled:e},i.createElement(c.StyledAvatar,{key:"avatar",className:"ParticipantCanvas-Avatar",imageUrl:r,large:!0,showAvailabilityIcon:!1,noStyling:!0,hold:f.onHold}),(f.onHold||f.connecting)&&i.createElement(c.AvatarHover,{key:"avatar-hover",className:"ParticipantCanvas-Hover"},f.connecting&&i.createElement(a.ConnectingAnimation,{color:v,sizeMultiplier:3}),f.onHold&&i.createElement(a.Icon,{icon:"HoldBold",sizeMultiplier:2})),i.createElement(c.Name,{key:"name",className:"ParticipantCanvas-Name"},t," "),i.createElement(c.Status,{key:"status",className:"ParticipantCanvas-Status"},i.createElement(u.Template,{source:o})),!h&&p.TaskHelper.isMyTask(l)&&i.createElement(c.ActionsContainer,{key:"actions",className:"ParticipantCanvas-Actions"},i.createElement(a.DynamicComponent,{contentStore:n.Actions.Content,childProps:this.props,name:n.Actions.displayName,noContainers:!0},this.renderActions())))))},t.prototype.renderContentList=function(e,t,r,o){var s=this.props,c=s.task,f=s.participant,d=s.theme,h=s.hideActions,v=d.ParticipantsCanvas.ParticipantCanvas.ConnectingAnimation.color,g=this.getThemeForButtons();return i.createElement(m.ThemeProvider,{theme:g},i.createElement(a.DynamicComponent,{contentStore:n.ListItem.Content,childProps:this.props,name:n.ListItem.displayName,customChildren:this.props.children,noContainers:!0},i.createElement(l.Container,{isDisabled:e},i.createElement(l.StyledAvatar,{key:"avatar",className:"ParticipantCanvas-Avatar",imageUrl:r,showAvailabilityIcon:!1,noStyling:!0,hold:f.onHold}),(f.onHold||f.connecting)&&i.createElement(l.AvatarHover,{key:"avatar-hover",className:"ParticipantCanvas-Hover"},f.connecting&&i.createElement(a.ConnectingAnimation,{color:v}),f.onHold&&i.createElement(a.Icon,{icon:"HoldBold",sizeMultiplier:1})),i.createElement(l.StatusContainer,{key:"statusContainer"},i.createElement(l.Name,{key:"name",className:"ParticipantCanvas-Name"},t," "),i.createElement(l.Status,{key:"status",className:"ParticipantCanvas-Status"},i.createElement(u.Template,{source:o}))),!h&&p.TaskHelper.isMyTask(c)&&i.createElement(l.ActionsContainer,{key:"actions",className:"ParticipantCanvas-Actions"},i.createElement(a.DynamicComponent,{contentStore:n.Actions.Content,childProps:this.props,name:n.Actions.displayName,noContainers:!0},this.renderActions())))))},t.prototype.renderActions=function(){var e=this;if(this.state.showKickConfirmation)return this.renderKickConfirmation();var t=this.props,n=t.participant,r=t.theme,o=t.task;if(n.connecting&&"transfer"===n.participantType)return i.createElement(i.Fragment,null,i.createElement(a.ActionStateListener,{key:"cancel-transfer",action:"CancelTransfer",payload:h.isValidWorkerActionPayload(o)},function(t){return i.createElement(a.IconButton,{icon:"CloseLarge",className:"ParticipantCanvas-CancelButton",onClick:e.onCancelTransferClick,themeOverride:r.ParticipantsCanvas.ParticipantCanvas.HangUpButton,title:u.templates.CancelTransferTooltip(),disabled:t.disabled})}));var s=n.onHold?u.templates.UnholdCustomerTooltip():u.templates.HoldCustomerTooltip(),c=["HoldCall","UnholdCall"],l=d.isValidVoiceActionPayload(o);return"worker"===n.participantType&&(s=n.onHold?u.templates.UnholdAgentTooltip({worker:n.worker}):u.templates.HoldAgentTooltip({worker:n.worker}),c=["HoldParticipant","UnholdParticipant"],l=h.isValidWorkerParticipantActionPayload(o,n.workerSid)),i.createElement(i.Fragment,null,i.createElement(a.ActionStateListener,{key:"hold",action:c,payload:l},function(t){return i.createElement(a.IconButton,{icon:n.onHold?"HoldOff":"Hold",className:"ParticipantCanvas-HoldButton",disabled:!p.TaskHelper.canHold(o)||"joined"!==n.status||t.disabled,onClick:e.onHoldParticipantClick,title:s})}),"worker"===n.participantType&&i.createElement(a.ActionStateListener,{key:"kick",action:"KickParticipant",payload:h.isValidWorkerActionPayload(o)},function(t){return i.createElement(a.IconButton,{icon:"Hangup",className:"ParticipantCanvas-HangupButton",disabled:!p.TaskHelper.canKickWorkerParticipant(o,n)||t.disabled,onClick:e.showKickConfirmation,themeOverride:r.ParticipantsCanvas.ParticipantCanvas.HangUpButton,title:u.templates.KickAgentTooltip({worker:n.worker})})}))},t.prototype.renderKickConfirmation=function(){return i.createElement(i.Fragment,null,i.createElement(a.IconButton,{key:"accept-kick",icon:"Accept",className:"ParticipantCanvas-AcceptAction",onClick:this.onKickParticipantConfirmClick}),i.createElement(a.IconButton,{key:"cancel-kick",icon:"Close",className:"ParticipantCanvas-DeclineAction",onClick:this.hideKickConfirmation}))},t.displayName="ParticipantCanvas",t.Content=new a.DynamicContentStore(n.displayName),t.ListItem={displayName:"ParticipantCanvasListItem",Content:new a.DynamicContentStore("ParticipantCanvasListItem")},t.Actions={displayName:"ParticipantCanvasActions",Content:new a.DynamicContentStore("ParticipantCanvasActions")},t=n=o([s.withTheme],t)}(i.Component);t.ParticipantCanvas=v},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u=n(0),p=n(2);t.Container=p.default("div")(o||(o=r(["\n    flex-grow: 0;\n    padding: 8px;\n    font-size: 30px;\n    text-align: center;\n    box-sizing: border-box;\n    min-width: 170px;\n    width: ",";\n    opacity: ",";\n    ","\n"],["\n    flex-grow: 0;\n    padding: 8px;\n    font-size: 30px;\n    text-align: center;\n    box-sizing: border-box;\n    min-width: 170px;\n    width: ",";\n    opacity: ",";\n    ","\n"])),function(e){return e.participantWidth+"%"},function(e){return e.isDisabled&&.4},function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.Container}),t.Name=p.default("div")(i||(i=r(["\n    font-size: 14px;\n    font-weight: bold;\n    margin-top: 10px;\n    margin-bottom: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"],["\n    font-size: 14px;\n    font-weight: bold;\n    margin-top: 10px;\n    margin-bottom: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]))),t.Status=p.default("div")(a||(a=r(["\n    font-size: 12px;\n"],["\n    font-size: 12px;\n"]))),t.StyledAvatar=p.default(u.Avatar)(s||(s=r(["\n    margin: 0 auto;\n    width: 72px;\n    height: 72px;\n    border-radius: 1000px;\n    position: relative;\n    border-style: solid;\n    border-width: 1px;\n    ",";\n    background: ",";\n"],["\n    margin: 0 auto;\n    width: 72px;\n    height: 72px;\n    border-radius: 1000px;\n    position: relative;\n    border-style: solid;\n    border-width: 1px;\n    ",";\n    background: ",";\n"])),function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.Avatar},function(e){return e.hold&&e.theme.colors.holdColor}),t.AvatarHover=p.default(u.FlexBox)(c||(c=r(["\n    left: 50%;\n    transform: translateX(-50%);\n    margin: 1px auto;\n    border-radius: 1000px;\n    width: 72px;\n    height: 72px;\n    position: absolute;\n    justify-content: center;\n    ","\n"],["\n    left: 50%;\n    transform: translateX(-50%);\n    margin: 1px auto;\n    border-radius: 1000px;\n    width: 72px;\n    height: 72px;\n    position: absolute;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.StateHover}),t.ActionsContainer=p.default("div")(l||(l=r(["\n    margin-top: 10px;\n    button {\n        width: 30px;\n        height: 30px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"],["\n    margin-top: 10px;\n    button {\n        width: 30px;\n        height: 30px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"])))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p=n(0),f=n(2);t.Container=f.default("div")(o||(o=r(["\n    flex-grow: 0;\n    overflow: hidden;\n    padding: 8px 16px 0px 16px;\n    font-size: 12px;\n    box-sizing: border-box;\n    opacity: ",";\n    ",";\n"],["\n    flex-grow: 0;\n    overflow: hidden;\n    padding: 8px 16px 0px 16px;\n    font-size: 12px;\n    box-sizing: border-box;\n    opacity: ",";\n    ",";\n"])),function(e){return e.isDisabled&&.4},function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.Container}),t.Name=f.default("div")(i||(i=r(["\n    font-size: 12px;\n    font-weight: bold;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"],["\n    font-size: 12px;\n    font-weight: bold;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]))),t.StatusContainer=f.default(p.FlexBoxColumn)(a||(a=r(["\n    overflow: hidden;\n"],["\n    overflow: hidden;\n"]))),t.Status=f.default("div")(s||(s=r(["\n    font-size: 10px;\n"],["\n    font-size: 10px;\n"]))),t.StyledAvatar=f.default(p.Avatar)(c||(c=r(["\n    margin: 0 auto;\n    width: 30px;\n    height: 30px;\n    border-radius: 1000px;\n    position: relative;\n    border-style: solid;\n    border-width: 1px;\n    margin-right: 12px;\n    ",";\n    background: ",";\n"],["\n    margin: 0 auto;\n    width: 30px;\n    height: 30px;\n    border-radius: 1000px;\n    position: relative;\n    border-style: solid;\n    border-width: 1px;\n    margin-right: 12px;\n    ",";\n    background: ",";\n"])),function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.Avatar},function(e){return e.hold&&e.theme.colors.holdColor}),t.AvatarHover=f.default(p.FlexBox)(l||(l=r(["\n    left: 17px;\n    border-radius: 1000px;\n    width: 30px;\n    height: 30px;\n    position: absolute;\n    justify-content: center;\n    ","\n"],["\n    left: 17px;\n    border-radius: 1000px;\n    width: 30px;\n    height: 30px;\n    position: absolute;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.StateHover}),t.ActionsContainer=f.default("div")(u||(u=r(["\n    display: flex;\n    flex-grow: 0;\n    button {\n        width: 32px;\n        height: 32px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"],["\n    display: flex;\n    flex-grow: 0;\n    button {\n        width: 32px;\n        height: 32px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(254),l=n(3),u=n(12),p=n(2),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(d,o({},this.props))},t.displayName=c.displayName,t.Content=c.contentStore,t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskCanvasTabs=f;var d=l.connect(function(e){var t=e.view.componentViewStates.SupervisorCanvasTabs;return{selectedTabName:!!t&&t.selectedTabName,uniqueName:"SupervisorCanvasTabs"}})(u.withTaskContext(p.withTheme(c.TaskCanvasTabsImpl)))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(126),s=n(4),c=n(89),l=n(135),u=n(5),p=n(9),f=n(10),d=n(28),h=n(7);t.displayName="SupervisorTaskCanvasTabs",t.contentStore=new i.DynamicContentStore(t.displayName);var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTabSelection=function(e){h.tryInvokeAction("SetComponentState",{name:"SupervisorCanvasTabs",state:{selectedTabName:e}})},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.task,r=e.selectedTabName,a=s.templates.TaskTabSupervisorOverviewLabel;return u.TaskHelper.isCallTask(n)?a=s.templates.TaskTabSupervisorCallLabel:u.TaskHelper.isChatBasedTask(n)&&(a=s.templates.TaskTabSupervisorChatLabel),o.createElement(i.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,noContainers:!0,vertical:!0},o.createElement(i.Tabs,{className:"Twilio-TaskCanvasTabs",selectedTabName:r,onTabSelected:this.handleTabSelection},o.createElement(i.Tab,{key:"overview",uniqueName:"overview",label:o.createElement(i.Template,{source:a})},this.renderOverviewTab()),o.createElement(i.Tab,{key:"info",uniqueName:"info",label:o.createElement(i.Template,{source:s.templates.TaskTabSupervisorInfoLabel})},o.createElement(l.TaskInfoPanel,{task:n}))))},n.prototype.renderOverviewTab=function(){var e=this.props.task;if(u.TaskHelper.isChatBasedTask(e)){if(!this.props.chatChannel||this.props.chatChannel.isLoadingChannel)return null;if(this.props.chatChannel.errorWhileLoadingChannel)return o.createElement(c.TaskOverviewCanvas,{task:e});var t=p.TaskChannels.getForTask(e),r=f.TaskChannelHelper.getColor(e,t.colors.main,n),l=a.getThemeForChat(r);return o.createElement(d.ThemeProvider,{theme:l},o.createElement(i.MessagingCanvas,{sid:u.TaskHelper.getTaskChatChannelSid(e),inputDisabledReason:u.TaskHelper.isCompleted(e)||u.TaskHelper.isInWrapupMode(e)?s.templates.ChatInputDisabledText():void 0}))}return o.createElement(c.TaskOverviewCanvas,{task:e})},n}(o.PureComponent);t.TaskCanvasTabsImpl=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(1),c=n(122),l=n(47),u=n(130),p=n(131),f=n(10);t.displayName="IncomingTaskCanvas",t.contentStore=new c.DynamicContentStore(t.displayName);var d=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}var c;return r(n,e),c=n,n.prototype.render=function(){var e=this.props,n=e.firstLine,r=e.secondLine,i=e.channelDefinition,a=e.titleLine,d=this.props.task;return s.createElement(l.TaskDetailsPanel,o({content:t.contentStore,IconComponent:p.IncomingTaskIcon,ActionsComponent:u.IncomingTaskCanvasActions,titleLine:a||f.TaskChannelHelper.getTemplateForStatus(d,i.templates.IncomingTaskCanvas.titleLine,c),firstLine:n||f.TaskChannelHelper.getTemplateForStatus(d,i.templates.IncomingTaskCanvas.firstLine,c),secondLine:r||f.TaskChannelHelper.getTemplateForStatus(d,i.templates.IncomingTaskCanvas.secondLine,c)},this.props))},n=c=i([a.withTheme],n)}(s.PureComponent);t.IncomingTaskCanvasImpl=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(7),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAcceptClick=function(){l.tryInvokeAction("AcceptTask",{task:t.props.task})},t.onDeclineClick=function(){l.tryInvokeAction("RejectTask",{task:t.props.task})},t}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this;return a.createElement(s.DynamicComponent,{contentStore:n.Content,childProps:this.props,customChildren:this.props.children,name:n.displayName,noContainers:!0},a.createElement(s.ContentFragment,null,a.createElement(s.ActionStateListener,{key:"Accept",action:["AcceptTask","RejectTask"]},function(t){return a.createElement(s.IconButton,{className:"Twilio-IncomingTask-Accept",icon:"AcceptLarge",themeOverride:e.props.theme.IncomingTaskCanvas.AcceptTaskButton,onClick:e.onAcceptClick,disabled:t.disabled,title:c.templates.AcceptTaskTooltip()})}),a.createElement(s.ActionStateListener,{key:"Reject",action:["AcceptTask","RejectTask"]},function(t){return a.createElement(s.IconButton,{className:"Twilio-IncomingTask-Reject",icon:"CloseLarge",themeOverride:e.props.theme.IncomingTaskCanvas.RejectTaskButton,onClick:e.onDeclineClick,disabled:t.disabled,title:c.templates.RejectTaskTooltip()})})))},t.displayName="IncomingTaskCanvasActions",t.Content=new s.DynamicContentStore(n.displayName),t=n=o([i.withTheme],t)}(a.Component);t.IncomingTaskCanvasActions=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(8),c=n(48),l=n(10),u=n(129),p=n(0),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.task;return a.createElement(s.TaskContext.Consumer,null,function(t){return a.createElement(c.IconContainerWithStyle,{background:l.TaskChannelHelper.getColor(e,t.channelDefinition.colors.main,u.IncomingTaskCanvas)},a.createElement(p.Icon,{icon:l.TaskChannelHelper.getIcon(e,t.channelDefinition.icons.active,u.IncomingTaskCanvas),sizeMultiplier:2}))})},t=o([i.withTheme],t)}(a.Component);t.IncomingTaskIcon=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(5),c=n(121),l=n(118),u=n(260),p=n(134),f=n(10),d=n(269),h=n(7);t.displayName="CallCanvas",t.contentStore=new a.DynamicContentStore(t.displayName);var m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.componentDidUpdate=function(){var e=this.props.task;this.props.dialpadState&&!s.TaskHelper.isLiveCall(e)&&h.tryInvokeAction("ToggleDTMFDialpad",{task:e,open:!1})},n.prototype.render=function(){var e,r=this.props,a=r.task,h=r.channelDefinition,m=r.conference,v=r.dialpadState;return m&&s.TaskHelper.isLiveCall(a)&&(e=i.createElement(c.ParticipantsCanvas,null)),v&&(e=i.createElement(d.CallCanvasDialpad,{dialpadState:v})),i.createElement(l.TaskDetailsPanel,o({content:t.contentStore,IconComponent:u.CallCanvasIcon,ActionsComponent:p.CallCanvasActions,contentComponent:e,titleLine:f.TaskChannelHelper.getTemplateForStatus(a,h.templates.CallCanvas.titleLine,n),firstLine:f.TaskChannelHelper.getTemplateForStatus(a,h.templates.CallCanvas.firstLine,n),secondLine:f.TaskChannelHelper.getTemplateForStatus(a,h.templates.CallCanvas.secondLine,n)},this.props))},n}(i.PureComponent);t.CallCanvasImpl=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(261);t.CallCanvasIcon=r.CallCanvasIcon},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(9),i=n(133),a=n(48),s=n(262);t.CallCanvasIcon=function(e){var t=e.task,n=o.TaskChannels.getForTask(t),c=o.TaskChannelHelper.getIcon(t,n.icons.active,i.CallCanvas),l=o.TaskChannelHelper.getColor(t,n.colors.main,i.CallCanvas);return r.createElement(a.IconContainerWithStyle,{background:l},r.createElement(s.StyledIcon,{icon:c,sizeMultiplier:2}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),a=n(2);t.StyledIcon=a.default(i.Icon)(o||(o=r(["\n    color: ",";\n"],["\n    color: ",";\n"])),function(e){return e.color})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(264),c=n(8),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(s.CallCanvasActionsImpl,o({},this.props))},t.displayName=s.displayName,t.Content=s.contentStore,t=i([c.withTaskContext],t)}(a.Component);t.CallCanvasActions=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(0),c=n(4),l=n(75),u=n(267),p=n(5),f=n(34),d=n(7),h=n(3),m=n(28);t.displayName="CallCanvasActions",t.contentStore=new s.DynamicContentStore(t.displayName);var v=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onHoldClick=function(){var e=p.TaskHelper.isCallOnHold(t.props.task);d.tryInvokeAction(e?"UnholdCall":"HoldCall",{task:t.props.task})},t.onHangupClick=function(){d.tryInvokeAction("HangupCall",{task:t.props.task})},t.onDirectoryClick=function(){d.tryInvokeAction("ShowDirectory",{task:t.props.task})},t.onDialpadClick=function(){var e=t.props.task;d.tryInvokeAction("ToggleDTMFDialpad",{task:e})},t.getThemeForButtons=function(){return function(e){return s.Utils.merge(e,{Button:e.CallCanvas.Button})}},t}return r(n,e),n.prototype.render=function(){var e=this,n=this.props,r=n.task,o=n.theme,a=p.TaskHelper.isLiveCall(r),d=p.TaskHelper.isRegularConferenceCall(r),v=p.TaskHelper.isCallOnHold(r),g=p.TaskHelper.canHold(r),y=p.TaskHelper.canTransfer(r),k=f.isValidVoiceActionPayload(r),C=c.templates.HangupCallTooltip(),b="HangupLarge";r.conference&&r.conference.liveParticipantCount>2&&(b="LeaveCallLarge",C=c.templates.LeaveCallTooltip());var _=v?c.templates.UnholdCustomerTooltip():c.templates.HoldCustomerTooltip(),w="CallCanvasDialpad"+this.props.task.sid,T=Boolean(h.FlexModule.state.view.componentViewStates[w]),O=this.getThemeForButtons();return i.createElement(m.ThemeProvider,{theme:O},i.createElement(s.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,customChildren:this.props.children,name:t.displayName,noContainers:!0},i.createElement(s.ContentFragment,null,!d&&i.createElement(s.ActionStateListener,{key:"hold",action:["HoldCall","UnholdCall"],payload:k},function(t){return i.createElement(u.HoldButton,{className:"Twilio-CallCanvas-HoldButton",disabled:!a||!g||t.disabled,isOnHold:v,onClick:e.onHoldClick,title:_})}),i.createElement(s.ActionStateListener,{key:"toggleMute",action:"ToggleMute"},function(e){return i.createElement(l.MuteButton,{className:"Twilio-CallCanvas-MuteButton",disabled:!a||e.disabled,large:!0,title:c.templates.MuteCallTooltip()})}),i.createElement(s.IconButton,{className:"Twilio-CallCanvas-Directory",icon:"TransferLarge",key:"directory",disabled:!a||!y,onClick:this.onDirectoryClick}),i.createElement(s.IconButton,{className:"Twilio-CallCanvas-Dialpad",icon:T?"CloseLarge":"DialpadLarge",key:"dialpad",disabled:!a,onClick:this.onDialpadClick}),i.createElement(s.ActionStateListener,{key:"hangup",action:"HangupCall",payload:k},function(t){return i.createElement(s.IconButton,{className:"Twilio-CallCanvas-HangupButton",icon:b,disabled:!a||t.disabled,onClick:e.onHangupClick,themeOverride:o.CallCanvas.HangUpButton,title:C})}))))},n=o([a.withTheme],n)}(i.PureComponent);t.CallCanvasActionsImpl=v},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),s=n(266),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(l,o({},this.props))},t}(i.PureComponent);t.MuteButton=c;var l=a.connect(function(e,t){return{muted:!!e.phone.connection&&e.phone.connection.source.isMuted(),disabled:!e.phone.connection||t.disabled}})(s.MuteButtonImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(16),l=n(4),u=n(7),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMuteClick=function(){u.tryInvokeAction("ToggleMute")},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.large,n=e.className,r=e.muted,u=(e.children,i(e,["large","className","muted","children"])),p=t?"MuteLarge":"Mute";return r&&(p+="Bold"),a.createElement(s.IconButton,o({className:c.cx("Twilio-MuteButton",n),icon:p,onClick:this.onMuteClick,title:l.templates.MuteCallTooltip()},u))},t}(a.PureComponent);t.MuteButtonImpl=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(268);t.HoldButton=r.HoldButton,t.HoldButtonProps=r.HoldButtonProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(16),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.isOnHold,r=e.onClick,l=i(e,["className","isOnHold","onClick"]),u=n?"HoldOffLarge":"HoldLarge";return a.createElement(s.IconButton,o({className:c.cx("Twilio-HoldButton",t),icon:u,onClick:r},l))},t}(a.PureComponent);t.HoldButton=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(270);t.CallCanvasDialpad=r.CallCanvasDialpad},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(8),s=n(271),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.displayName=s.displayName,n.Content=s.contentStore,n}(i.PureComponent);t.CallCanvasDialpad=c,t.Connected=a.withTaskContext(s.CallCanvasDialpadImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(7),s=n(272);t.displayName="CallCanvasDialpad",t.contentStore=new i.DynamicContentStore(t.displayName);var c=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyClick=function(e){a.tryInvokeAction("SetDTMFDialpadDigits",{task:t.props.task,digits:t.props.dialpadState.digits+e}),t.props.call.source.sendDigits(e)},t}return r(n,e),n.prototype.render=function(){return o.createElement(i.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,noContainers:!0},o.createElement(s.Container,{className:"Twilio-CallCanvas-Dialpad"},o.createElement(s.DigitsContainer,{key:"digits"},o.createElement(s.Digits,null,this.props.dialpadState.digits)),o.createElement(i.Dialpad,{key:"dialpad",onClick:this.handleKeyClick})))},n}(o.PureComponent);t.CallCanvasDialpadImpl=c},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c=n(2),l=n(16).keyframes(o||(o=r(["\n    from {\n        opacity: 0.3;\n        transform: translate3d(0, 30px, 0);\n    }\n\n    to {\n        opacity: 1;\n        transform: translate3d(0);\n    }\n"],["\n    from {\n        opacity: 0.3;\n        transform: translate3d(0, 30px, 0);\n    }\n\n    to {\n        opacity: 1;\n        transform: translate3d(0);\n    }\n"])));t.DigitsContainer=c.default("div")(i||(i=r(["\n    height: 44px;\n    display: flex;\n    overflow: hidden;\n    justify-content: center;\n    width: 100%;\n"],["\n    height: 44px;\n    display: flex;\n    overflow: hidden;\n    justify-content: center;\n    width: 100%;\n"]))),t.Digits=c.default("span")(a||(a=r(["\n    font-size: 18px;\n    line-height: 1.33;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"],["\n    font-size: 18px;\n    line-height: 1.33;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]))),t.Container=c.default("div")(s||(s=r(["\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 0 12px;\n    animation: "," 0.15s ease 1;\n"],["\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 0 12px;\n    animation: "," 0.15s ease 1;\n"])),l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(5),a=n(0),s=n(275),c=n(10),l=n(76),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.task,n=e.content,r=e.templateCode,u=e.channelDefinition,p=new i.TaskHelper(t);return o.createElement(a.DynamicComponent,{contentStore:n,childProps:this.props,name:n.name,customChildren:this.props.children,vertical:!0},o.createElement(s.Container,null,o.createElement(a.Template,{key:"content",code:r||c.TaskChannelHelper.getTemplateForStatus(t,u.templates.TaskInfoPanel.content,l.TaskInfoPanel),task:t,helper:p})))},t}(o.PureComponent);t.TaskInfoPanelImpl=u},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.Container=i.default("div")(o||(o=r(["\n    display: flex;\n    flex: 1 1 auto;\n    overflow: auto;\n    padding-left: 12px;\n    padding-right: 12px;\n    padding-top: 6px;\n    padding-bottom: 6px;\n    ","\n\n    hr {\n        border-color: ",";\n    }\n"],["\n    display: flex;\n    flex: 1 1 auto;\n    overflow: auto;\n    padding-left: 12px;\n    padding-right: 12px;\n    padding-top: 6px;\n    padding-bottom: 6px;\n    ","\n\n    hr {\n        border-color: ",";\n    }\n"])),function(e){return e.theme.TaskInfoPanel.Container},function(e){return e.theme.Tabs.LabelsContainer.borderColor})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(136),l=n(8),u=n(10),p=n(125),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this,t=this.props,r=t.templateCode,i=t.task;return a.createElement(l.TaskContext.Consumer,null,function(t){return a.createElement(c.TaskInfoPanel,o({},e.props,{templateCode:r||u.TaskChannelHelper.getTemplateForStatus(i,t.channelDefinition.templates.Supervisor.TaskInfoPanel.content,p.TaskCanvas),content:n.Content}))})},t.displayName="SupervisorTaskInfoPanel",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskInfoPanel=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(8),s=n(280),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.displayName=s.displayName,n.Content=s.contentStore,n}(i.PureComponent);t.TaskCanvasHeader=c,t.Connected=a.withTaskContext(s.TaskCanvasHeaderImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(2),c=n(281),l=n(5),u=n(10),p=n(7);t.displayName="SupervisorTaskCanvasHeader",t.contentStore=new a.DynamicContentStore(t.displayName);var f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimer=void 0,t.handleCloseTask=function(){p.tryInvokeAction("SelectTaskInSupervisor",{task:void 0})},t}var f;return r(n,e),f=n,n.prototype.componentWillMount=function(){var e=this;this.refreshTimer=window.setInterval(function(){return e.forceUpdate()},1e3)},n.prototype.componentWillUnmount=function(){void 0!==this.refreshTimer&&window.clearInterval(this.refreshTimer)},n.prototype.render=function(){var e=this.props,n=e.task,r=e.channelDefinition,o=new l.TaskHelper(n);return i.createElement(a.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.contentStore.name,customChildren:this.props.children},i.createElement(c.HeaderContainer,{noShrink:!0,noGrow:!0,className:"Twilio-SupervisorTaskCanvasHeader"},i.createElement(c.HeaderCloseIconButton,{key:"close-button",icon:"Close",onClick:this.handleCloseTask,themeOverride:this.props.theme.Supervisor.TaskCanvas.HeaderButton}),i.createElement(c.HeaderContentContainer,{vertical:!0,key:"title",className:"Twilio-SupervisorTaskCanvasHeader-Content"},i.createElement(c.TitleContainer,{className:"Twilio-SupervisorTaskCanvasHeader-Title"},i.createElement(a.Template,{code:u.TaskChannelHelper.getTemplateForStatus(n,r.templates.Supervisor.TaskCanvasHeader.title,f),task:n})),i.createElement(c.ActivityStatusContainer,{key:"activity",className:"Twilio-SupervisorTaskCanvasHeader-Activity"},i.createElement(a.Template,{code:u.TaskChannelHelper.getTemplateForStatus(n,r.templates.Supervisor.TaskCanvasHeader.secondLine,f),task:n,helper:o})))))},n=f=o([s.withTheme],n)}(i.PureComponent);t.TaskCanvasHeaderImpl=f},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u=n(0),p=n(2);t.Text=p.default(u.FlexBox)(o||(o=r(["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"],["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"]))),t.TitleContainer=p.default(u.FlexBox)(i||(i=r(["\n    overflow: hidden;\n    font-size: 14px;\n    font-weight: bold;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    overflow: hidden;\n    font-size: 14px;\n    font-weight: bold;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),t.ActivityStatusContainer=p.default("div")(a||(a=r(["\n    font-size: 12px;\n    font-weight: normal;\n    margin-top: 2px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    margin-top: 2px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),t.HeaderContainer=p.default(u.FlexBox)(s||(s=r(["\n    height: 56px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"],["\n    height: 56px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"])),function(e){return e.theme.Supervisor.TaskCanvas.Header}),t.HeaderContentContainer=p.default(u.FlexBox)(c||(c=r(["\n    overflow: hidden;\n    margin: 0 40px 0 10px;\n    align-items: center;\n"],["\n    overflow: hidden;\n    margin: 0 40px 0 10px;\n    align-items: center;\n"]))),t.HeaderCloseIconButton=p.default(u.IconButton)(l||(l=r(["\n    flex-shrink: 0;\n"],["\n    flex-shrink: 0;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(74),c=n(4),l=n(2),u=n(77),p=n(7);t.displayName="TaskCanvas",t.contentStore=new a.DynamicContentStore(t.displayName);var f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseTask=function(){p.tryInvokeAction("SelectTaskInSupervisor",{task:void 0})},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=(e.task,e.theme);return i.createElement(a.SidePanel,{contentStore:t.contentStore,displayName:t.displayName,handleCloseClick:this.handleCloseTask,title:i.createElement(a.Template,{source:c.templates.SupervisorTaskCanvasHeader}),themeOverride:n.Supervisor.TaskCanvas,HeaderComponent:i.createElement(u.TaskCanvasHeader,{key:"customHeader"})},i.createElement(s.TaskCanvasTabs,{key:"tabs"}))},n.displayName=t.displayName,n=o([l.withTheme],n)}(i.PureComponent);t.TaskCanvasImpl=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(4);t.displayName="TeamFiltersPanel",t.contentStore=new a.DynamicContentStore(t.displayName);var c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.workers,r=e.filters,o=e.isHidden,c=e.appliedFilters,l=e.isLoadingWorkers,u=e.handleApplyFilters,p=e.handleResetFilters,f=e.handleCloseClick,d=c&&c.filters?this.getSimplifiedFiltersMap(c.filters):[];return i.createElement(a.SidePanel,{handleCloseClick:f,title:i.createElement(s.Template,{source:s.templates.TeamFiltersPanelTitle}),displayName:t.displayName,themeOverride:{},contentStore:t.contentStore,isHidden:o},i.createElement(a.FiltersList,{key:"filter-list",headerLabel:i.createElement(s.Template,{source:1===n.length?s.templates.TeamFiltersPanelSingularLabel:s.templates.TeamFiltersPanelPluralLabel,number:n.length}),applyLabel:i.createElement(s.Template,{source:s.templates.TeamFiltersApply}),resetLabel:i.createElement(s.Template,{source:s.templates.TeamFiltersReset}),filters:r,actionsDisabled:l,appliedFilters:d,handleApplyClick:u,handleResetClick:p}))},n.prototype.getSimplifiedFiltersMap=function(e){return e.reduce(function(e,t){var n;return o(o({},e),((n={})[t.name]=t.values,n))},{})},n.displayName="TeamFiltersPanel",n.Content=new a.DynamicContentStore(n.displayName),n}(i.PureComponent);t.TeamFiltersPanel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(285))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(286),c=n(287),l=n(290),u=n(293),p=n(296),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,n=e.children,r=o(e,["children"]);return i.createElement(a.DynamicComponent,{name:t.displayName,contentStore:t.Content,customChildren:n,childProps:r,noContainers:!0},i.createElement(s.Grid,{className:"Twilio-AggregatedQueuesDataTiles-Grid",key:"aggregated-data-view"},i.createElement(c.ActiveTasksTile,{key:"active-tasks-tile"}),i.createElement(l.WaitingTasksTile,{key:"waiting-tasks-tile"}),i.createElement(p.LongestWaitTimeTile,{key:"longest-wait-time-tile"}),i.createElement(u.AgentsByActivityChartTile,{key:"agents-by-activity-chart-tile"})))},t.displayName="AggregatedQueuesDataTiles",t.Content=new a.DynamicContentStore(t.displayName),t}(i.PureComponent);t.AggregatedQueuesDataTiles=f},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(27);t.Grid=i.default("div")(o||(o=r(["\n    display: flex;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin-top: 56px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 0;\n    height: auto;\n    box-sizing: border-box;\n    flex: 0 0 auto;\n\n    > * {\n        flex: 1 1 25%;\n    }\n\n    > * + * {\n        margin-left: 8px;\n    }\n\n    ","\n"],["\n    display: flex;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin-top: 56px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 0;\n    height: auto;\n    box-sizing: border-box;\n    flex: 0 0 auto;\n\n    > * {\n        flex: 1 1 25%;\n    }\n\n    > * + * {\n        margin-left: 8px;\n    }\n\n    ","\n"])),function(e){return e.theme.QueuesStats.TilesGrid})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(288))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(289),o=n(3),i=n(15);t.ActiveTasksTile=o.connect(function(e){return{activeTasks:i.workspaceActiveTasksSelector(e)}})(r.ActiveTasksTileImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.ActiveTasksTileTitle}),content:this.props.activeTasks.toString()})},t}(o.PureComponent);t.ActiveTasksTileImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(291))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(292),o=n(3),i=n(15);t.WaitingTasksTile=o.connect(function(e){return{waitingTasks:i.workspaceWaitingTasksSelector(e)}})(r.WaitingTasksTileImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.WaitingTasksTileTitle}),content:this.props.waitingTasks.toString()})},t}(o.PureComponent);t.WaitingTasksTileImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(294))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(295),o=n(3),i=n(15);t.AgentsByActivityChartTile=o.connect(function(e){var t=i.workspaceStatsSelector(e);return{availableAgents:i.getAvailableAgentsCount(t),unavailableAgents:i.getUnavailableAgentsCount(t),offlineAgents:i.getOfflineAgentsCount(t)}})(r.AgentsByActivityChartTileImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(4),c=n(2),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.availableAgents,n=e.unavailableAgents,r=e.offlineAgents,o=e.theme,c=[{value:t,label:s.templates.AgentStatusAvailable?s.templates.AgentStatusAvailable():"",color:o?o.colors.agentAvailableColor:""},{value:n,label:s.templates.AgentStatusUnavailable?s.templates.AgentStatusUnavailable():"",color:o?o.colors.agentUnavailableColor:""},{value:r,label:s.templates.AgentStatusOffline?s.templates.AgentStatusOffline():"",color:o?o.colors.agentOfflineColor:""}];return i.createElement(a.AggregatedDataTile,{title:i.createElement(s.Template,{source:s.templates.AgentsByActivityTileTitle})},i.createElement(a.StackedBarChart,{items:c}),i.createElement(a.Legend,{items:c,showLabels:!0}))},t=o([c.withTheme],t)}(i.PureComponent);t.AgentsByActivityChartTileImpl=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(297))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(298),o=n(3),i=n(15);t.LongestWaitTimeTile=o.connect(function(e){var t=i.workspaceLongestQueueSelector(e);return{waitFrom:t?t.longest_task_waiting_from:null,queueName:t&&t.friendly_name||""}})(r.LongestWaitTimeTileImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=n(138),c=n(139),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this;return this.props.waitFrom?o.createElement(c.Ticker,null,function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.LongestWaitTimeTileTitle}),content:i.Utils.formatTimeDuration(s.getTaskWaitingAgeFromTimestamp(e.props.waitFrom),"short"),description:e.props.queueName})}):o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.LongestWaitTimeTileTitle}),content:"0",description:this.props.queueName})},t}(o.PureComponent);t.LongestWaitTimeTileImpl=l},function(e,t){e.exports=require("eventemitter3")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(301);t.QueuesDataTableProps=r.QueuesDataTableProps,t.QueuesDataTable=r.QueuesDataTable},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),s=n(302),c=n(15),l=a.connect(function(e){return{queuesList:c.queuesListArraySelector(e)}})(s.QueuesDataTableImpl),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t,"sortable",{get:function(){return t.isSortable},set:function(e){t.isSortable=e,t.instance&&t.instance.forceUpdate()},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){t.instance=this},t.prototype.componentWillUnmount=function(){t.instance=void 0},t.prototype.render=function(){return i.createElement(l,o({sortable:t.isSortable},this.props))},t.friendlyName=s.displayName,t.displayName=s.displayName,t.Content=s.Content,t.isSortable=!0,t}(i.PureComponent);t.QueuesDataTable=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(0),c=n(303),l=n(15),u=n(4),p=n(138),f=n(139);t.displayName="QueuesDataTable",t.Content=new s.DynamicContentStore(t.displayName);var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return this.props.renderContent(this.props.item)},t}(i.PureComponent);function h(e){return function(t){return i.createElement(d,{item:t,renderContent:e})}}var m=s.DataTable;function v(e){return function(t,n){return e(t)-e(n)}}var g=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTaskQueueSid=function(e){return e.key},t.renderFriendlyName=h(function(e){return i.createElement(c.FirstCellContent,null,e.friendly_name)}),t.renderActiveTasks=h(function(e){var t=e.tasks_by_status,n=t.assigned,r=t.wrapping;return i.createElement("span",null,n+r)}),t.renderWaitingTasks=h(function(e){var t=e.tasks_by_status,n=t.pending,r=t.reserved;return i.createElement("span",null,n+r)}),t.renderLongestWaitingTime=h(function(e){return e.longest_task_waiting_from?i.createElement(f.Ticker,null,function(){return i.createElement("span",null,s.Utils.formatTimeDuration(p.getTaskWaitingAgeFromTimestamp(e.longest_task_waiting_from),"short"))}):i.createElement("span",null,"0")}),t.renderAgents=h(function(e){var n=[{label:u.templates.AgentStatusAvailable?u.templates.AgentStatusAvailable():"",value:l.getAvailableAgentsCount(e),color:t.props.theme.colors.agentAvailableColor},{label:u.templates.AgentStatusUnavailable?u.templates.AgentStatusUnavailable():"",value:l.getUnavailableAgentsCount(e),color:t.props.theme.colors.agentUnavailableColor},{label:u.templates.AgentStatusOffline?u.templates.AgentStatusOffline():"",value:l.getOfflineAgentsCount(e),color:t.props.theme.colors.agentOfflineColor}];return i.createElement(s.Legend,{items:n,showLabels:!1})}),t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.queuesList,r=e.sortable;return i.createElement(c.TableContainer,{className:"Twilio-QueuesDataTable"},i.createElement(s.DynamicComponent,{childProps:this.props,contentStore:t.Content,name:t.displayName,customChildren:this.props.children,noContainers:!0},i.createElement(m,{items:n,itemKey:this.getTaskQueueSid,columnDataCreationContext:{},hasHoverStyle:!1},i.createElement(s.ColumnDefinition,{key:"friendly-name",header:"Queues",content:this.renderFriendlyName,sortingFn:r?function(e){return function(t,n){return e(t).localeCompare(e(n))}}(function(e){return e.friendly_name}):void 0}),i.createElement(s.ColumnDefinition,{key:"active-tasks",header:"Active tasks",content:this.renderActiveTasks,sortingFn:r?v(function(e){return e.tasks_by_status.assigned+e.tasks_by_status.wrapping}):void 0}),i.createElement(s.ColumnDefinition,{key:"waiting-tasks",header:"Waiting tasks",content:this.renderWaitingTasks,sortingFn:r?v(function(e){return e.tasks_by_status.pending+e.tasks_by_status.reserved}):void 0}),i.createElement(s.ColumnDefinition,{key:"longest-wait-time",header:"Longest wait",content:this.renderLongestWaitingTime,sortingFn:r?v(function(e){return p.getTaskWaitingAgeFromTimestamp(e.longest_task_waiting_from)}):void 0}),i.createElement(s.ColumnDefinition,{key:"agents",header:"Agents by activity",content:this.renderAgents}))))},n=o([a.withTheme],n)}(i.PureComponent);t.QueuesDataTableImpl=g},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(27);t.FirstCellContent=a.default("span")(o||(o=r(["\n    padding-left: 6px;\n"],["\n    padding-left: 6px;\n"]))),t.TableContainer=a.default("div")(i||(i=r(["\n    overflow-y: auto;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin: 48px auto 0;\n    box-sizing: border-box;\n\n    td {\n        font-size: 12px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    ","\n"],["\n    overflow-y: auto;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin: 48px auto 0;\n    box-sizing: border-box;\n\n    td {\n        font-size: 12px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    ","\n"])),function(e){return e.theme.QueuesStats.TableContainer})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(128);t.IncomingTaskCanvas=r.IncomingTaskCanvas,t.IncomingTaskCanvasProps=r.IncomingTaskCanvasProps,t.IncomingTaskCanvasActions=r.IncomingTaskCanvasActions;var o=n(141);t.NoTasksCanvas=o.NoTasksCanvas;var i=n(132);t.CallCanvas=i.CallCanvas,t.CallCanvasActions=i.CallCanvasActions;var a=n(142);t.TaskCanvas=a.TaskCanvas,t.TaskCanvasChildrenProps=a.TaskCanvasChildrenProps;var s=n(317);t.TaskCanvasHeader=s.TaskCanvasHeader;var c=n(126);t.TaskCanvasTabs=c.TaskCanvasTabs,t.TaskCanvasTabsChildrenProps=c.TaskCanvasTabsChildrenProps;var l=n(47);t.TaskDetailsPanel=l.TaskDetailsPanel;var u=n(136);t.TaskInfoPanel=u.TaskInfoPanel;var p=n(123);t.ParticipantCanvas=p.ParticipantCanvas;var f=n(120);t.ParticipantsCanvas=f.ParticipantsCanvas},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),s=n(306),c=n(2),l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n.friendlyName=s.displayName,n.displayName=s.displayName,n.Content=s.contentStore,n}(i.PureComponent);t.NoTasksCanvas=l,t.Connected=a.connect(function(e){return{worker:e.worker}})(c.withTheme(s.NoTasksCanvasImpl))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=n(50),c=n(6),l=n(307);t.displayName="NoTasksCanvas",t.contentStore=new i.DynamicContentStore(t.displayName);var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){i.Actions.invokeAction("SetActivity",{activitySid:e.target.value}).then(function(){c.default.debug("activity updated")}).catch(function(e){c.default.error("failed to update activity:",e)})},t}return r(n,e),n.prototype.render=function(){var e=this.props.worker,n=Array.from(this.props.worker.activities.values()).filter(function(e){return"Reserved"!==e.name}),r=this.props.worker.activity&&this.props.worker.activity.sid,c=!!e&&!!e.activity&&e.activity.available,u=!!e&&e.attributes.full_name||!!e&&e.source&&e.source.name||"",p=!!e&&e.attributes.image_url;return o.createElement(i.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,noContainers:!0,vertical:!0},o.createElement(l.Container,null,o.createElement(l.FirstLineContainer,{key:"first-line"},o.createElement(l.FirstLine,null,o.createElement(i.Template,{source:a.templates.NoTasksTitle}))),o.createElement(l.SecondLine,{key:"second-line"}," ",o.createElement(i.Template,{source:a.templates.NoTasks})," "),o.createElement(l.HintLine,{key:"hint"}," ",o.createElement(i.Template,{source:c?a.templates.NoTasksHintAvailable:a.templates.NoTasksHintNotAvailable})," "),o.createElement(l.StyledWorkerAvatar,{key:"avatar",imageUrl:p,available:c,large:!0}),o.createElement(l.NameLine,{key:"name"},u),o.createElement(l.StyledSelect,{key:"availability",className:"Twilio-NoTasks-WorkerActivity",value:r,onChange:this.handleChange},n.map(function(e,t){return o.createElement(s.default,{key:t,value:e.sid},e.name)}))))},n}(o.PureComponent);t.NoTasksCanvasImpl=u},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p,f=n(2),d=n(0),h=n(51);t.Container=f.default("div")(o||(o=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    ","\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.NoTasksCanvas.Container}),t.StyledWorkerAvatar=f.default(d.Avatar)(i||(i=r(["\n    width: 60px;\n    height: 60px;\n"],["\n    width: 60px;\n    height: 60px;\n"]))),t.FirstLineContainer=f.default("div")(a||(a=r(["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"],["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"])),function(e){return e.theme.colors.flexBlueColor}),t.FirstLine=f.default("div")(s||(s=r(["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"],["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"]))),t.SecondLine=f.default("div")(c||(c=r(["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"],["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"]))),t.HintLine=f.default("div")(l||(l=r(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"])),function(e){return e.theme.NoTasksCanvas.Hint}),t.NameLine=f.default("div")(u||(u=r(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"]))),t.StyledSelect=f.default(h.default)(p||(p=r(["\n    margin-top: 20px;\n    width: 140px;\n"],["\n    margin-top: 20px;\n    width: 140px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(12),s=n(36),c=n(49),l=n(314),u=n(2),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(f,o({},this.props))},t.displayName=l.displayName,t.Content=l.contentStore,t.Header=s.TaskCanvasHeader,t.Tabs=c.TaskCanvasTabs,t}(i.PureComponent);t.TaskCanvas=p;var f=u.withTheme(a.withTaskContext(l.TaskCanvasImpl))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(310);t.EndTaskButton=r.EndTaskButton,t.EndTaskButtonProps=r.EndTaskButtonProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(5),c=n(0),l=n(35),u=n(8),p=n(10),f=n(36),d=n(9),h=n(19),m=n(311),v=n(7),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCompleteTaskButtonClick=function(){if(t.props.task){var e=t.props.task,n={task:e,reason:"Completed manually from button"},r=h.StateHelper.getCurrentPhoneCallState();s.TaskHelper.isLiveCall(e)&&r?v.tryInvokeAction("HangupCall",{task:e}):s.TaskHelper.isInWrapupMode(e)?c.Actions.invokeAction("CompleteTask",n).then(function(){return v.tryInvokeAction("SelectTask",{task:null})}).then(function(){return v.tryInvokeAction("HistoryReplace","/agent-desktop")}):d.TaskChannels.getForTask(e).capabilities.has(d.TaskChannelCapability.Wrapup)?v.tryInvokeAction("WrapupTask",n):v.tryInvokeAction("CompleteTask",n)}},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.task,r=t.templateCode;return s.TaskHelper.isPending(n)||s.TaskHelper.isCompleted(n)?null:a.createElement(c.ActionStateListener,{action:["HangupCall","CompleteTask","WrapupTask"],payload:l.isValidTaskPayload(n)},function(t){return a.createElement(m.EndTaskButtonContainer,{className:"Twilio-TaskCanvasHeader-EndButton",themeOverride:e.getEndTaskButtonStyle(),onClick:e.onCompleteTaskButtonClick,disabled:t.disabled},a.createElement(u.TaskContext.Consumer,null,function(e){return a.createElement(c.Template,{task:n,code:r||p.TaskChannelHelper.getTemplateForStatus(n,e.channelDefinition.templates.TaskCanvasHeader.endButton,f.TaskCanvasHeader)})}))})},t.prototype.getEndTaskButtonStyle=function(){var e=this.props.task;return s.TaskHelper.isInWrapupMode(e)?this.props.theme.TaskCanvasHeader.EndTaskButton:d.TaskChannels.getForTask(e).capabilities.has(d.TaskChannelCapability.Wrapup)?this.props.theme.TaskCanvasHeader.WrapupTaskButton:this.props.theme.TaskCanvasHeader.EndTaskButton},t=o([i.withTheme],t)}(a.Component);t.EndTaskButton=g},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(0);t.EndTaskButtonContainer=i.default(a.Button)(o||(o=r([""],[""])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(313),c=n(5),l=n(10),u=n(36),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimer=void 0,t}return r(t,e),t.prototype.componentWillMount=function(){var e=this;this.refreshTimer=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){void 0!==this.refreshTimer&&window.clearInterval(this.refreshTimer)},t.prototype.render=function(){var e=this.props,t=e.ActionsComponent,n=e.content,r=e.icon,p=e.titleTemplateCode,f=e.titleTemplateContext,d=e.task,h=e.secondLineTemplateCode,m=e.secondLineTemplateContext,v=new c.TaskHelper(d);return i.createElement(a.DynamicComponent,{contentStore:n,childProps:this.props,name:n.name,customChildren:this.props.children},i.createElement(s.Container,{icon:r},!!r&&i.createElement(s.IconContainer,{key:"icon",className:"Twilio-TaskCanvasHeader-Icon"},i.createElement(a.Icon,{icon:r})),i.createElement(s.ContentContainer,{vertical:!0,key:"header"},i.createElement(s.TitleContainer,{key:"header-title",className:"Twilio-TaskCanvasHeader-Name"},i.createElement(a.Template,o({code:p||l.TaskChannelHelper.getTemplateForStatus(this.props.task,this.props.channelDefinition.templates.TaskCanvasHeader.title,u.TaskCanvasHeader),task:d},f))),i.createElement(s.ActivityStatusContainer,{key:"header-activity",className:"Twilio-TaskCanvasHeader-Activity"},i.createElement(s.ActivityStatusStyledTemplate,o({code:h||l.TaskChannelHelper.getTemplateForStatus(this.props.task,this.props.channelDefinition.templates.TaskCanvasHeader.secondLine,u.TaskCanvasHeader),task:d,helper:v},m)))),i.createElement(t,{key:"actions",task:d})))},t}(i.PureComponent);t.TaskCanvasHeaderImpl=p},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u=n(0),p=n(2);t.TitleContainer=p.default("div")(o||(o=r(["\n    overflow: hidden;\n    margin-left: 0px;\n    margin-right: 14px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 14px;\n    font-weight: bold;\n"],["\n    overflow: hidden;\n    margin-left: 0px;\n    margin-right: 14px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 14px;\n    font-weight: bold;\n"]))),t.IconContainer=p.default("div")(i||(i=r(["\n    display: flex;\n    flex: 0 0 auto;\n    width: 36px;\n\n    .Twilio-Icon {\n        margin: auto;\n    }\n"],["\n    display: flex;\n    flex: 0 0 auto;\n    width: 36px;\n\n    .Twilio-Icon {\n        margin: auto;\n    }\n"]))),t.Container=p.default("div")(a||(a=r(["\n    display: flex;\n    flex: 0 0 auto;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    padding-left: ",";\n    padding-right: 12px;\n    height: 56px;\n    ","\n"],["\n    display: flex;\n    flex: 0 0 auto;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    padding-left: ",";\n    padding-right: 12px;\n    height: 56px;\n    ","\n"])),function(e){return e.icon?"2px":"12px"},function(e){return e.theme.TaskCanvasHeader.Container}),t.ContentContainer=p.default(u.FlexBox)(s||(s=r(["\n    justify-content: center;\n    overflow: hidden;\n"],["\n    justify-content: center;\n    overflow: hidden;\n"]))),t.ActivityStatusContainer=p.default("div")(c||(c=r(["\n    font-size: 12px;\n    font-weight: normal;\n    margin-top: 2px;\n    overflow: hidden;\n    margin-left: 0px;\n    margin-right: 14px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    margin-top: 2px;\n    overflow: hidden;\n    margin-left: 0px;\n    margin-right: 14px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),t.ActivityStatusStyledTemplate=p.default(u.Template)(l||(l=r(["\n    display: inline-flex;\n    align-items: center;\n    .Twilio-Template-Icon {\n        margin-right: 4px;\n    }\n"],["\n    display: inline-flex;\n    align-items: center;\n    .Twilio-Template-Icon {\n        margin-right: 4px;\n    }\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(315),s=n(36),c=n(49);t.displayName="TaskCanvas",t.contentStore=new i.DynamicContentStore(t.displayName);var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){var e=this.props.task;return e?o.createElement(i.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,vertical:!0},o.createElement(a.Container,{vertical:!0,overflow:"hidden"},o.createElement(s.TaskCanvasHeader,{key:"header",task:e}),o.createElement(c.TaskCanvasTabs,{key:"tabs"}))):null},n}(o.PureComponent);t.TaskCanvasImpl=l},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(0);t.Container=i.default(a.FlexBox)(o||(o=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.TaskCanvas.Container})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);t.TaskCanvasHeader=r.TaskCanvasHeader;var o=n(318);t.TaskCanvasHeaderProps=o.TaskCanvasHeaderProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),s=n(320);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(79));var c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return i.createElement(t.Connected,o({},this.props))},n}(i.PureComponent);t.UserControls=c,t.Connected=a.connect(function(e){return{worker:e.worker}})(s.UserControlsImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(2),c=n(321),l=n(79),u=n(4),p=n(6),f=n(7),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWindowResize=function(){t.forceUpdate()},t.onLogoutClick=function(){f.tryInvokeAction("Logout",{forceLogout:!1}),t.modalPopup.hide()},t.setModalPopupRef=function(e){t.modalPopup=e},t}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleWindowResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize)},t.prototype.render=function(){var e=this;return i.createElement(a.ModalPopupWithEntryControl,{className:"Twilio-UserControls",alignRight:!0,autoClose:!0,entryControl:i.createElement(c.UserControlsUserCard,{className:"Twilio-UserControlsUserCard-AccountButton",large:window.innerWidth>552,worker:this.props.worker}),ref:this.setModalPopupRef},i.createElement(l.UserActivityControls,{className:"Twilio-UserControls-AccountMenu",styleOverride:this.props.theme.UserActivityControls},i.createElement(l.AccountMenuTitle,{className:"Twilio-AccountMenu-Title"},i.createElement(a.Template,{source:u.templates.SetYourStatus})),Array.from(this.props.worker.activities.values()).filter(function(e){return"Reserved"!==e.name}).map(function(t){return i.createElement(l.AccountMenuItem,{className:"Twilio-AccountMenu-Item",key:t.sid,selected:e.props.worker.activity&&t.sid===e.props.worker.activity.sid,onClick:e.onActivityClick.bind(e,t.sid),styleOverride:e.props.theme.UserActivityControls},t.name)}),i.createElement(l.AccountMenuDivider,null),i.createElement(l.AccountMenuItemLogout,{onClick:this.onLogoutClick,styleOverride:this.props.theme.UserActivityControls},i.createElement(a.Template,{source:u.templates.LogOut}),i.createElement(a.Icon,{icon:"Logout"}))))},t.prototype.onActivityClick=function(e){this.modalPopup.hide(),a.Actions.invokeAction("SetActivity",{activitySid:e}).then(function(){p.default.debug("activity updated")}).catch(function(e){p.default.error("failed to update activity:",e)})},t.displayName="UserControls",t=o([s.withTheme],t)}(i.PureComponent);t.UserControlsImpl=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(322);t.UserControlsUserCard=r.UserControlsUserCard,t.UserControlsUserCardProps=r.UserControlsUserCardProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(4),l=n(79),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.interval=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){clearInterval(this.interval)},t.prototype.render=function(){var e=this.props,t=(e.className,e.innerRef,e.worker),n=e.large,r=e.onClick,u=i(e,["className","innerRef","worker","large","onClick"]),p=t.worker;return a.createElement(l.Container,{large:n},a.createElement(s.UserCard,o({className:"Twilio-UserControls-UserCard",large:n,firstLine:p.fullName,secondLine:a.createElement(s.Template,{source:c.templates.UserControlWorkerSecondLine,workerActivityName:p.activityName,worker:p}),imageUrl:p.attributes.image_url,isAvailable:p.isAvailable,onClick:r,lightHover:!0},u)))},t}(a.PureComponent);t.UserControlsUserCard=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(3),l=n(5),u=n(324),p=n(60);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(145));var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return a.createElement(d,o({},this.props))},t.getBadgeChildren=function(e){var t=new p.AppStateHelper(e);return t.isAgentView()?0:t.getPendingTasks()+t.getUnconsumedMessagesCount()},t.displayName=u.displayName,t.Content=u.contentStore,t.defaultProps={logoUrl:void 0,Badge:{children:n.getBadgeChildren,variant:s.Badge.variants.dot,position:{right:"10px",top:"5px"}}},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.MainHeader=f;var d=c.connect(function(e,t){var n=t.Badge&&t.Badge.children;return{incomingTasks:!!Array.from(e.worker.tasks.values()).find(function(e){return l.TaskHelper.isPending(e)}),Badge:o(o({},t.Badge),{children:"function"==typeof n?n(e,t):n})}})(u.MainHeaderImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),c=n(22),l=n(0),u=n(145),p=n(331),f=n(146),d=n(147),h=n(75),m=n(144),v=n(7);t.displayName="MainHeader",t.contentStore=new l.DynamicContentStore(t.displayName);var g=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSidebarButtonClick=function(){v.tryInvokeAction("ToggleSidebar")},t.onSidebarButtonBlur=function(e){var t=document.getElementsByClassName("Twilio-SideNav-Container"),n=null;if(t.length>0&&(n=t[0]),n)for(var r=e.relatedTarget;r;){if(r===n)return;r=r.parentElement}v.tryInvokeAction("ToggleSidebar",{open:!1})},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.theme,r=e.logoUrl,i=e.Badge,s=c.Manager.getInstance().configuration.logger;return a.createElement(l.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children},a.createElement(u.Container,null,a.createElement(l.ContentFragment,{align:"start"},a.createElement(u.StyledIconContainer,{key:"sidenav-button"},a.createElement(u.StyledIconButton,{themeOverride:n.MainHeader.Button,icon:"Hamburger",onClick:this.onSidebarButtonClick,onBlur:this.onSidebarButtonBlur,className:"Twilio-Main-Header-IconButton"}),i&&a.createElement(l.Badge,o({key:"badge"},i))),r?a.createElement(u.HeaderLogoImage,{key:"logo",src:r}):a.createElement(p.HeaderLogo,{key:"logo"})),a.createElement(l.ContentFragment,{align:"end"},s&&s.type===f.LoggerType.file&&a.createElement(d.ToggleLoggingPanel,{key:"logging-button"}),a.createElement(h.MuteButton,{key:"mute-button",themeOverride:n.MainHeader.Button}),a.createElement(m.UserControls,{key:"user-controls"}))))},n=i([s.withTheme],n)}(a.PureComponent);t.MainHeaderImpl=g},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(38),a={colors:r(r({},i.default.colors),o.GreyLight.colors),lightTheme:!0};t.GreyLight=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(38),a={colors:r(r({},i.default.colors),o.GreyDark.colors),lightTheme:!1};t.GreyDark=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(38),a={colors:r(r({},i.default.colors),o.FlexDark.colors),lightTheme:!1};t.FlexDark=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(38),a={colors:r(r({},i.default.colors),o.FlexLight.colors),lightTheme:!0};t.FlexLight=a,t.default=a},function(e,t){e.exports=require("@material-ui/core/styles")},function(e,t){e.exports=require("react-jss")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(332);t.HeaderLogo=r.HeaderLogo},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.HeaderLogo=function(e){return o.createElement("svg",r({viewBox:"0 0 150 32",width:"150px",height:"32px"},e),o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"M0 0h150v32H0z"}),o.createElement("g",{fill:"currentColor"},o.createElement("path",{d:"M42.524 11.83h-3.472V21h-1.05v-9.17H34.6v-.98h7.77l.154.98zm17.54-.98l-3.192 10.192h-.924l-3.052-8.722-3.038 8.722h-.896L45.798 10.99l1.064-.238 2.618 8.61 2.898-8.512h1.078l2.94 8.512 2.576-8.512h1.092zM65.438 21h-1.064V10.85h1.064V21zm10.302 0h-5.264V10.85h1.05v9.17h4.06l.154.98zm5.136 0h-1.064V10.85h1.064V21zm14.096-5.082c0 3.108-1.96 5.278-4.788 5.278-2.828 0-4.76-2.156-4.76-5.25 0-3.122 1.96-5.278 4.788-5.278 2.828 0 4.76 2.142 4.76 5.25zm-1.106.014c0-2.576-1.456-4.312-3.682-4.312-2.212 0-3.668 1.736-3.668 4.298 0 2.59 1.47 4.312 3.682 4.312 2.226 0 3.668-1.722 3.668-4.298zm16.516-4.102h-4.242v3.542h3.388l.154.966h-3.542V21h-1.05V10.85h5.292v.98zM119.76 21h-5.264V10.85h1.05v9.17h4.06l.154.98zm9.616 0h-5.642V10.85h5.488v.98h-4.438v3.374h3.514l.154.98h-3.668v3.85h4.592V21zm11.926-.14l-1.064.224-3.22-4.62L133.91 21h-1.162l3.668-5.278-3.304-4.718 1.05-.224 2.87 4.172 2.8-4.102h1.162l-3.36 4.844 3.668 5.166zM8.852 14.253l4.324 4.325a.499.499 0 0 1 .146.353v4.568a.5.5 0 0 1-.852.354l-4.324-4.326A.495.495 0 0 1 8 19.174v-4.568a.5.5 0 0 1 .852-.353zM8.503 8h10.673c.132 0 .26.052.352.146l4.325 4.325a.5.5 0 0 1-.353.852H13.321a.49.49 0 0 0 0 .978h3.306c.132 0 .26.052.353.145l4.324 4.326a.5.5 0 0 1-.353.852h-5.1a.503.503 0 0 1-.353-.146l-7.352-7.34A.495.495 0 0 1 8 11.785V8.503C8 8.225 8.226 8 8.503 8z"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(6),a=n(0),s=n(335),c=n(4),l=n(16),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLogging:i.logManager.isLogging()},t.handleClick=function(){return i.logManager.isLogging()?(t.modalPopup.hide(),window.removeEventListener("beforeunload",t.handlePageLeave),i.logManager.flush(),i.logManager.stop()):i.logManager.prepare().then(function(){window.location.reload()}),t.setState({isLogging:i.logManager.isLogging()})},t.renderTriggerButton=function(e){var n=t.state.isLogging;return o.createElement(s.ButtonContainer,null,o.createElement(s.StyledIconButton,{isModalOpen:e,roundCorners:!1,className:l.cx("Twilio-ToggleLoggingPanel-IconButton"),icon:n?"SupportabilityBold":"Supportability"}))},t.setModalPopupRef=function(e){t.modalPopup=e},t}return r(t,e),t.prototype.componentDidMount=function(){return i.logManager.isLogging()&&window.addEventListener("beforeunload",this.handlePageLeave),this},t.prototype.handlePageLeave=function(e){if(i.logManager.isLogging())return e.preventDefault(),e.returnValue=!0,e},t.prototype.render=function(){var e=this.state.isLogging;return o.createElement(a.ModalPopupWithEntryControl,{className:"Twilio-ToggleLoggingPanel",autoClose:!0,alignRight:!0,ref:this.setModalPopupRef,entryControl:this.renderTriggerButton},o.createElement(s.Panel,{className:l.cx("Twilio-ToggleLoggingPanel-Panel")},o.createElement(c.Template,{source:e?c.templates.LogToFileStopLoggingText:c.templates.LogToFileStartLoggingText}),o.createElement(s.StyledButton,{roundCorners:!1,className:l.cx("Twilio-ToggleLoggingPanel-IconButton"),onClick:this.handleClick},o.createElement(c.Template,{source:e?c.templates.LogToFileStopLoggingLabel:c.templates.LogToFileStartLoggingLabel}))))},t}(o.PureComponent);t.ToggleLoggingPanel=u},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c=n(2),l=n(0);t.Panel=c.default("div")(o||(o=r(["\n    width: 260px;\n    color: ",";\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.4);\n    padding: 16px;\n\n    h2 {\n        font-size: 12px;\n        font-weight: bold;\n        margin-top: 0;\n        margin-bottom: 12px;\n        line-height: 16px;\n    }\n\n    ul {\n        list-style: disc;\n        padding-left: 20px;\n        margin: 0;\n    }\n\n    li,\n    p {\n        padding: 0;\n        margin-top: 0;\n        margin-bottom: 8px;\n        line-height: 16px;\n        color: ",";\n    }\n\n    ","\n"],["\n    width: 260px;\n    color: ",";\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.4);\n    padding: 16px;\n\n    h2 {\n        font-size: 12px;\n        font-weight: bold;\n        margin-top: 0;\n        margin-bottom: 12px;\n        line-height: 16px;\n    }\n\n    ul {\n        list-style: disc;\n        padding-left: 20px;\n        margin: 0;\n    }\n\n    li,\n    p {\n        padding: 0;\n        margin-top: 0;\n        margin-bottom: 8px;\n        line-height: 16px;\n        color: ",";\n    }\n\n    ","\n"])),function(e){return e.theme.calculated.textColor},function(e){return e.theme.colors.base8},function(e){return e.theme.ToggleLoggingPanel.Panel}),t.ButtonContainer=c.default("div")(i||(i=r(["\n    height: 100%;\n    display: flex;\n    align-items: center;\n"],["\n    height: 100%;\n    display: flex;\n    align-items: center;\n"]))),t.StyledIconButton=c.default(l.IconButton)(a||(a=r(["\n    height: 44px;\n    width: 44px;\n    border-radius: 0;\n    background-color: ",";\n\n    &:hover {\n        background-color: rgba(255, 255, 255, 0.2);\n    }\n\n    ","\n"],["\n    height: 44px;\n    width: 44px;\n    border-radius: 0;\n    background-color: ",";\n\n    &:hover {\n        background-color: rgba(255, 255, 255, 0.2);\n    }\n\n    ","\n"])),function(e){return e.isModalOpen?"rgba(255, 255, 255, 0.2)":"none"},function(e){return e.theme.ToggleLoggingPanel.IconButton}),t.StyledButton=c.default(l.Button)(s||(s=r(["\n    .Twilio & {\n        margin-top: 16px;\n        color: #fff;\n        width: 100%;\n        text-transform: uppercase;\n\n        ","\n    }\n"],["\n    .Twilio & {\n        margin-top: 16px;\n        color: #fff;\n        width: 100%;\n        text-transform: uppercase;\n\n        ","\n    }\n"])),function(e){return e.theme.ToggleLoggingPanel.Button})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),s=n(0),c=n(338),l=n(339),u=n(81),p=n(2),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleModalChange=function(){t.forceUpdate()},t.setModalPopupRef=function(e){t.modalPopup=e},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.filters||[];return 0===t.length?null:i.createElement(u.TaskListContext.Consumer,null,function(n){return i.createElement(c.StyledModalPopupWithEntryControl,{autoClose:!0,entryControl:i.createElement(l.TaskFilterButton,{className:"Twilio-TaskListFilter-TaskFilterButton",isOpen:e.isModalOpen(),content:e.getFilterText()}),innerRef:e.setModalPopupRef,onChange:e.handleModalChange},i.createElement(c.StyledMenu,{className:"Twilio-TaskListFilter-Items",styleOverride:e.props.theme.TaskList.Filter.Menu},t.map(function(t,r){return i.createElement(s.MenuItem,{key:r,className:"Twilio-TaskListFilter-Item",onClick:function(){return e.onFilterClick(t,n.onFilterChange)},selected:t===e.props.value,styleOverride:e.props.theme.TaskList.Filter.Menu},e.getFilterText(t))})))})},t.prototype.isModalOpen=function(){return!!this.modalPopup&&this.modalPopup.isOpen},t.prototype.getFilterText=function(e){return void 0===e&&(e=this.props.value),e.text in a.templates?i.createElement(a.Template,{source:a.templates[e.text]}):e.text},t.prototype.onFilterClick=function(e,t){t(e),this.modalPopup.hide()},t.displayName="TaskListFilter",t=o([p.withTheme],t)}(i.PureComponent);t.TaskListFilter=f},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.StyledModalPopupWithEntryControl=a.default(s.ModalPopupWithEntryControl)(o||(o=r(["\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    z-index: 1;\n    position: relative;\n    ","\n"],["\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    z-index: 1;\n    position: relative;\n    ","\n"])),function(e){return e.theme.TaskList.Filter.Container}),t.StyledMenu=a.default(s.Menu)(i||(i=r(["\n    box-shadow: 1px 2px 3px 0 rgba(0, 0, 0, 0.25);\n"],["\n    box-shadow: 1px 2px 3px 0 rgba(0, 0, 0, 0.25);\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(340);t.TaskFilterButton=r.TaskFilterButton},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(341);t.TaskFilterButton=function(e){var t=e.content,n=e.isOpen,s=o(e,["content","isOpen"]);return i.createElement(a.StyledEntryButton,r({},s),t,i.createElement(a.StyledToggleIcon,{icon:n?"FilterUp":"Filter"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.StyledEntryButton=a.default("button")(o||(o=r(["\n    margin-top: auto;\n    margin-bottom: auto;\n    padding: 0px 12px;\n    width: 100%;\n    white-space: nowrap;\n    border: none;\n    background: none;\n    outline: none;\n    text-align: left;\n\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n\n    margin-right: auto;\n    display: flex;\n    align-items: center;\n    width: auto;\n\n    :hover,\n    :focus {\n        background: initial;\n    }\n    ","\n"],["\n    margin-top: auto;\n    margin-bottom: auto;\n    padding: 0px 12px;\n    width: 100%;\n    white-space: nowrap;\n    border: none;\n    background: none;\n    outline: none;\n    text-align: left;\n\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n\n    margin-right: auto;\n    display: flex;\n    align-items: center;\n    width: auto;\n\n    :hover,\n    :focus {\n        background: initial;\n    }\n    ","\n"])),function(e){return e.theme.TaskList.Filter.EntryButton}),t.StyledToggleIcon=a.default(s.Icon)(i||(i=r(["\n    margin-left: 4px;\n    margin-top: auto;\n    margin-bottom: auto;\n"],["\n    margin-left: 4px;\n    margin-top: auto;\n    margin-bottom: auto;\n"])))},function(e,t){e.exports=require("react-flip-move")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(12),l=n(344),u=n(2),p=n(3),f=n(9),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.updateAll=function(){},t.prototype.render=function(){return a.createElement(h,o({},this.props))},t.displayName=l.displayName,t.Content=l.contentStore,t.defaultProps={itemSize:"Small"},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskListItem=d;var h=c.withTaskContext(p.connect(function(e,t){var n=f.TaskChannels.getForTask(t.task),r=n&&n.componentProps&&n.componentProps.TaskListItem&&n.componentProps.TaskListItem.Badge&&n.componentProps.TaskListItem.Badge.children;return{Badge:{children:"function"==typeof r?r(e,t):r}}})(u.withTheme(l.TaskListItemImpl)))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(152);t.displayName="TaskListItem",t.contentStore=new a.DynamicContentStore(t.displayName);var c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){var e=void 0!==this.props.selected?this.props.selected:this.props.selectedTaskSid===(this.props.task&&this.props.task.sid),n="Large"===(e&&"LargeSelected"===this.props.itemSize?"Large":this.props.itemSize),r=o(o({},this.props),{selected:e,large:n});return i.createElement(a.DynamicComponent,{contentStore:t.contentStore,childProps:r,name:t.displayName,customChildren:this.props.children,noContainers:!0,vertical:!0},i.createElement(i.Fragment,null,i.createElement(a.DefaultContentFragment,null,i.createElement(s.TaskListBaseItem,o({},r)))))},n}(i.PureComponent);t.TaskListItemImpl=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(5),a=n(154),s=n(10),c=n(0),l=n(155),u=n(153),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimer=void 0,t.handleContainerClick=function(e){t.props.onSelected&&t.props.onSelected(t.props.task.sid)},t}return r(t,e),t.prototype.render=function(){if(!this.props.visible)return null;var e=this.props,t=e.actions,n=e.firstLine,r=e.secondLine,p=e.extraInfo,f=e.selected,d=e.large,h=e.icon,m=e.iconColor,v=e.task,g=e.channelDefinition,y=new i.TaskHelper(v),k=f?g.icons.active:g.icons.list;return o.createElement(a.Container,{className:"Twilio-TaskListBaseItem",iconColor:m||s.TaskChannelHelper.getColor(v,g.colors.main,u.TaskListBaseItem),onClick:this.handleContainerClick,selected:f,large:d,vertical:!0},o.createElement(a.UpperArea,{className:"Twilio-TaskListBaseItem-UpperArea"},o.createElement(a.IconAreaContainer,{className:"Twilio-TaskListBaseItem-IconAreaContainer"},o.createElement(a.TaskListIcon,{className:"Twilio-TaskListBaseItem-IconArea",icon:h||s.TaskChannelHelper.getIcon(v,k,u.TaskListBaseItem),selected:f}),this.props.Badge&&o.createElement(c.Badge,null,this.props.Badge.children)),o.createElement(a.Content,{className:"Twilio-TaskListBaseItem-Content"},o.createElement(a.FirstLineContainer,{className:"Twilio-TaskListBaseItem-FirstLine"},n||o.createElement(c.Template,{code:s.TaskChannelHelper.getTemplateForStatus(v,g.templates.TaskListItem.firstLine,u.TaskListBaseItem),task:v,helper:y})),o.createElement(a.SecondLineContainer,{className:"Twilio-TaskListBaseItem-SecondLine"},r||o.createElement(a.SecondLineStyledTemplate,{code:s.TaskChannelHelper.getTemplateForStatus(v,g.templates.TaskListItem.secondLine,u.TaskListBaseItem),task:v,helper:y}))),o.createElement(a.ActionsContainer,{className:"Twilio-TaskListBaseItem-Actions"},t||o.createElement(l.TaskListButtons,null))),d&&o.createElement(a.LowerArea,{className:"Twilio-TaskListBaseItem-LowerArea"},p||o.createElement(c.Template,{code:s.TaskChannelHelper.getTemplateForStatus(v,g.templates.TaskListItem.extraInfo,u.TaskListBaseItem),task:v,helper:y})))},t.prototype.componentWillMount=function(){var e=this;this.refreshTimer=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){void 0!==this.refreshTimer&&window.clearInterval(this.refreshTimer)},t.defaultProps={visible:!0},t.displayName="TaskListBaseItem",t}(o.PureComponent);t.TaskListBaseItemImpl=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(12),s=n(347),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(l,o({},this.props))},t.displayName=s.displayName,t.Content=s.contentStore,t}(i.PureComponent);t.TaskListButtons=c;var l=a.withTaskContext(s.TaskListButtonsImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(5),s=n(348),c=n(350),l=n(352),u=n(354);t.displayName="TaskListButtons",t.contentStore=new i.DynamicContentStore(t.displayName);var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.call,r=e.task;return o.createElement(i.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,noContainers:!0},o.createElement(o.Fragment,null,a.TaskHelper.isPending(r)&&o.createElement(i.ContentFragment,null,o.createElement(s.AcceptTaskButton,{key:"accept",task:r}),o.createElement(c.RejectTaskButton,{key:"reject",task:r})),!!n&&o.createElement(i.ContentFragment,null,(!a.TaskHelper.isRegularConferenceCall(r)||r.conference.liveParticipantCount<=2)&&o.createElement(l.HoldCallTaskButton,{key:"hold",task:r}),o.createElement(u.HangupCallTaskButton,{key:"hangup",task:r}))))},n}(o.PureComponent);t.TaskListButtonsImpl=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);t.AcceptTaskButton=r.AcceptTaskButton},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(7),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){l.tryInvokeAction("AcceptTask",{task:t.props.task}),e.preventDefault()},t}return r(t,e),t.prototype.render=function(){var e=this;return a.createElement(s.ActionStateListener,{action:["AcceptTask","RejectTask"]},function(t){return a.createElement(s.IconButton,{className:"Twilio-TaskButton-Accept",themeOverride:e.props.theme.TaskList.Item.Buttons.AcceptButton,onClick:e.onClick,icon:"Accept",disabled:t.disabled,title:c.templates.AcceptTaskTooltip()})})},t=o([i.withTheme],t)}(a.PureComponent);t.AcceptTaskButton=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(351);t.RejectTaskButton=r.RejectTaskButton},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(7),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props.task;l.tryInvokeAction("RejectTask",{task:n}),e.preventDefault()},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.theme;return a.createElement(s.ActionStateListener,{action:["AcceptTask","RejectTask"]},function(n){return a.createElement(s.IconButton,{className:"Twilio-TaskButton-Reject",onClick:e.onClick,themeOverride:t.TaskList.Item.Buttons.RejectButton,icon:"Close",disabled:n.disabled,title:c.templates.RejectTaskTooltip()})})},t=o([i.withTheme],t)}(a.PureComponent);t.RejectTaskButton=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(353);t.HoldCallTaskButton=r.HoldCallTaskButton},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(5),u=n(34),p=n(7),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props.task;p.tryInvokeAction(t.isOnHold()?"UnholdCall":"HoldCall",{task:n}),e.preventDefault()},t}return r(t,e),t.prototype.isOnHold=function(){return l.TaskHelper.isCallOnHold(this.props.task)},t.prototype.render=function(){var e=this,t=this.props,n=t.task,r=t.theme,o=this.isOnHold();return a.createElement(s.ActionStateListener,{action:["HoldCall","UnholdCall"],payload:u.isValidVoiceActionPayload(n)},function(t){return a.createElement(s.IconButton,{disabled:t.disabled||!l.TaskHelper.canHold(n),className:"Twilio-TaskButton-Hold",onClick:e.onClick,themeOverride:r.TaskList.Item.Buttons.DefaultButton,icon:o?"HoldOff":"Hold",title:o?c.templates.UnholdCustomerTooltip():c.templates.HoldCustomerTooltip()})})},t=o([i.withTheme],t)}(a.Component);t.HoldCallTaskButton=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(355);t.HangupCallTaskButton=r.HangupCallTaskButton},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(34),u=n(7),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props.task;u.tryInvokeAction("HangupCall",{task:n}),e.preventDefault()},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.task,r=t.theme,o=n.conference&&n.conference.liveParticipantCount>2?"LeaveCall":"Hangup";return a.createElement(s.ActionStateListener,{action:"HangupCall",payload:l.isValidVoiceActionPayload(n)},function(t){return a.createElement(s.IconButton,{className:"Twilio-TaskButton-Hangup",onClick:e.onClick,icon:o,themeOverride:r.TaskList.Item.Buttons.RejectButton,disabled:t.disabled,title:c.templates.HangupCallTooltip()})})},t=o([i.withTheme],t)}(a.Component);t.HangupCallTaskButton=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156);t.AgentDesktopView=r.AgentDesktopView,t.AgentDesktopViewProps=r.AgentDesktopViewProps,t.AgentDesktopViewChildrenProps=r.AgentDesktopViewChildrenProps,t.SplitterOrientation=r.SplitterOrientation;var o=n(383);t.LoginView=o.LoginView,t.LoginViewProps=o.LoginViewProps;var i=n(83);t.LoginFormView=i.LoginFormView;var a=n(168);t.TeamsView=a.TeamsView;var s=n(180);t.QueuesStatsView=s.QueuesStatsView;var c=n(444);t.RuntimeLoginView=c.RuntimeLoginView,t.RuntimeLookupResponse=c.RuntimeLookupResponse},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(53),c=n(0),l=n(3),u=n(157),p=n(161),f=n(381),d=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBaseRoute=function(){return n.props.route.match&&n.props.route.match.url.replace(/\/$/,"")},n.renderChildren=function(e){return a.createElement(t.Connected,o({},n.props,{route:e}))},n}return r(n,e),n.updateAll=function(){},n.prototype.render=function(){var e=this.getBaseRoute();return a.createElement(s.Route,{path:e+"/:taskSid?",children:this.renderChildren})},n.displayName=f.displayName,n.Content=f.contentStore,n.Panel1=u.Panel1,n.Panel2=p.Panel2,n.defaultProps={showPanel2:!0,splitterOptions:void 0},n=i([c.withDefaultPropsUpdate],n)}(a.PureComponent);t.AgentDesktopView=d,t.Connected=l.connect(function(e){return{tasks:e.worker.tasks}})(f.AgentDesktopViewImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(5),l=n(359),u=function(e){return c.TaskHelper.isIncomingCall(e)||c.TaskHelper.isLiveCall(e)},p=[{text:"TaskFilterAll",callback:function(e){return!u(e)}},{text:"TaskFilterActive",callback:function(e){return!u(e)&&"accepted"===e.status}},{text:"TaskFilterWrapping",callback:function(e){return!u(e)&&"wrapping"===e.status}}],f=function(e){return u(e)},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.updateAll=function(){},t.prototype.render=function(){return a.createElement(l.TaskListContainerImpl,o({},this.props))},t.displayName=l.displayName,t.defaultTaskFilters=p,t.defaultStaticTaskFilter=f,t.Content=l.contentStore,t.defaultProps={taskFilters:p,staticTaskFilter:f},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskListContainer=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(148),s=n(360);t.displayName="TaskListsContainer",t.contentStore=new i.DynamicContentStore(t.displayName);var c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return o.createElement(i.DynamicComponent,{name:t.displayName,contentStore:t.contentStore,childProps:this.props,customChildren:this.props.children,vertical:!0},o.createElement(s.Container,null,o.createElement(a.TaskList,{key:"tasklist",staticFilter:this.props.staticTaskFilter,filters:this.props.taskFilters,tasks:this.props.tasks,selectedTaskSid:this.props.selectedTaskSid,onTaskSelected:this.props.onTaskSelected})))},n}(o.PureComponent);t.TaskListContainerImpl=c},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),a=n(2);t.Container=a.default(i.FlexBoxColumn)(o||(o=r(["\n    overflow-y: auto;\n"],["\n    overflow-y: auto;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(3),c=n(0),l=n(362),u=n(82),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(f,o({},this.props))},t.friendlyName=l.displayName,t.displayName=l.displayName,t.Content=l.contentStore,t.Tabs=u.WorkerDirectoryTabs,t=i([c.withDefaultPropsUpdate],t)}(a.PureComponent);t.WorkerDirectory=p,t.mapStateToProps=function(e){return{task:e.worker.tasks.get(e.view.selectedTaskSid),isOpen:e.view.isDirectoryOpen,isWarmTransferEnabled:!!e.config.warmTransfers&&e.config.warmTransfers.enabled}};var f=s.connect(t.mapStateToProps)(l.WorkerDirectoryImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(54),c=n(0),l=n(82);t.displayName="WorkerDirectory",t.contentStore=new c.DynamicContentStore(t.displayName);var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCloseClick=function(){c.Actions.invokeAction("HideDirectory")},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.isOpen,r=e.children,o=e.theme,i=e.isWarmTransferEnabled;return a.createElement(s.PopupContainer,{className:"Twilio-WorkerDirectory-Popup",isOpen:n},a.createElement(c.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:r,vertical:!0,noContainers:!0},a.createElement(s.Container,{className:"Twilio-WorkerDirectory",vertical:!0},a.createElement(s.HeaderPanel,{key:"header",className:"Twilio-WorkerDirectory-Header",noGrow:!0,noShrink:!0},a.createElement(c.IconButton,{icon:"Close",onClick:this.onCloseClick,themeOverride:o.WorkerDirectory.Header.Button}),a.createElement(s.LabelContainer,null,a.createElement(s.Label,null,a.createElement(c.Template,{source:c.templates.WorkerDirectoryTitle})))),this.props.isOpen?a.createElement(l.WorkerDirectoryTabs,{key:"tabs",isWarmTransferEnabled:i}):null)))},n=o([i.withTheme],n)}(a.PureComponent);t.WorkerDirectoryImpl=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),c=n(54),l=n(364),u=n(367),p=n(42),f=n(3),d=n(41),h=n(7);t.displayName="WorkerDirectoryTabs",t.contentStore=new a.DynamicContentStore(t.displayName);var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.queueSearchInputElementRef=s.createRef(),t.workerSearchInputElementRef=s.createRef(),t.onTransferQueueClick=function(e){return function(n){h.tryInvokeAction("TransferTask",{task:t.props.task,targetSid:e.sid,options:n}),h.tryInvokeAction("HideDirectory")}},t.onTransferClick=function(e){return function(n){h.tryInvokeAction("TransferTask",{task:t.props.task,targetSid:e.sid,options:n}),h.tryInvokeAction("HideDirectory")}},t.onWorkerSearchInputChange=function(){t.workersSearch&&!t.workerSearchTimer&&(t.workerSearchTimer=window.setTimeout(function(){if(null!=t.workerSearchInputElementRef.current){var e=t.workerSearchInputElementRef.current,n=e.value?'data.attributes.full_name contains "'+e.value+'"':"";t.workersSearch.search(n),t.workerSearchTimer=null}},300))},t.onQueueSearchInputChange=function(){t.queuesSearch&&!t.queueSearchTimer&&(t.queueSearchTimer=window.setTimeout(function(){if(null!=t.queueSearchInputElementRef.current){var e=t.queueSearchInputElementRef.current,n=e.value?'data.queue_name contains "'+e.value+'"':"";t.queuesSearch.search(n),t.queueSearchTimer=null}},300))},t.state={workers:[],queues:[]},t}return r(n,e),n.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t,n=this;return i(this,function(r){switch(r.label){case 0:return e=this,[4,f.FlexModule.insightsClient.instantQuery("tr-worker")];case 1:return e.workersSearch=r.sent().on("searchResult",function(e){var t=[];for(var r in e)if(r!==f.FlexModule.state.worker.source.sid){var o=e[r],i=new p.InsightsWorker(o);d.InsightsEntityCache.updateCache(i),t.push(i)}t=t.sort(function(e,t){var n=e.fullName||"",r=t.fullName||"";return n.localeCompare(r)}),n.setState({workers:t})}),this.workersSearch.search(""),t=this,[4,f.FlexModule.insightsClient.instantQuery("tr-queue")];case 2:return t.queuesSearch=r.sent().on("searchResult",function(e){var t=[];for(var r in e){var o=e[r],i=new p.InsightsQueue(o);d.InsightsEntityCache.updateCache(i),t.push(i)}t=t.sort(function(e,t){var n=e.name||"",r=t.name||"";return n.localeCompare(r)}),n.setState({queues:t})}),this.queuesSearch.search(""),[2]}})})},n.prototype.render=function(){var e=this;return s.createElement(a.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,vertical:!0,noContainers:!0},s.createElement(a.Tabs,{key:"tabs",className:"Twilio-WorkerDirectory-Tabs"},s.createElement(a.Tab,{key:"workers",label:s.createElement(a.Template,{source:a.templates.WorkerDirectoryAgentsTabLabel})},s.createElement(c.TabContainer,{key:"workers-container"},s.createElement(c.InputContainer,{key:"workers-input-container"},s.createElement(c.StyledInput,{key:"workers-input-field",inputRef:this.workerSearchInputElementRef,onChange:this.onWorkerSearchInputChange,placeholder:a.templates.WorkerDirectorySearchPlaceholder()})),s.createElement(c.ItemContainer,{key:"item-container",className:"Twilio-WorkerDirectory-Workers",vertical:!0},Array.from(this.state.workers).map(function(t){return s.createElement(l.WorkerItem,{worker:t,key:t.sid,isWarmTransferEnabled:e.props.isWarmTransferEnabled,onTransferClick:e.onTransferClick(t)})})))),s.createElement(a.Tab,{key:"queues",label:s.createElement(a.Template,{source:a.templates.WorkerDirectoryQueuesTabLabel})},s.createElement(c.TabContainer,{key:"queues-container"},s.createElement(c.InputContainer,{key:"queues-input-container"},s.createElement(c.StyledInput,{key:"queues-input-field",inputRef:this.queueSearchInputElementRef,onChange:this.onQueueSearchInputChange,placeholder:a.templates.WorkerDirectorySearchPlaceholder()})),s.createElement(c.ItemContainer,{key:"item-container",className:"Twilio-WorkerDirectory-Queues",vertical:!0},Array.from(this.state.queues).map(function(t){return s.createElement(u.QueueItem,{queue:t,key:t.sid,isWarmTransferEnabled:e.props.isWarmTransferEnabled,onTransferClick:e.onTransferQueueClick(t)})}))))))},n}(s.PureComponent);t.WorkerDirectoryTabsImpl=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(365);t.WorkerItem=r.WorkerItem,t.WorkerItemProps=r.WorkerItemProps,t.TransferClickPayload=r.TransferClickPayload},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(2),c=n(4),l=n(54),u=n(366),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWarmTransferClick=function(e){t.props.onTransferClick({mode:"WARM"})},t.onColdTransferClick=function(e){t.props.onTransferClick({mode:"COLD"})},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.worker,n=e.isWarmTransferEnabled;return i.createElement(l.ItemInnerContainer,{className:"Twilio-WorkerDirectory-Worker",noGrow:!0,noShrink:!0},i.createElement(u.WorkerMarginPlaceholder,{noGrow:!0,noShrink:!0}),i.createElement(a.UserCard,{className:"Twilio-WorkerDirectory-UserCard",firstLine:i.createElement(a.Template,{source:c.templates.WorkerDirectoryItemFirstLine,worker:t}),secondLine:i.createElement(a.Template,{source:c.templates.WorkerDirectoryItemSecondLine,worker:t}),isAvailable:t.isAvailable,imageUrl:t.attributes.image_url,large:!0}),i.createElement(l.ButtonContainer,{className:"Twilio-WorkerDirectory-ButtonContainer"},n&&i.createElement(l.CallButton,{icon:"Call",onClick:this.onWarmTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton,title:c.templates.WarmTransferTooltip()}),i.createElement(a.IconButton,{icon:"Transfer",onClick:this.onColdTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton,title:c.templates.ColdTransferTooltip()})))},t=o([s.withTheme],t)}(i.Component);t.WorkerItem=p},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(0);t.WorkerMarginPlaceholder=i.default(a.FlexBox)(o||(o=r(["\n    width: 6px;\n"],["\n    width: 6px;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(368);t.QueueItem=r.QueueItem,t.QueueItemProps=r.QueueItemProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(54),u=n(369),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWarmTransferClick=function(e){t.props.onTransferClick({mode:"WARM"})},t.onColdTransferClick=function(e){t.props.onTransferClick({mode:"COLD"})},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.queue,n=e.isWarmTransferEnabled;return a.createElement(l.ItemInnerContainer,{className:"Twilio-WorkerDirectory-Queue",noGrow:!0,noShrink:!0},a.createElement(u.QueueAvatar,{noGrow:!0,noShrink:!0,className:"Twilio-WorkerDirectory-QueueAvatar"},a.createElement(s.Icon,{icon:"Queue"})),a.createElement(u.QueueTitleContainer,{className:"Twilio-WorkerDirectory-QueueContent"},a.createElement(s.Template,{source:c.templates.WorkerDirectoryQueueItemText,queue:t})),a.createElement(l.ButtonContainer,{className:"Twilio-WorkerDirectory-ButtonContainer"},n&&a.createElement(l.CallButton,{icon:"Call",onClick:this.onWarmTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton,title:c.templates.WarmTransferTooltip()}),a.createElement(s.IconButton,{icon:"Transfer",onClick:this.onColdTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton,title:c.templates.ColdTransferTooltip()})))},t=o([i.withTheme],t)}(a.Component);t.QueueItem=p},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.QueueTitleContainer=a.default("div")(o||(o=r(["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-top: auto;\n    margin-bottom: auto;\n    margin-left: 14px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 12px;\n    font-weight: bold;\n"],["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-top: auto;\n    margin-bottom: auto;\n    margin-left: 14px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 12px;\n    font-weight: bold;\n"]))),t.QueueAvatar=a.default(s.FlexBox)(i||(i=r(["\n    width: 44px;\n    justify-content: center;\n    ",";\n"],["\n    width: 44px;\n    justify-content: center;\n    ",";\n"])),function(e){return e.theme.WorkerDirectory.QueueItem.Avatar})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(371);t.ContentSplitter=r.ContentSplitter,t.ContentSplitterProps=r.ContentSplitterProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(3),s=n(29),c=n(372),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSplitterNeedsUpdate=function(){setTimeout(function(){t.splitter&&t.splitter.reInit()},0)},t.makeSplitterRef=function(e){t.splitter=e},t.handleResize=function(){a.FlexModule.events.emitSplitterResize()},t}return r(t,e),t.prototype.componentDidMount=function(){a.FlexModule.events.addListener(s.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),a.FlexModule.events.addListener(s.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate)},t.prototype.componentWillUnmount=function(){a.FlexModule.events.removeListener(s.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),a.FlexModule.events.removeListener(s.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate)},t.prototype.render=function(){var e=this,n={vertical:!0,primMin:"20%",secMin:"40%",initial:"35%"};this.props.vertical||(n={vertical:!1,primMin:"276",secMin:"276",initial:"320"});return o.createElement(i.SplitContentContainer,{ref:this.makeSplitterRef,vertical:this.props.vertical,firstMinSize:n.primMin,secondMinSize:n.secMin,firstInitialSize:n.initial,separator:e.props.vertical?o.createElement(c.SplitterSeparator,null,o.createElement(i.Icon,{icon:"Resize"})):o.createElement(c.SplitterSeparatorVertical,null),lastSplitterState:t.lastSplitterState,onResize:this.handleResize},this.props.children)},t.lastSplitterState=new i.LastSplitterState,t}(o.PureComponent);t.ContentSplitter=l},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2);t.SplitterSeparator=a.default("div")(o||(o=r(["\n    display: flex;\n    border-style: solid;\n    border-width: 1px 0 1px 0;\n    height: 24px;\n    width: 100%;\n    div {\n        margin: auto;\n    }\n    ","\n"],["\n    display: flex;\n    border-style: solid;\n    border-width: 1px 0 1px 0;\n    height: 24px;\n    width: 100%;\n    div {\n        margin: auto;\n    }\n    ","\n"])),function(e){return e.theme.AgentDesktopView.ContentSplitter}),t.SplitterSeparatorVertical=a.default("div")(i||(i=r(["\n    height: 100%;\n    width: 1px;\n    background: ",";\n"],["\n    height: 100%;\n    width: 1px;\n    background: ",";\n"])),function(e){return e.theme.AgentDesktopView.ContentSplitter.borderColor})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.LeftPanelRootContainer=i.default("div")(o||(o=r(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    width: 100%;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    width: 100%;\n    ","\n"])),function(e){return e.theme.AgentDesktopView.Panel1})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(162),s=n(380),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.DynamicComponent,{name:t.friendlyName,contentStore:t.Content,childProps:this.props,customChildren:this.props.children,vertical:!0},o.createElement(s.RightPanelRootContainer,null,o.createElement(a.CRMContainer,{key:"container"})))},t.friendlyName="AgentDesktopView.Panel2",t.displayName=t.friendlyName,t.Content=new i.DynamicContentStore(t.friendlyName),t}(o.PureComponent);t.Panel2=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(8),l=n(376),u=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(163));var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.updateAll=function(){},n.prototype.render=function(){return a.createElement(t.Connected,o({},this.props))},n.displayName=l.displayName,n.Content=l.contentStore,n.defaultProps={uriCallback:void 0,uri:void 0},n=i([s.withDefaultPropsUpdate],n)}(a.PureComponent);t.CRMContainer=p,t.Connected=u.withTheme(c.withTaskContext(l.CRMContainerImpl))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(163),c=n(377);t.displayName="CRMContainer",t.contentStore=new a.DynamicContentStore(t.displayName);var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){var e=o(o({},this.props),{uri:this.props.uri||(this.props.uriCallback?this.props.uriCallback(this.props.task):void 0)});return i.createElement(a.DynamicComponent,{contentStore:t.contentStore,childProps:e,name:t.displayName,customChildren:this.props.children,vertical:!0},i.createElement(s.Container,null,!e.uri&&i.createElement(c.CRMPlaceHolderView,{key:"placeholder"}),!!e.uri&&i.createElement("iframe",{key:"iframe",src:e.uri})))},n}(i.PureComponent);t.CRMContainerImpl=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(378);t.CRMPlaceHolderView=r.CRMPlaceHolderView},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(379),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleButtonClick=function(){window.open("https://www.twilio.com/docs/flex/ui-configuration-customization#configure-a-crm-integration","_blank")},t}return r(t,e),t.prototype.render=function(){return a.createElement(l.CRMContainerPlaceholder,{className:"Twilio-CRMContainer-PlaceHolder"},a.createElement(l.FirstLineContainer,null,a.createElement(l.FirstLine,null,a.createElement(s.Template,{source:c.templates.NoCRMTitle}))),a.createElement(l.SecondLine,null," ",a.createElement(s.Template,{source:c.templates.NoCRMConfigured})," "),a.createElement(l.HintLine,null," ",a.createElement(s.Template,{source:c.templates.NoCRMHint})," "),a.createElement(l.StyledIcon,{icon:"Cogs",sizeMultiplier:4}),a.createElement(s.Button,{roundCorners:!1,onClick:this.handleButtonClick,themeOverride:this.props.theme.CRMContainer.Placeholder.Button},a.createElement(s.Template,{source:c.templates.NoCRMConfiguredAction})))},t=o([i.withTheme],t)}(a.PureComponent);t.CRMPlaceHolderView=u},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p=n(2),f=n(0);t.FirstLineContainer=p.default("div")(o||(o=r(["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"],["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"])),function(e){return e.theme.colors.flexBlueColor}),t.FirstLine=p.default("div")(i||(i=r(["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"],["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"]))),t.SecondLine=p.default("div")(a||(a=r(["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"],["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"]))),t.HintLine=p.default("div")(s||(s=r(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"])),function(e){return e.theme.CRMContainer.Placeholder.Hint}),t.NameLine=p.default("div")(c||(c=r(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"]))),t.StyledIcon=p.default(f.Icon)(l||(l=r(["\n    ","\n    margin-bottom: 26px;\n"],["\n    ","\n    margin-bottom: 26px;\n"])),function(e){return e.theme.CRMContainer.Placeholder.Icon}),t.CRMContainerPlaceholder=p.default("div")(u||(u=r(["\n    flex: 1 1 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    ","\n"],["\n    flex: 1 1 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    ","\n"])),function(e){return e.theme.CRMContainer.Placeholder.Container})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),a=n(2);t.RightPanelRootContainer=a.default(i.FlexBoxColumn)(o||(o=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.AgentDesktopView.Panel2})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(3),c=n(29),l=n(382),u=n(8),p=n(157),f=n(161),d=n(2),h=n(20);t.displayName="AgentDesktopView",t.contentStore=new a.DynamicContentStore(t.displayName);var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.notificationFilter=function(e){return!t.props.isViewActive||e.id!==h.IncomingTask},t.handleSplitterNeedsUpdate=function(){setTimeout(function(){t.splitter&&(t.splitter.reInit(),t.forceUpdate())},0)},t.handleResize=function(){s.FlexModule.events.emitSplitterResize()},t.makeSplitterRef=function(e){t.splitter=e},t}return r(n,e),n.prototype.componentDidMount=function(){s.FlexModule.events.addListener(c.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),s.FlexModule.events.addListener(c.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate),this.removeFilter=a.Notifications.handlers.inapp.addFilter(this.notificationFilter)},n.prototype.componentWillUnmount=function(){s.FlexModule.events.removeListener(c.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),s.FlexModule.events.removeListener(c.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate),this.removeFilter()},n.prototype.getTaskSidFromRoute=function(e){return e.match&&e.match.params.taskSid},n.prototype.renderContents=function(e){var t={selectedTaskSid:e,route:this.props.route,tasks:this.props.tasks};if(!this.props.showPanel2)return i.createElement(p.Panel1,o({key:"panel1"},t));var r=this.props.splitterOptions?this.props.splitterOptions:{};return i.createElement(a.ContentFragment,{align:"start"},i.createElement(a.SplitContentContainer,{key:"splitter",onResize:this.handleResize,ref:this.makeSplitterRef,firstInitialSize:r.hasOwnProperty("initialFirstPanelSize")?r.initialFirstPanelSize:"50%",firstMinSize:r.hasOwnProperty("minimumFirstPanelSize")?r.minimumFirstPanelSize:"276",secondMinSize:r.hasOwnProperty("minimumSecondPanelSize")?r.minimumSecondPanelSize:"40%",vertical:!1,separator:i.createElement(l.SplitterSeparator,null),lastSplitterState:n.splitterState},i.createElement(v,o({key:"panel1"},t)),i.createElement(g,o({key:"panel2"},t))))},n.prototype.render=function(){var e=this.getTaskSidFromRoute(this.props.route);return i.createElement(u.TaskContextSource,{key:"container",taskSid:e},i.createElement(a.DynamicComponent,{name:t.displayName,contentStore:t.contentStore,childProps:this.props,customChildren:this.props.children},this.renderContents(e)))},n.splitterState=new a.LastSplitterState,n}(i.PureComponent);t.AgentDesktopViewImpl=m;var v=d.withTheme(p.Panel1),g=d.withTheme(f.Panel2)},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.SplitterSeparator=i.default("div")(o||(o=r(["\n    height: 100%;\n    width: 0;\n    background: ",";\n"],["\n    height: 100%;\n    width: 0;\n    background: ",";\n"])),function(e){return e.theme.AgentDesktopView.ContentSplitter.borderColor})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(384);t.LoginView=r.LoginView,t.LoginViewProps=r.LoginViewProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(3),l=n(385);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(164));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(p,o({},this.props))},t.displayName="LoginView",t.defaultProps={logoUrl:void 0},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.LoginView=u;var p=c.connect(function(e){return{session:e.session,ssoConfig:e.config.sso}})(l.LoginViewImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(164),c=n(386),l=n(25),u=n(0),p=n(4),f=n(45),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLoginClick=function(){var e=t.props.ssoConfig;return f.SSOLoginHandler.create(e).then(function(e){l.Actions.ssoLogin(e)})},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.session,n=e.logoUrl;return a.createElement(s.Container,{className:"Twilio-LoginView-Container"},a.createElement(s.LogoContainer,{className:"Twilio-LoginView-LogoContainer"},a.createElement(c.LoginLogo,{url:n})),a.createElement(s.ControlsContainer,{className:"Twilio-LoginView-Controls"},t.loginState!==l.LoginState.LoggingIn&&a.createElement(s.LoginButton,{className:"Twilio-LoginView-LoginButton",themeOverride:this.props.theme.LoginView.LoginButton,onClick:this.handleLoginClick,roundCorners:!1},a.createElement(u.Template,{source:p.templates.LoginLogin})),t.loginState===l.LoginState.LoggingIn&&a.createElement(s.LoadingContainer,{className:"Twilio-LoginView-Loading"},a.createElement(u.Template,{source:p.templates.LoginLoading}))))},t=o([i.withTheme],t)}(a.PureComponent);t.LoginViewImpl=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(387);t.LoginLogo=r.LoginLogo},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(388),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.url;return e?o.createElement(a.LoginLogoImage,{src:e}):o.createElement(i.Icon,{icon:"Twilio",sizeMultiplier:3})},t}(o.PureComponent);t.LoginLogo=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.LoginLogoImage=i.default("img")(o||(o=r(["\n    display: block;\n    max-height: 80px;\n"],["\n    display: block;\n    max-height: 80px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s,c=n(0),l=n(2),u=n(1),p=n(4),f=n(33),d=n(390),h=n(6),m=n(21),v=n(45),g=n(46),y=n(165),k=n(11),C=n(112);!function(e){e.Initial="Initial",e.RuntimeLoginInput="RuntimeLoginInput",e.AccountSidLoading="AccountSidLoading",e.PublicConfigLoading="PublicConfigLoading",e.LoggingIn="LoggingIn",e.LoginForm="LoginForm",e.Final="Final"}(s||(s={}));var b=new Set([s.AccountSidLoading,s.PublicConfigLoading,s.LoggingIn,s.Final]),_={runtimeLogin:{mapDomainToLookup:function(e){return k.flexPublicConfigServiceUrl+"?RuntimeDomain="+e},adminLoginUrl:k.twilioServiceLoginUrl+"?localPort="+window.location.port}},w=function(e){function t(t){var r=e.call(this,t)||this;return r.handleAdminLoginClick=function(e){return n.useAdminLogin=!0,e.preventDefault(),r.tryLogin()},r.handleWindowResize=function(){r.setSizeFromContainer()},r.setContainerRef=function(e){r._containerRef=e,r.setSizeFromContainer()},r.setDomain=function(e){var t=e.target;r.setState({runtimeDomain:t.value})},r.handleFatalError=function(e){h.log.error("LoginFormView fatal error:",e),r.props.onError&&r.props.onError(e)},r.handleSubmit=function(e){switch(e.preventDefault(),r.state.smState){case s.RuntimeLoginInput:r.sm.transitionTo(s.AccountSidLoading);break;case s.LoginForm:r.tryLogin()}},r.transitionToInit=function(){return r.getMergedConfig().sso.accountSid?r.state.publicConfig?r.sm.transitionTo(s.LoggingIn):r.sm.transitionTo(s.PublicConfigLoading):r.state.runtimeDomain?r.sm.transitionTo(s.AccountSidLoading):r.sm.transitionTo(s.RuntimeLoginInput)},r.transitionToFetchingAccountSid=function(){return g.fetchRuntimeDomainInfo(r.state.runtimeDomain,r.props.userConfig.runtimeLogin).then(function(e){r.setState({determinedConfig:{sso:{accountSid:e.account_sid}}}),r.sm.transitionTo(s.PublicConfigLoading)}).catch(function(e){r.sm.transitionTo(s.RuntimeLoginInput),r.setState({error:e}),h.log.warn("Error from fetchRuntimeDomainInfo",e)})},r.transitionToFetchingPublicConfig=function(){var e=r.getMergedConfig();if(!e.sso.accountSid)throw new m.ConfigError(m.ConfigErrorKeys.accountSid);return g.fetchPublicConfiguration(e.sso.accountSid,!0,r.props.userConfig.sso).then(function(e){r.setState({publicConfig:e}),r.sm.transitionTo(s.LoggingIn)}).catch(function(e){r.setState({error:e}),r.sm.transitionTo(s.LoginForm),h.log.warn("Error from fetchPublicConfiguration",e)})},r.transitionToFinal=function(){var e=r.props.userConfig;c.Utils.mergeInto(e||{},r.state.determinedConfig,!1);var t=c.Utils.merge(g.getStoredConfig(),r.state.determinedConfig);g.storeConfig(t),r.props.userLoggedOut&&v.SSOLoginHandler.create(e.sso).then(function(e){window.location.reload()}),r.props.onSuccess&&r.props.onSuccess(r.state.determinedConfig)},r.transitionToLoggingIn=function(){return r.tryLogin()},r.state={determinedConfig:{},error:null,runtimeDomain:t.initialRuntimeDomain,smState:null,publicConfig:void 0},r.sm=new c.StateMachine("LoginFormView"),r.sm.onChange(function(e){return r.setState(function(t){return o(o({},t),{smState:e})})}),r.sm.onEnter(s.Initial,r.transitionToInit),r.sm.onEnter(s.AccountSidLoading,r.transitionToFetchingAccountSid),r.sm.onEnter(s.PublicConfigLoading,r.transitionToFetchingPublicConfig),r.sm.onEnter(s.LoggingIn,r.transitionToLoggingIn),r.sm.onEnter(s.Final,r.transitionToFinal),Object.keys(p.templates).length||c.initWithStrings(f.languages.default),r}var n,k;return r(t,e),n=t,t.prototype.componentDidMount=function(){return window.addEventListener("resize",this.handleWindowResize),this.props.userLoggedOut?this.props.userConfig.sso&&this.props.userConfig.sso.accountSid?this.sm.transitionTo(s.LoginForm):this.sm.transitionTo(s.RuntimeLoginInput):this.sm.transitionTo(s.Initial)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize)},t.prototype.render=function(){var e=this.getDetailedErrorMessageTemplate();return u.createElement(d.Container,{className:"Twilio Twilio-LoginFormView",innerRef:this.setContainerRef},u.createElement(d.VerticalContainer,{className:"Twilio-LoginFormView-Container",showBorder:this.state.containerWidth>=1024},u.createElement(d.ContentContainer,{className:"Twilio-LoginFormView-ContentContainer"},u.createElement(d.StyledLogoWithCircle,{animating:this.isLoadingState(),backgroundColor:this.props.theme.LoginFormView.Container.backgroundColor}),u.createElement(d.MessageContainer,{className:"Twilio-LoginFormView-Message"},u.createElement(c.Template,{source:this.getMessageTemplate()})),u.createElement(d.FormContainer,{className:"Twilio-LoginFormView-FormContainer"},u.createElement(d.Form,{onSubmit:this.handleSubmit,className:"Twilio-LoginFormView-Form"},this.isRuntimeDomainInputState()&&u.createElement(d.RuntimeDomainInput,{className:"Twilio-LoginFormView-Input",value:this.state.runtimeDomain,onChange:this.setDomain,autoFocus:!0,error:!!this.state.error,name:"runtime",type:"text",placeholder:p.templates.RuntimeLoginPlaceholder()}),!this.isLoadingState()&&this.doesErrorAllowButton()&&u.createElement(d.LoginButton,{className:"Twilio-LoginFormView-LoginButton",roundCorners:!1,disabled:this.isLoginButtonDisabled(),onClick:this.handleSubmit,themeOverride:this.props.theme.RuntimeLoginView.LoginButton},u.createElement(c.Template,{source:this.getLoginButtonTemplate()})))),u.createElement(d.ErrorDetailsContainer,{className:"Twilio-LoginFormView-ErrorDetails"},!!e&&u.createElement(c.Template,{source:e})),!this.isLoadingState()&&u.createElement(d.AdminLinkContainer,{className:"Twilio-LoginFormView-AdminLogin"},u.createElement(c.Template,{source:p.templates.LoginIsAdmin}),u.createElement(d.LoginLink,{href:"#",onClick:this.handleAdminLoginClick},u.createElement(c.Template,{source:p.templates.LoginWithTwilio}))))))},t.prototype.setSizeFromContainer=function(){this._containerRef&&this.setState({containerWidth:this._containerRef.clientWidth})},t.prototype.getMergedConfig=function(e){void 0===e&&(e=this.props);var t=c.Utils.merge(e.userConfig||{},this.state.determinedConfig),n=this.getAdminLoginConfigOverride();return n&&c.Utils.mergeInto(t,n),t},t.prototype.getAdminLoginConfigOverride=function(){if(n.useAdminLogin){var e={sso:{idpUrl:this.getRuntimeConfig().adminLoginUrl}};if(window.location!==window.parent.location){e.sso.loginPopup=!0;var t=o(o({},C.getDefaultLoginWindowFeatures()),{width:1e3});e.sso.loginPopupFeatures=C.stringifyLoginWindowFeatures(t)}return e}},t.prototype.tryLogin=function(){var e=this,t=this.getMergedConfig();return v.SSOLoginHandler.tryLogin(t.sso).then(function(){e.sm.transitionTo(s.Final)}).catch(function(t){t instanceof m.BrowserError&&t.key===m.BrowserErrorKeys.redirecting?h.log.debug("Browser redirecting soon"):(e.setState({error:t}),e.sm.transitionTo(s.LoginForm),h.log.warn("Error from tryLogin",t),function(e){return e instanceof m.BrowserError||e instanceof m.ValidationError||e instanceof m.ConfigError||e instanceof m.ClientError}(t)||e.handleFatalError(t))})},t.prototype.getErrorMessageTemplate=function(){var e=this.state.error;return e?e.key===m.ValidationErrorKeys.sso?p.templates.LoginErrorSso:e.key===m.BrowserErrorKeys.popupBlocked||e.key===m.BrowserErrorKeys.windowClosed?p.templates.LoginErrorPopupBlocked:e.key===m.ValidationErrorKeys.accountSid?p.templates.LoginErrorDomain:e.key===m.ValidationErrorKeys.untrustedDomain?p.templates.LoginErrorUntrustedDomain:e.key===m.ValidationErrorKeys.invalidCertificate?p.templates.LoginErrorInvalidCertificate:p.templates.LoginErrorGeneric:null},t.prototype.getDetailedErrorMessageTemplate=function(){var e=this.state.error;return!e||this.isLoadingState()?null:e.key===m.ValidationErrorKeys.sso?p.templates.LoginErrorSsoDetails:e.key===m.BrowserErrorKeys.popupBlocked||e.key===m.BrowserErrorKeys.windowClosed?p.templates.LoginErrorPopupBlockedDetails:e.key===m.ValidationErrorKeys.accountSid?p.templates.LoginErrorDomainDetails:e.key===m.ValidationErrorKeys.untrustedDomain?p.templates.LoginErrorUntrustedDomainDetails:e.key===m.ValidationErrorKeys.invalidCertificate?p.templates.LoginErrorInvalidCertificateDetails:null},t.prototype.getLoginButtonTemplate=function(){return this.props.userLoggedOut?p.templates.LoginAgain:this.state.smState===s.RuntimeLoginInput?p.templates.LoginLaunch:p.templates.LoginContinue},t.prototype.doesErrorAllowButton=function(){return!(this.state.error&&this.state.error instanceof m.ValidationError)},t.prototype.isLoginButtonDisabled=function(){return this.isRuntimeDomainInputState()&&!this.state.runtimeDomain||this.state.smState===s.LoginForm&&this.state.error&&!(this.state.error instanceof m.BrowserError)},t.prototype.getMessageTemplate=function(){return this.isLoadingState()?p.templates.LoginLoading:this.isErrorState()?this.getErrorMessageTemplate():this.props.userLoggedOut?p.templates.UserLoggedOutSuccess:p.templates.LoginWelcome},t.prototype.isRuntimeDomainInputState=function(){return this.state.smState===s.RuntimeLoginInput},t.prototype.isLoadingState=function(){return b.has(this.state.smState)},t.prototype.isErrorState=function(){return!!this.state.error&&!this.isLoadingState()},t.prototype.getRuntimeConfig=function(){return this.props.userConfig.runtimeLogin||_.runtimeLogin},t.useAdminLogin=!1,t=n=i([l.withTheme,a("design:paramtypes",["function"==typeof(k=void 0!==y.LoginFormViewProps&&y.LoginFormViewProps)?k:Object])],t)}(u.PureComponent);t.LoginFormViewImpl=w},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p,f,d,h,m,v=n(0),g=n(55),y=n(2),k=n(166);t.Container=y.default("div")(o||(o=r(["\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 1 auto;\n    justify-content: center;\n    ","\n\n    a, a:active, a:hover, a:link, a:visited {\n        color: inherit;\n    }\n"],["\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 1 auto;\n    justify-content: center;\n    ","\n\n    a, a:active, a:hover, a:link, a:visited {\n        color: inherit;\n    }\n"])),function(e){return e.theme.LoginFormView.Container}),t.VerticalContainer=y.default("div")(i||(i=r(["\n    width: ",";\n    border-style: solid;\n    border-width: ",";\n    min-height: 430px;\n    display: flex;\n    flex: 0 1 604px;\n    flex-direction: column;\n    ","\n"],["\n    width: ",";\n    border-style: solid;\n    border-width: ",";\n    min-height: 430px;\n    display: flex;\n    flex: 0 1 604px;\n    flex-direction: column;\n    ","\n"])),function(e){return e.showBorder?"426px":"100%"},function(e){return e.showBorder?"1px":"0px"},function(e){return e.theme.LoginFormView.Container}),t.ContentContainer=y.default("div")(a||(a=r(["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: column;\n    align-items: center;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-top: 32px;\n    padding-bottom: 32px;\n"],["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: column;\n    align-items: center;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-top: 32px;\n    padding-bottom: 32px;\n"]))),t.FormContainer=y.default("div")(s||(s=r(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n"],["\n    display: flex;\n    align-items: center;\n    width: 100%;\n"]))),t.Form=y.default("form")(c||(c=r(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    max-width: 348px;\n    margin: auto;\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    max-width: 348px;\n    margin: auto;\n"]))),t.LoginLink=y.default("a")(l||(l=r(["\n    margin-left: 8px;\n"],["\n    margin-left: 8px;\n"]))),t.LoginButton=y.default(v.Button)(u||(u=r(["\n    text-transform: uppercase;\n    margin-top: 16px;\n"],["\n    text-transform: uppercase;\n    margin-top: 16px;\n"]))),t.StyledLogoWithCircle=y.default(k.LogoWithCircle)(p||(p=r(["\n    flex: 0 0 auto;\n    margin-top: 32px;\n"],["\n    flex: 0 0 auto;\n    margin-top: 32px;\n"]))),t.MessageContainer=y.default("div")(f||(f=r(["\n    font-size: 18px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 32px;\n    margin-bottom: 32px;\n"],["\n    font-size: 18px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 32px;\n    margin-bottom: 32px;\n"]))),t.ErrorDetailsContainer=y.default("div")(d||(d=r(["\n    font-size: 14px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 40px;\n"],["\n    font-size: 14px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 40px;\n"]))),t.RuntimeDomainInput=y.default(g.default)(h||(h=r(["\n    margin-top: 16px;\n    margin-left: 2px;\n    margin-right: 2px;\n"],["\n    margin-top: 16px;\n    margin-left: 2px;\n    margin-right: 2px;\n"]))),t.AdminLinkContainer=y.default("div")(m||(m=r(["\n    margin-top: auto;\n    font-size: 12px;\n    font-weight: lighter;\n    text-align: center;\n"],["\n    margin-top: auto;\n    font-size: 12px;\n    font-weight: lighter;\n    text-align: center;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(167),i=n(27),a=n(0),s=n(394);t.LogoWithCircle=function(e){return r.createElement(s.CenterContainer,{className:i.cx("Twilio-LogoWithCircle",e.className)},r.createElement(s.ProgressContainer,null,r.createElement(a.CircularProgress,{animating:e.animating,size:124,borderWidth:3})),r.createElement(o.LoginLogo,null))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(393);t.LoginLogo=function(e){return o.createElement(i.LogoContainer,null,o.createElement("svg",r({viewBox:"0 0 173 166",width:"173",height:"166"},e),o.createElement("g",{fill:"#FFF",fillRule:"evenodd"},o.createElement("path",{d:"M69.449 59.978L81.88 72.413c.269.27.42.634.42 1.015v13.134c0 1.279-1.545 1.919-2.449 1.015L67.42 75.14a1.435 1.435 0 0 1-.42-1.014V60.992c0-1.278 1.545-1.918 2.449-1.014zM68.448 42H99.13c.38 0 .745.151 1.014.42l12.432 12.436c.904.904.264 2.45-1.014 2.45H82.3a1.405 1.405 0 0 0 0 2.81h9.503c.38 0 .745.15 1.014.42L105.25 72.97c.903.904.263 2.45-1.015 2.45H89.573c-.38 0-.745-.152-1.014-.421L67.42 53.898a1.435 1.435 0 0 1-.42-1.014v-9.436c0-.8.649-1.448 1.448-1.448zM15.752 146.59h-5.456V161h-1.65v-14.41H3.3v-1.54h12.21l.242 1.54zm27.42-1.54l-5.016 16.016h-1.452l-4.796-13.706-4.774 13.706h-1.408l-4.972-15.796 1.672-.374 4.114 13.53 4.554-13.376h1.694l4.62 13.376 4.048-13.376h1.716zM51.474 161h-1.672v-15.95h1.672V161zm16.046 0h-8.272v-15.95h1.65v14.41h6.38l.242 1.54zm7.928 0h-1.672v-15.95h1.672V161zm22.008-7.986c0 4.884-3.08 8.294-7.524 8.294s-7.48-3.388-7.48-8.25c0-4.906 3.08-8.294 7.524-8.294s7.48 3.366 7.48 8.25zm-1.738.022c0-4.048-2.288-6.776-5.786-6.776-3.476 0-5.764 2.728-5.764 6.754 0 4.07 2.31 6.776 5.786 6.776 3.498 0 5.764-2.706 5.764-6.754zm25.668-6.446h-6.666v5.566h5.324l.242 1.518h-5.566V161h-1.65v-15.95h8.316v1.54zM135.98 161h-8.272v-15.95h1.65v14.41h6.38l.242 1.54zm14.968 0h-8.866v-15.95h8.624v1.54h-6.974v5.302h5.522l.242 1.54h-5.764v6.05h7.216V161zm18.598-.22l-1.672.352-5.06-7.26L157.93 161h-1.826l5.764-8.294-5.192-7.414 1.65-.352 4.51 6.556 4.4-6.446h1.826l-5.28 7.612 5.764 8.118z"}))))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.LogoContainer=i.default("div")(o||(o=r(["\n    position: relative;\n"],["\n    position: relative;\n"])))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2);t.CenterContainer=a.default("div")(o||(o=r(["\n    position: relative;\n    overflow: hidden;\n    margin-bottom: 6px;\n"],["\n    position: relative;\n    overflow: hidden;\n    margin-bottom: 6px;\n"]))),t.ProgressContainer=a.default("div")(i||(i=r(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    right: 0;\n    text-align: center;\n"],["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    right: 0;\n    text-align: center;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(56),s=n(0),c=n(170),l=n(174),u=n(124),p=n(175),f=n(169),d=n(429),h=n(137),m=n(26),v=n(430),g=n(4),y=n(5),k=n(7),C=n(16),b=n(17);t.displayName="TeamsView",t.contentStore=new s.DynamicContentStore(t.displayName);var _=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFilterPanelOpen:!1,searchText:""},t.applyFilters=function(e){m.Actions.applyListFilters({key:f.FiltersType.filter,filters:t.props.filters.map(function(t){return{name:t.id,condition:t.condition||m.FilterConditions.IN,values:e[t.id]||[]}})})},t.resetFilters=function(e){Object.keys(e).length?t.applyFilters(e):m.Actions.removeListFilters({key:f.FiltersType.filter})},t.onSearchTextChange=function(e){return t.setState({searchText:e})},t.onSearchClear=function(){k.tryInvokeAction("RemoveListFilters",{key:f.FiltersType.search}),t.setState({searchText:""})},t.onSearchSubmit=function(e){e?k.tryInvokeAction("ApplyListFilters",{key:f.FiltersType.search,filters:[{name:"data.attributes.full_name",condition:m.FilterConditions.CONTAINS,values:e}]}):k.tryInvokeAction("RemoveListFilters",{key:f.FiltersType.search}),t.closeFiltersPanel()},t.onFilterButtonClick=function(){t.openFiltersPanel()},t.openFiltersPanel=function(){t.setState({isFilterPanelOpen:!0},function(){k.tryInvokeAction("SelectTaskInSupervisor",{}),k.tryInvokeAction("SelectWorkerInSupervisor",{})})},t.closeFiltersPanel=function(e){t.setState({isFilterPanelOpen:!1},"function"==typeof e?e:void 0)},t.handleTaskSelection=function(e){t.closeFiltersPanel(function(){k.tryInvokeAction("SelectTaskInSupervisor",{task:e})})},t.handleWorkerSelection=function(e){t.closeFiltersPanel(function(){k.tryInvokeAction("SelectWorkerInSupervisor",{worker:e})})},t}return r(n,e),n.getTaskSidFromRoute=function(e){return e.match&&"tasks"===e.match.params.resource&&e.match.params.sid},n.prototype.componentDidMount=function(){this.loadChatChannel(),this.loadWorkers()},n.prototype.componentDidUpdate=function(e,t){n.getTaskSidFromRoute(e.route)===n.getTaskSidFromRoute(this.props.route)&&t.selectedTask===this.state.selectedTask||this.loadChatChannel();var r=this.props,o=r.filtersEnabled,i=r.appliedFilters;if(o&&e.appliedFilters!==i){var a=i?i.query:c.WorkersDataTable.IncludeAllFilter.query;b.Actions.setActiveFilterQuery(a,c.WorkersDataTable.taskFilter)}},n.getDerivedStateFromProps=function(e,t){var r=a.SupervisorStateHelper.getTaskBySid(n.getTaskSidFromRoute(e.route)),o=a.SupervisorStateHelper.getWorkerBySid(n.getWorkerSidFromRoute(e.route));return t.selectedTask&&r&&t.selectedTask.sid===r.sid&&t.selectedWorker&&o&&t.selectedWorker.sid===o.sid?null:{selectedTask:r,selectedWorker:o}},n.getWorkerSidFromRoute=function(e){return e.match&&"workers"===e.match.params.resource&&e.match.params.sid},n.prototype.loadChatChannel=function(){var e=this.state.selectedTask;if(e&&y.TaskHelper.isChatBasedTask(e)){var t=y.TaskHelper.getTaskChatChannelSid(e);s.ChatChannelState.Actions.initWithChannelSid(t)}},n.prototype.loadWorkers=function(){var e=this.props,t=e.filters;if(e.filtersEnabled){var n=s.FiltersList.getDefaultFilterValues(t);this.applyFilters(n)}},n.prototype.renderDataTable=function(e,t){return i.createElement(c.WorkersDataTable,{selectedTask:e,selectedWorker:t,monitoredTaskSid:this.props.monitoredTaskSid,onTaskSelected:this.handleTaskSelection,onWorkerSelected:this.handleWorkerSelection,filtersEnabled:this.props.filtersEnabled,appliedFilters:this.props.appliedFilters})},n.prototype.render=function(){var e=this.props.isLoadingWorkers,n=this.state,r=n.selectedTask,a=n.selectedWorker;return i.createElement(s.DynamicComponent,{name:t.displayName,contentStore:t.contentStore,childProps:this.props,customChildren:this.props.children,noContainers:!0},i.createElement(d.Container,null,i.createElement(s.FlexBox,{key:"agents-table",vertical:!0,className:C.cx({"Twilio-TeamsView-Loaded":!this.props.isLoadingWorkers})},this.props.filtersEnabled&&this.renderFilters(),this.props.isViewActive&&this.renderDataTable(r,a),this.props.filtersEnabled&&this.rendersResultsSummary()),!!r&&i.createElement(l.SupervisorTaskContextSource,{key:"task-canvas",taskSid:r.sid},i.createElement(u.TaskCanvas,null)),!!a&&i.createElement(p.WorkerCanvas,{key:"worker-canvas",worker:a}),i.createElement(h.TeamFiltersPanel,o({isHidden:Boolean(r)||Boolean(a)||!this.state.isFilterPanelOpen,key:"team-filter-panel",handleCloseClick:this.closeFiltersPanel,handleApplyFilters:this.applyFilters,handleResetFilters:this.resetFilters,isLoadingWorkers:e},this.props))))},n.prototype.renderFilters=function(){var e=this.props.appliedFilters&&this.props.appliedFilters.type===f.FiltersType.search;return i.createElement(d.FilterContainer,{key:"filters",className:"Twilio-TeamsView-Filter",noGrow:!0},i.createElement(d.SearchContainer,null,i.createElement(v.SearchBar,{value:this.state.searchText,onChange:this.onSearchTextChange,onSubmit:this.onSearchSubmit,placeholder:g.templates.TeamsViewClearSearchPlaceholder(),disabled:this.props.isLoadingWorkers}),e&&i.createElement(d.ClearSearchLink,{onClick:this.onSearchClear},i.createElement(s.Template,{code:"TeamsViewClearSearchAction"}))),i.createElement(d.FilterButton,{onClick:this.onFilterButtonClick,roundCorners:!1,disabled:e},i.createElement(s.Template,{code:"TeamsViewFilterAction",filterCount:!e&&this.props.appliedFilters&&this.props.appliedFilters.count}),i.createElement(s.Icon,{icon:"FilterTrigger"})))},n.prototype.rendersResultsSummary=function(){var e,t=this.props.workers,n=this.props.appliedFilters&&this.props.appliedFilters.type===f.FiltersType.search;return t.length>0&&t.length<b.maxWorkersNumberFromInitialLoad?null:(e=t.length>=b.maxWorkersNumberFromInitialLoad?g.templates.TeamsViewResultsSummaryMaxWorkersDisplayed:g.templates.TeamsViewResultsSummaryNoWorkersDisplayed,i.createElement(d.ResultsSummary,null,i.createElement(s.Template,{source:e,amount:t.length}),t.length>=b.maxWorkersNumberFromInitialLoad&&i.createElement(d.InlineButton,{role:"button",onClick:this.onFilterButtonClick,disabled:n},i.createElement(s.Template,{source:g.templates.TeamsViewResultsSummaryFilterCTA}))))},n}(i.PureComponent);t.TeamsViewImpl=_},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(3),l=n(397);t.defaultCompareFunction=function(e,t){var n=e.fullName||"",r=t.fullName||"";return n.localeCompare(r)};var u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}var c;return r(n,e),c=n,n.updateAll=function(){},n.prototype.render=function(){return a.createElement(t.ConnectedWorkersDataTableImpl,o({},this.props))},n.displayName=l.displayName,n.Content=l.contentStore,n.IncludeAllFilter=l.IncludeAllFilter,n.IncludeActiveWorkersFilter=function(e){var t=e.worker.activities,n=t&&Array.from(t.values()).filter(function(e){return!!e.available});if(n&&n.length)return{query:"data.activity_name IN ["+('"'+n.map(function(e){return e.name}).join('", "')+'"')+"]",text:"Active Agents"}},n.defaultFilters=[c.IncludeActiveWorkersFilter,c.IncludeAllFilter],n.taskFilter='data.status not_in ["completed", "canceled", "rescinded", "rejected", "timeout"]',n.defaultProps={tablePlaceHolder:void 0,initialCompareFunction:t.defaultCompareFunction,filters:c.defaultFilters,taskFilter:c.taskFilter},n=c=i([s.withDefaultPropsUpdate],n)}(a.PureComponent);t.WorkersDataTable=u;t.ConnectedWorkersDataTableImpl=c.connect(function(e,t){return{workers:e.supervisor.workers,filters:t.filters.map(function(n){return"function"==typeof n?n(e,t):n}).filter(function(e){return!!e})}})(l.WorkersDataTableImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(17),s=n(398),c=n(0),l=n(171),u=n(5),p=n(140),f=n(406),d=n(408);t.displayName="WorkersDataTable",t.contentStore=new c.DynamicContentStore(t.displayName),t.IncludeAllFilter={query:"",text:"All Agents"};var h=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={activeFilter:n.props.filters[0]||t.IncludeAllFilter},n.onUpdate=function(){n.forceUpdate()},n.getItemWorkerSid=function(e){return e.worker.sid},n.renderUserCard=function(e){return i.createElement(f.UserCardWrapper,{item:e})},n.renderTaskCardListForOthers=function(e,t){return i.createElement(l.TaskCardList,{tasks:e.tasks,onCardSelected:t.onTaskSelected,selectedTaskSid:t.selectedTask&&t.selectedTask.sid,highlightedTaskSid:t.monitoredTaskSid,filter:n.tasksFilter})},n.renderTaskCardListForCall=function(e,t){return i.createElement(l.TaskCardList,{tasks:e.tasks,onCardSelected:t.onTaskSelected,selectedTaskSid:t.selectedTask&&t.selectedTask.sid,highlightedTaskSid:t.monitoredTaskSid,filter:n.callsFilter})},n.callsFilter=function(e){return u.TaskHelper.isCallTask(e)&&u.TaskHelper.isTaskAccepted(e)},n.tasksFilter=function(e){return!u.TaskHelper.isCallTask(e)&&u.TaskHelper.isTaskAccepted(e)},n.onFilterChanged=function(e){n.setState({activeFilter:e}),a.Actions.setActiveFilterQuery(e.query,n.props.taskFilter)},n.handleRowClick=function(e){var t=n.props,r=t.selectedWorker,o=t.onWorkerSelected;r&&r.sid===e.worker.sid||o&&o(e.worker)},n}return r(n,e),n.prototype.componentWillUnmount=function(){p.removeTickListener(this.onUpdate)},n.prototype.componentDidMount=function(){var e=this.props,t=e.filtersEnabled,n=e.taskFilter,r=this.state.activeFilter.query;t||a.Actions.setActiveFilterQuery(r,n),p.addTickListener(this.onUpdate)},n.prototype.render=function(){var e,n=this.props,r=n.tablePlaceHolder,a=n.filters,l=n.workers,u=n.filtersEnabled,p=n.selectedWorker,f=n.children,h=n.initialCompareFunction;h&&(e=o(l)).sort(function(e,t){return h(e.worker,t.worker,e.tasks,t.tasks)});var m={selectedTask:this.props.selectedTask,monitoredTaskSid:this.props.monitoredTaskSid,onTaskSelected:this.props.onTaskSelected};return i.createElement(d.StyledTableContainer,{className:"Twilio-WorkersDataTable"},!u&&i.createElement(d.StyledFilterContainer,{className:"Twilio-WorkersDataTable-Filter",noGrow:!0},i.createElement(s.WorkerListFilterSelect,{filters:a,activeFilter:this.state.activeFilter,onFilterChanged:this.onFilterChanged})),i.createElement(c.DynamicComponent,{childProps:this.props,contentStore:t.contentStore,name:t.displayName,customChildren:f,noContainers:!0},i.createElement(c.DataTable,{items:e||l,itemKey:this.getItemWorkerSid,selectedItemKey:p&&p.sid,placeholder:r,onRowClick:this.handleRowClick,columnDataCreationContext:m},i.createElement(c.ColumnDefinition,{key:"worker",header:i.createElement(c.Template,{code:"ColumnHeaderAgent"}),content:this.renderUserCard,style:{width:"180px"}}),i.createElement(c.ColumnDefinition,{key:"calls",header:i.createElement(c.Template,{code:"ColumnHeaderCalls"}),content:this.renderTaskCardListForCall,style:{width:"180px"}}),i.createElement(c.ColumnDefinition,{key:"tasks",header:i.createElement(c.Template,{code:"ColumnHeaderTasks"}),content:this.renderTaskCardListForOthers}))))},n.defaultProps={filters:[]},n}(i.Component);t.WorkersDataTableImpl=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(399);t.WorkerListFilterSelect=r.WorkerListFilterSelect},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(50),a=n(4),s=n(400),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.onFilterChanged(t.props.filters[e.target.value])},t}return r(t,e),t.prototype.render=function(){var e=this.props,n=e.filters,r=e.activeFilter;return o.createElement(s.StyledSelect,{className:"Twilio-AgentListFilterSelect Twilio-WorkerListFilterSelect",value:n.findIndex(function(e){return e.text===r.text}),onChange:this.handleChange},n.map(function(e,n){return o.createElement(i.default,{key:n,value:n},t.getFilterText(e))}))},t.getFilterText=function(e){return e.text in a.templates?o.createElement(a.Template,{source:a.templates[e.text]}):e.text},t}(o.PureComponent);t.WorkerListFilterSelect=c},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(51);t.StyledSelect=i.default(a.default)(o||(o=r(["\n    width: 252px;\n"],["\n    width: 252px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(5),c=n(10),l=n(84),u=n(173),p=n(404),f=n(2);t.displayName="TaskCard",t.contentStore=new a.DynamicContentStore(t.displayName);var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.onClick&&t.props.onClick(t.props.task),e.stopPropagation()},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.firstLine,r=e.secondLine,o=e.task,f=e.selected,d=e.icon,h=e.channelDefinition,m=new s.TaskHelper(o);return o&&h?i.createElement(p.StyledButton,{onClick:this.handleClick},i.createElement(a.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,noContainers:!0},i.createElement(p.Container,{className:"Twilio-TaskCard-Container",selected:f,iconAreaStyleOverride:this.getIconAreaStyleOverride(h),contentAreaStyleOverride:this.getContentAreaStyleOverride(h)},i.createElement(p.IconContainer,{key:"icon",className:"Twilio-TaskCard-IconContainer",icon:d||c.TaskChannelHelper.getIcon(o,f?h.icons.active:h.icons.list,u.TaskCard)}),i.createElement(p.Content,{key:"content",className:"Twilio-TaskCard-Content"},i.createElement(p.FirstLineContainer,{className:"Twilio-TaskCard-FirstLine"},n||i.createElement(a.Template,{task:o,helper:m,code:c.TaskChannelHelper.getTemplateForStatus(o,h.templates.TaskCard.firstLine,u.TaskCard)})),i.createElement(p.SecondLineContainer,{className:"Twilio-TaskCard-SecondLine"},r||i.createElement(a.Template,{task:o,helper:m,code:c.TaskChannelHelper.getTemplateForStatus(o,h.templates.TaskCard.secondLine,u.TaskCard)})))))):i.createElement(l.TaskCardPlaceholder,null)},n.prototype.getIconAreaStyleOverride=function(e){var t=this.props.theme.TaskCard.IconArea.Default;return t.backgroundColor=c.TaskChannelHelper.getColor(this.props.task,e.colors.main,u.TaskCard),t},n.prototype.getContentAreaStyleOverride=function(e){return this.props.highlighted?this.getIconAreaStyleOverride(e):s.TaskHelper.isInWrapupMode(this.props.task)||s.TaskHelper.isCompleted(this.props.task)?this.props.theme.TaskCard.ContentArea.Inactive:this.props.theme.TaskCard.ContentArea.Default},n.defaultProps={highlighted:!1,selected:!1},n=o([f.withTheme],n)}(i.Component);t.TaskCardImpl=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(403),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.DynamicComponent,{contentStore:t.Content,name:t.displayName},o.createElement(a.Placeholder,{key:"placeholder"}))},t.displayName="TaskCardPlaceholder",t.Content=new i.DynamicContentStore(t.displayName),t}(o.PureComponent);t.TaskCardPlaceholder=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.Placeholder=i.default("div")(o||(o=r(["\n    height: 38px;\n    width: 132px;\n    margin: 6px 6px 6px 0;\n    border-radius: 2px;\n    border-style: solid;\n    border-width: 1px;\n    ","\n    ","\n"],["\n    height: 38px;\n    width: 132px;\n    margin: 6px 6px 6px 0;\n    border-radius: 2px;\n    border-style: solid;\n    border-width: 1px;\n    ","\n    ","\n"])),function(e){return"\n        background: repeating-linear-gradient(\n            127deg,\n            "+e.theme.colors.base2+",\n            "+e.theme.colors.base2+" 3px,\n            "+e.theme.colors.base1+" 3px,\n            "+e.theme.colors.base1+" 6px\n        );\n    "},function(e){return e.theme.TaskCardPlaceholder})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u=n(2),p=n(0);t.Container=u.default("div")(o||(o=r(["\n    display: flex;\n    height: 38px;\n    width: 132px;\n    overflow-y: hidden;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: 6px;\n    margin-right: 6px;\n\n    &:first-child {\n        margin-left: 0px;\n    }\n\n    border-radius: 2px;\n    border-style: solid;\n    cursor: pointer;\n    border-width: 1px;\n    ","\n    ","\n    & .Twilio-TaskCard-IconContainer {\n        background: ",";\n        color: ",";\n    }\n    & .Twilio-TaskCard-Content {\n        ",";\n    }\n    &:hover {\n        ","\n        & .Twilio-TaskCard-IconContainer {\n            ",";\n        }\n        & .Twilio-TaskCard-Content {\n            ",";\n        }\n    }\n"],["\n    display: flex;\n    height: 38px;\n    width: 132px;\n    overflow-y: hidden;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: 6px;\n    margin-right: 6px;\n\n    &:first-child {\n        margin-left: 0px;\n    }\n\n    border-radius: 2px;\n    border-style: solid;\n    cursor: pointer;\n    border-width: 1px;\n    ","\n    ","\n    & .Twilio-TaskCard-IconContainer {\n        background: ",";\n        color: ",";\n    }\n    & .Twilio-TaskCard-Content {\n        ",";\n    }\n    &:hover {\n        ","\n        & .Twilio-TaskCard-IconContainer {\n            ",";\n        }\n        & .Twilio-TaskCard-Content {\n            ",";\n        }\n    }\n"])),function(e){return e.theme.TaskCard.Container.Default},function(e){return e.selected?e.theme.TaskCard.Container.Selected:{}},function(e){return e.iconAreaStyleOverride.backgroundColor},function(e){return e.iconAreaStyleOverride.color},function(e){return e.contentAreaStyleOverride},function(e){return e.theme.TaskCard.Container.Hover},function(e){return p.getBackgroundWithHoverCSS(e.iconAreaStyleOverride.backgroundColor,e.theme.TaskCard.Container.Default.lightHover,!0)},function(e){return p.getBackgroundWithHoverCSS(e.contentAreaStyleOverride.backgroundColor,e.theme.TaskCard.Container.Default.lightHover,!0)}),t.SecondLineContainer=u.default("div")(i||(i=r(["\n    font-size: 10px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-bottom: 4px;\n    text-align: left;\n"],["\n    font-size: 10px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-bottom: 4px;\n    text-align: left;\n"]))),t.FirstLineContainer=u.default("div")(a||(a=r(["\n    font-size: 10px;\n    font-weight: bold;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-top: 4px;\n    text-align: left;\n"],["\n    font-size: 10px;\n    font-weight: bold;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-top: 4px;\n    text-align: left;\n"]))),t.Content=u.default("div")(s||(s=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    overflow: hidden;\n    padding-left: 8px;\n    padding-right: 8px;\n    flex: 1 1 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    overflow: hidden;\n    padding-left: 8px;\n    padding-right: 8px;\n    flex: 1 1 100%;\n"]))),t.IconContainer=u.default(p.Icon)(c||(c=r(["\n    flex: 0 0 36px;\n"],["\n    flex: 0 0 36px;\n"]))),t.StyledButton=u.default("button")(l||(l=r(["\n    padding: 0;\n    display: flex;\n    color: inherit;\n    outline: none;\n    background: none;\n    border: none;\n    font-family: inherit;\n    svg {\n        margin: auto;\n    }\n"],["\n    padding: 0;\n    display: flex;\n    color: inherit;\n    outline: none;\n    background: none;\n    border: none;\n    font-family: inherit;\n    svg {\n        margin: auto;\n    }\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(407);t.UserCardWrapper=r.UserCardWrapper},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.item;return o.createElement(i.UserCard,{className:"Twilio-AgentsDataTable-UserCard Twilio-WorkersDataTable-UserCard",imageUrl:e.worker.attributes.image_url,large:!0,firstLine:o.createElement(i.Template,{source:a.templates.SupervisorUserCardFirstLine,worker:e.worker}),secondLine:o.createElement(i.Template,{source:a.templates.SupervisorUserCardSecondLine,worker:e.worker}),isAvailable:e.worker.isAvailable})},t}(o.Component);t.UserCardWrapper=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.StyledTableContainer=a.default("div")(o||(o=r(["\n    overflow-y: auto;\n"],["\n    overflow-y: auto;\n"]))),t.StyledFilterContainer=a.default(s.FlexBox)(i||(i=r(["\n    margin-top: 12px;\n    margin-left: 12px;\n    margin-bottom: 32px;\n"],["\n    margin-top: 12px;\n    margin-left: 12px;\n    margin-bottom: 32px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(410);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(176));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(c.WorkerCanvasImpl,o({},this.props))},t.displayName=c.displayName,t.Content=c.contentStore,t.defaultProps={showSkills:!0},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.WorkerCanvas=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(176),l=n(4),u=n(177),p=n(178),f=n(426),d=n(7);t.displayName="WorkerCanvas",t.contentStore=new s.DynamicContentStore(t.displayName);var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){d.tryInvokeAction("SelectWorkerInSupervisor",void 0)},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.worker,r=e.showSkills;return a.createElement(s.SidePanel,{displayName:t.displayName,contentStore:t.contentStore,themeOverride:this.props.theme.Supervisor.WorkerCanvas,HeaderComponent:a.createElement(f.WorkerCanvasHeader,{key:"header",worker:n}),childrenProps:this.props},a.createElement(c.Caption,{key:"profile-title",className:"Twilio-WorkerCanvas-SectionHeader"},a.createElement(s.Template,{source:l.templates.WorkerCanvasDetailsHeader})),a.createElement(u.WorkerProfile,{key:"profile",worker:n}),r&&a.createElement(c.Caption,{key:"skills-title",className:"Twilio-WorkerCanvas-SectionHeader"},a.createElement(s.Template,{source:l.templates.WorkerCanvasSkillsHeader})),r&&a.createElement(p.WorkerSkills,{key:"skills",worker:n,onClose:this.handleClose}))},n=o([i.withTheme],n)}(a.PureComponent);t.WorkerCanvasImpl=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(412),l=n(2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(p,o({},this.props))},t.displayName=c.displayName,t.friendlyName=c.displayName,t.Content=c.contentStore,t.defaultProps={},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.WorkerProfile=u;var p=l.withTheme(c.WorkerProfileImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),a=n(0),s=n(50),c=n(22),l=n(6),u=n(18),p=n(31),f=n(13),d=n(413),h=n(11);t.displayName="WorkerCanvasProfile",t.contentStore=new a.DynamicContentStore(t.displayName);var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderDetails=function(){return l.default.warn("WorkerProfile details prop is deprecated!"),o.createElement("table",null,o.createElement("tbody",null,t.props.details.map(function(e,t){return o.createElement("tr",{key:"detail-row-"+t},o.createElement("td",null,o.createElement(d.FirstTemplate,null,o.createElement(a.Template,{code:e.name}))),o.createElement("td",null,o.createElement(d.SecondTemplate,null,o.createElement(a.Template,{code:e.content}))))})))},t.handleChange=function(e){var n=e.target.value,r=i.FlexModule.state.worker.activities.get(n),o=i.FlexModule.state.config.rejectPendingReservations,s=!r.available&&o,d={Sid:t.props.worker.sid,WorkspaceSid:c.Manager.getInstance().serviceConfiguration.taskrouter_workspace_sid,ActivitySid:n,RejectPendingReservations:s},m={auth:{username:"token",password:i.FlexModule.state.session.ssoTokenPayload.token},headers:{"Content-Type":"application/x-www-form-urlencoded"}};l.default.debug("updating attributes for worker",d);var v=h.getFlexServiceUrl(i.FlexModule.state.config);u.default.post(v+"/Worker/Instance",p.stringify(d),m).then(function(){l.default.debug("worker attributes updated",t.props.worker.sid)}).catch(function(e){a.Notifications.showNotification(f.NotificationIds.CannotChangeOtherWorkerActivity),l.default.error("Failed to update worker attributes",e)})},t}return r(n,e),n.prototype.render=function(){var e=this.props.worker,n=Array.from(i.FlexModule.state.worker.activities.values()).filter(function(e){return"Reserved"!==e.name});return o.createElement(d.StyledFlexBox,{className:"Twilio-WorkerProfile",vertical:!0,noGrow:!0,noShrink:!0},o.createElement(a.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children},o.createElement(a.FlexBox,null,o.createElement(d.AvatarContainer,{key:"avatar",className:"Twilio-WorkerProfile-Avatar",noGrow:!0,noShrink:!0},o.createElement(d.StyledAvatar,{imageUrl:e.attributes.image_url,available:e.isAvailable,large:!0})),o.createElement(a.FlexBoxColumn,{key:"info",className:"Twilio-WorkerProfile-Info",overflow:"hidden"},o.createElement(d.NameContainer,{className:"Twilio-WorkerProfile-Name"}," ",e.fullName," "),o.createElement(d.StyledSelect,{key:"availability",className:"Twilio-WorkerProfile-WorkerActivity",value:n.find(function(t){return t.name===e.activityName}).sid,onChange:this.handleChange},n.map(function(e,t){return o.createElement(s.default,{key:e.sid,value:e.sid},e.name)}))))),!!this.props.details&&this.renderDetails())},n}(o.PureComponent);t.WorkerProfileImpl=m},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p=n(2),f=n(0),d=n(51);t.FirstTemplate=p.default("div")(o||(o=r(["\n    margin-left: 13px;\n    margin-bottom: 13px;\n"],["\n    margin-left: 13px;\n    margin-bottom: 13px;\n"]))),t.SecondTemplate=p.default("div")(i||(i=r(["\n    font-weight: bold;\n"],["\n    font-weight: bold;\n"]))),t.StyledAvatar=p.default(f.Avatar)(a||(a=r(["\n    width: 60px;\n    height: 60px;\n    margin-left: 14px;\n    margin-top: 14px;\n    margin-bottom: 12px;\n"],["\n    width: 60px;\n    height: 60px;\n    margin-left: 14px;\n    margin-top: 14px;\n    margin-bottom: 12px;\n"]))),t.StyledFlexBox=p.default(f.FlexBox)(s||(s=r(["\n    margin-bottom: 32px;\n"],["\n    margin-bottom: 32px;\n"]))),t.AvatarContainer=p.default(f.FlexBox)(c||(c=r(["\n    width: 100px;\n"],["\n    width: 100px;\n"]))),t.NameContainer=p.default("div")(l||(l=r(["\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: 14px;\n    margin-bottom: 14px;\n"],["\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: 14px;\n    margin-bottom: 14px;\n"]))),t.StyledSelect=p.default(d.default)(u||(u=r(["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"],["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(22),l=n(415),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this;return a.createElement(c.FlexContext.Consumer,null,function(t){return a.createElement(l.WorkerSkillsImpl,o({},e.props,{availableSkills:e.props.availableSkills||t.manager.serviceConfiguration.taskrouter_skills}))})},t.displayName=l.displayName,t.Content=l.contentStore,t.defaultProps={},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.WorkerSkills=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(2),c=n(1),l=n(18),u=n(31),p=n(85),f=n(86),d=n(0),h=n(4),m=n(22),v=n(3),g=n(6),y=n(417),k=n(422),C=n(11);!function(e){e.Error="WorkerSkillsError",e.Saved="WorkerSkillsSaved",e.Reverted="WorkerSkillsReverted"}(a||(a={})),t.displayName="WorkerSkills",t.contentStore=new d.DynamicContentStore(t.displayName);var b=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={workerSid:void 0,skillsByName:void 0,skillsByNameOriginal:void 0},t.handleSaveClick=function(){var e=t.getMergedAttributes(),n={Sid:t.props.worker.sid,WorkspaceSid:m.Manager.getInstance().serviceConfiguration.taskrouter_workspace_sid,Attributes:JSON.stringify(e)},r={auth:{username:"token",password:v.FlexModule.state.session.ssoTokenPayload.token},headers:{"Content-Type":"application/x-www-form-urlencoded"}};g.default.debug("updating attributes for worker",n);var i=C.getFlexServiceUrl(v.FlexModule.state.config);l.default.post(i+"/Worker/Instance",u.stringify(n),r).then(function(){g.default.debug("worker attributes updated",t.props.worker.sid),t.setState(o(o({},t.state),{skillsByNameOriginal:JSON.parse(JSON.stringify(t.state.skillsByName)),notificationTemplate:a.Saved}))}).catch(function(e){g.default.error("Failed to update worker attributes",e),t.setState(o(o({},t.state),{notificationTemplate:a.Error}))})},t.handleCancelClick=function(){t.setState(o(o({},t.state),{skillsByName:JSON.parse(JSON.stringify(t.state.skillsByNameOriginal)),notificationTemplate:a.Reverted}))},t.handleSkillAdd=function(e){var n;t.setState(o(o({},t.state),{skillsByName:o(o({},t.state.skillsByName),(n={},n[e.name]=e,n)),notificationTemplate:void 0}))},t.handleSkillUpdate=function(e){var n;t.setState(o(o({},t.state),{skillsByName:o(o({},t.state.skillsByName),(n={},n[e.name]=e,n)),notificationTemplate:void 0}))},t.handleSkillRemove=function(e){var n=o({},t.state.skillsByName);delete n[e.name],t.setState(o(o({},t.state),{skillsByName:n,notificationTemplate:void 0}))},t}var b;return r(n,e),b=n,n.getDerivedStateFromProps=function(e,t){return e.worker.sid===t.workerSid?null:{workerSid:e.worker.sid,skillsByName:b.getSkillsFromWorker(e.worker,e.availableSkills),skillsByNameOriginal:b.getSkillsFromWorker(e.worker,e.availableSkills)}},n.prototype.render=function(){var e=this,n=this.props,r=n.availableSkills,o=n.theme,i=this.state,a=i.skillsByName,s=i.skillsByNameOriginal,l=i.notificationTemplate,u=!s,m=u?[]:Object.keys(a).map(function(e){return a[e]}).sort(function(e,t){return e.name.localeCompare(t.name)}),v=!u&&JSON.stringify(s)!==JSON.stringify(a),g=m.every(f.isSkillLevelOk);return c.createElement(d.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,vertical:!0},c.createElement(p.Container,{className:"Twilio-WorkerSkills",vertical:!0,noGrow:!0,noShrink:!0},c.createElement(y.AddSkillPanel,{key:"add-skills",allSkillsDefinitions:!u&&r||[],selectedSkills:a||{},onAdd:this.handleSkillAdd}),c.createElement(p.SkillsContainer,{key:"skills-container",className:"Twilio-WorkerSkills-SkillsContainer",vertical:!0,noGrow:!0},m.map(function(t){return c.createElement(k.WorkerSkill,{key:t.name,skill:t,onUpdate:e.handleSkillUpdate,onRemove:e.handleSkillRemove})})),0===m.length&&c.createElement(p.NoSkillsContainer,{key:"no-skills",className:"Twilio-WorkerSkills-NoSkills",noGrow:!0},c.createElement(d.Template,{source:u?h.templates.WorkerSkillsSchemaMismatch:h.templates.WorkerSkillsNoSkills})),c.createElement(p.ButtonsContainer,{key:"buttons-container",className:"Twilio-WorkerSkills-ButtonsContainer",noGrow:!0,noShrink:!0},c.createElement(d.Button,{className:"Twilio-WorkerSkills-SkillsSaveButton",disabled:!v||!g,onClick:this.handleSaveClick,themeOverride:o.WorkerSkills.SaveButton,roundCorners:!1},c.createElement(d.Template,{source:h.templates.Save})),c.createElement(d.Button,{className:"Twilio-WorkerSkills-SkillsCancelButton",disabled:!v,onClick:this.handleCancelClick,themeOverride:o.WorkerSkills.CancelButton,roundCorners:!1},c.createElement(d.Template,{source:h.templates.Reset}))),!!l&&c.createElement(p.NotificationTextContainer,{key:"notification-container",className:"Twilio-WorkerSkills-Notification",noGrow:!0},c.createElement(d.Template,{code:l}))))},n.prototype.getMergedAttributes=function(){var e=this,t=function(t,n){var r=e.state.skillsByName;t.skills=[],t.levels={},Object.keys(r).forEach(function(e){var o=r[e];o.disabled===n&&(t.skills.push(o.name),o.multivalue&&(t.levels[o.name]=o.level))})},n=this.props.worker.attributes||{},r=n.disabled_skills||{},i=n.routing||{};return t(r,!0),t(i,!1),o(o({},n),{routing:i,disabled_skills:r})},n.getSkillsFromWorker=function(e,t){var n={},r=function(e,r){if(void 0===e)return!0;if("object"!=typeof e)return!1;if(!Array.isArray(e.skills))return g.default.warn("skills is not an array",e),void 0===e.skills;var i=!0;return e.skills.forEach(function(a){if("string"!=typeof a)return g.default.warn("skill name is not a string",a),void(i=!1);var s=t.find(function(e){return e.name===a})||{multivalue:!1};n[a]=o(o({},s),{disabled:r,name:a,level:e.levels?e.levels[a]:void 0})}),i};if(e.attributes){var i=r(e.attributes.disabled_skills,!0),a=r(e.attributes.routing,!1);if(i&&a)return n}},n=b=i([s.withTheme],n)}(c.PureComponent);t.WorkerSkillsImpl=b},function(e,t){e.exports=require("@material-ui/core/FormControlLabel")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(418);t.AddSkillPanel=r.AddSkillPanel},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(179),l=n(2),u=n(4),p=n(85),f=n(86),d=n(419),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleSkillSelected=function(e){t.setState({current:e?o(o({},e),{disabled:!1}):void 0})},t.handleLevelChange=function(e){var n=parseInt(e.target.value,10);t.setState({current:o(o({},t.state.current),{level:isNaN(n)?void 0:n})})},t.handleAddClick=function(){t.props.onAdd(t.state.current),t.setState({current:void 0})},t}return r(t,e),t.prototype.render=function(){var e=this.state.current,t=this.props,n=t.allSkillsDefinitions,r=t.selectedSkills,i=t.theme,l=!!e&&f.isSkillLevelOk(e),h=e&&void 0!==e.level?e.level:"",m=n.map(function(e){return o(o({},e),{disabled:!!r[e.name]})}).sort(function(e,t){return e.name.localeCompare(t.name)});return a.createElement(p.AddPanelContainer,{className:"Twilio-WorkerSkills-AddSkillPanel",noGrow:!0,noShrink:!0,vertical:!0},a.createElement(s.FlexBox,{noGrow:!0},a.createElement(d.SkillsSelect,{values:m,selected:m.findIndex(function(t){return t.name===(e&&e.name)}),onChanged:this.handleSkillSelected}),a.createElement(p.LevelInputAndButtonContainer,{vertical:!0,noGrow:!0,noShrink:!0},a.createElement(s.FlexBox,{noGrow:!0,noShrink:!0},a.createElement(p.StyledSkillLevelInput,{disabled:!e||!e.multivalue,error:!!e&&!l,value:h,placeholder:e&&e.multivalue?"":"-",onChange:this.handleLevelChange}),a.createElement(p.RightButtonContainer,null,a.createElement(s.IconButton,{icon:"Add",themeOverride:i.WorkerSkills.SaveButton,onClick:this.handleAddClick,disabled:!l}))),!l&&!!e&&a.createElement(c.default,null,a.createElement(s.Template,{source:u.templates.WorkerSkillLevelInvalid,min:e.minimum,max:e.maximum})))))},t=i([l.withTheme],t)}(a.PureComponent);t.AddSkillPanel=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(420);t.SkillsSelect=r.SkillsSelect},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(50),s=n(4),c=n(421),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=-1===e.target.value?void 0:t.props.values[e.target.value];t.props.onChanged(n)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.values,n=e.selected;return o.createElement(c.StyledSelect,{className:"Twilio-WorkerSkills-Select",value:n,onChange:this.handleChange,displayEmpty:!0},o.createElement(a.default,{value:-1,disabled:!0},o.createElement(i.Template,{source:s.templates.WorkerSkillPleaseSelect})),t.map(function(e,t){return o.createElement(a.default,{key:e.name,value:t,disabled:e.disabled,className:e.disabled?"Twilio-disabled":""},o.createElement(i.Template,{code:e.name}))}))},t}(o.PureComponent);t.SkillsSelect=l},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(51);t.StyledSelect=i.default(a.default)(o||(o=r(["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"],["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(423);t.WorkerSkill=r.WorkerSkill},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s,c=n(2),l=n(1),u=n(16),p=n(0),f=n(424),d=n(179),h=n(4),m=n(85),v=n(425),g=n(86),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSkillChecked=function(e){var n=!e.target.checked;t.props.onUpdate(i(i({},t.props.skill),{disabled:n}))},t.handleLevelChange=function(e){var n=parseInt(e.target.value,10);t.props.onUpdate(i(i({},t.props.skill),{level:isNaN(n)?void 0:n}))},t.handleRemoveClick=function(){t.props.onRemove(t.props.skill)},t}return r(t,e),t.prototype.render=function(){var e=this.props.skill,t={label:u.css(s||(s=o(["\n                opacity: 0.4;\n            "],["\n                opacity: 0.4;\n            "])))},n=g.isSkillLevelOk(e);return l.createElement(v.WorkerSkillContainer,{className:"Twilio-WorkerSkill",vertical:!0,noGrow:!0,noShrink:!0},l.createElement(p.FlexBox,{noShrink:!0},l.createElement(m.StyledFormControlLabel,{classes:e.disabled?t:void 0,control:l.createElement(f.default,{checked:!e.disabled,onChange:this.handleSkillChecked,value:"checked",color:"primary"}),label:l.createElement(p.Template,{code:e.name})}),l.createElement(m.LevelInputAndButtonContainer,{vertical:!0,noGrow:!0,noShrink:!0},l.createElement(p.FlexBox,{noGrow:!0,noShrink:!0},l.createElement(m.StyledSkillLevelInput,{disabled:!e.multivalue,error:!g.isSkillLevelOk(e),value:void 0!==e.level||e.multivalue?e.level||"":"-",placeholder:e.multivalue?"-":"",onChange:this.handleLevelChange}),l.createElement(m.RightButtonContainer,null,l.createElement(p.IconButton,{icon:"Close",onClick:this.handleRemoveClick,themeOverride:this.props.theme.WorkerSkills.DeleteButton}))),!n&&l.createElement(d.default,null,l.createElement(p.Template,{source:h.templates.WorkerSkillLevelInvalid,min:e.minimum,max:e.maximum})))))},t=a([c.withTheme],t)}(l.PureComponent);t.WorkerSkill=y},function(e,t){e.exports=require("@material-ui/core/Switch")},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(0);t.WorkerSkillContainer=i.default(a.FlexBox)(o||(o=r(["\n    padding-top: 6px;\n    padding-bottom: 6px;\n"],["\n    padding-top: 6px;\n    padding-bottom: 6px;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(427);t.WorkerCanvasHeader=r.WorkerCanvasHeader,t.WorkerCanvasHeaderProps=r.WorkerCanvasHeaderProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(0),c=n(4),l=n(428),u=n(7),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseButton=function(){u.tryInvokeAction("SelectWorkerInSupervisor",{worker:void 0})},t}var n;return r(t,e),n=t,t.prototype.render=function(){return a.createElement(s.DynamicComponent,{contentStore:n.Content,childProps:this.props,name:n.friendlyName,customChildren:this.props.children,noContainers:!0},a.createElement(l.HeaderContainer,{noShrink:!0,noGrow:!0},a.createElement(s.IconButton,{key:"close-button",icon:"Close",themeOverride:this.props.theme.Supervisor.TaskCanvas.HeaderButton,onClick:this.handleCloseButton}),a.createElement(l.Text,{key:"title"},a.createElement(s.Template,{source:c.templates.WorkerCanvasHeader}))))},t.friendlyName="WorkerCanvasHeader",t.displayName=n.friendlyName,t.Content=new s.DynamicContentStore(n.friendlyName),t=n=o([i.withTheme],t)}(a.PureComponent);t.WorkerCanvasHeader=p},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.Text=a.default(s.FlexBox)(o||(o=r(["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"],["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"]))),t.HeaderContainer=a.default(s.FlexBox)(i||(i=r(["\n    height: 56px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"],["\n    height: 56px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"])),function(e){return e.theme.Supervisor.WorkerCanvas.Header})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p=n(0),f=n(2);t.Container=f.default(p.FlexBox)(o||(o=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.Supervisor.Container}),t.FilterContainer=f.default(p.FlexBox)(i||(i=r(["\n    margin: 32px 18px;\n    justify-content: space-between;\n"],["\n    margin: 32px 18px;\n    justify-content: space-between;\n"]))),t.FilterButton=f.default(p.Button)(a||(a=r(["\n    width: 107px;\n    height: 32px;\n    padding: 0 8px;\n    text-transform: uppercase;\n    font-weight: bold;\n    text-align: left;\n    letter-spacing: 1px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border: 1px solid;\n    ",";\n    ",";\n"],["\n    width: 107px;\n    height: 32px;\n    padding: 0 8px;\n    text-transform: uppercase;\n    font-weight: bold;\n    text-align: left;\n    letter-spacing: 1px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border: 1px solid;\n    ",";\n    ",";\n"])),function(e){return e.theme.Supervisor.FilterButton},function(e){return p.getBackgroundWithHoverCSS(e.theme.Supervisor.FilterButton.background,e.theme.Supervisor.FilterButton.lightHover)}),t.SearchContainer=f.default("div")(s||(s=r(["\n    display: flex;\n    align-items: center;\n    ",";\n"],["\n    display: flex;\n    align-items: center;\n    ",";\n"])),function(e){return e.theme.Supervisor.Search.Container}),t.ClearSearchLink=f.default("div")(c||(c=r(["\n    text-decoration: underline;\n    margin-left: 8px;\n    cursor: pointer;\n"],["\n    text-decoration: underline;\n    margin-left: 8px;\n    cursor: pointer;\n"]))),t.ResultsSummary=f.default("div")(l||(l=r(["\n    margin-top: 20px;\n    color: ",";\n    text-align: center;\n    line-height: 20px;\n"],["\n    margin-top: 20px;\n    color: ",";\n    text-align: center;\n    line-height: 20px;\n"])),function(e){return e.theme.calculated.textColor}),t.InlineButton=f.default("button")(u||(u=r(["\n    background: none;\n    font-weight: bold;\n    display: inline;\n    border-radius: 3px;\n    box-shadow: none;\n    font-size: inherit;\n    line-height: inherit;\n    padding: 0;\n    border: none;\n    text-decoration: underline;\n    cursor: pointer;\n\n    &:focus {\n        box-shadow: 0 0 0 2px ",";\n        outline: none;\n    }\n\n    &:disabled {\n        color: ",";\n        text-decoration: none;\n        font-weight: normal;\n        cursor: default;\n    }\n"],["\n    background: none;\n    font-weight: bold;\n    display: inline;\n    border-radius: 3px;\n    box-shadow: none;\n    font-size: inherit;\n    line-height: inherit;\n    padding: 0;\n    border: none;\n    text-decoration: underline;\n    cursor: pointer;\n\n    &:focus {\n        box-shadow: 0 0 0 2px ",";\n        outline: none;\n    }\n\n    &:disabled {\n        color: ",";\n        text-decoration: none;\n        font-weight: normal;\n        cursor: default;\n    }\n"])),function(e){return e.theme.colors.flexBlueColor},function(e){return e.theme.calculated.textColor})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(431);t.SearchBar=r.SearchBar},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(432),s=n(6),c=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.onChange=function(e){var r=e.target.value;r.length>t.MAX_CHARACTER_LIMIT?s.default.debug("Search string exceeds max character limit of "+t.MAX_CHARACTER_LIMIT):n.props.onChange&&n.props.onChange(r)},n.onSubmit=function(e){e.preventDefault(),n.props.onSubmit&&!n.props.disabled&&n.props.onSubmit(n.props.value)},n}return r(t,e),t.prototype.render=function(){return o.createElement("div",null,o.createElement(a.StyledForm,{onSubmit:this.onSubmit},o.createElement(a.StyledInput,{value:this.props.value,onChange:this.onChange,placeholder:this.props.placeholder}),o.createElement(a.SearchButton,{roundCorners:!1,disabled:this.props.disabled},o.createElement(i.Icon,{icon:"Search"}))))},t.MAX_CHARACTER_LIMIT=996,t}(o.PureComponent);t.SearchBar=c},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c=n(2),l=n(433),u=n(0);t.StyledSearchIconButton=c.default("div")(o||(o=r(["\n    position: absolute;\n    right: 0;\n    height: 100%;\n    display: flex;\n    cursor: pointer;\n"],["\n    position: absolute;\n    right: 0;\n    height: 100%;\n    display: flex;\n    cursor: pointer;\n"]))),t.StyledInput=c.default(l.Input)(i||(i=r(["\n    width: 252px;\n    input {\n        padding-right: 30px;\n    }\n"],["\n    width: 252px;\n    input {\n        padding-right: 30px;\n    }\n"]))),t.StyledForm=c.default("form")(a||(a=r(["\n    display: flex;\n"],["\n    display: flex;\n"]))),t.SearchButton=c.default(u.Button)(s||(s=r(["\n    height: 32px;\n    width: 32px;\n    padding: 0;\n    opacity: ",";\n    ",";\n    ",";\n"],["\n    height: 32px;\n    width: 32px;\n    padding: 0;\n    opacity: ",";\n    ",";\n    ",";\n"])),function(e){return e.disabled&&.8},function(e){return e.theme.Supervisor.Search.Button},function(e){return u.getBackgroundWithHoverCSS(e.theme.Supervisor.Search.Button.background,e.theme.Supervisor.Search.Button.lightHover)})},function(e,t){e.exports=require("@material-ui/core")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(78),c=n(15),l=n(435),u=n(182),p=n(4),f=n(52),d=n(14),h=n(11),m=n(64);t.displayName="QueuesStatsView",t.Content=new a.DynamicContentStore(t.displayName);var v=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAdmin=function(e){return e.manager.user.roles.indexOf("admin")>=0},t}return r(n,e),n.prototype.componentDidMount=function(){c.Actions.init()},n.prototype.componentWillUnmount=function(){c.Actions.close()},n.prototype.render=function(){var e=this,n=this.props,r=n.children,c=o(n,["children"]),v=c.isLoading,g=c.hasNoData;if(v)return i.createElement(l.LoadingContainer,null,i.createElement(a.CircularProgress,{animating:!0,size:80,borderWidth:3}));if(g){var y=d.Manager.getInstance().serviceConfiguration.taskrouter_workspace_sid;return i.createElement(l.Container,null,i.createElement(f.FlexContext.Consumer,null,function(t){return i.createElement(u.NoDataPlaceholder,{heading:i.createElement(p.Template,{source:p.templates.QueuesNoDataHeading}),body:i.createElement(p.Template,{source:e.isAdmin(t)?p.templates.QueuesNoDataBodyForAdmin:p.templates.QueuesNoDataBodyForSupervisor}),linkText:e.isAdmin(t)?i.createElement(p.Template,{source:p.templates.QueuesNoDataLinkLabelForAdmin}):void 0,linkUrl:e.isAdmin(t)?h.getTwilioTaskQueuesUrl(y):void 0,image:i.createElement(a.Icon,{icon:"NoData",sizeMultiplier:3})})}))}return i.createElement(a.DynamicComponent,{name:t.displayName,contentStore:t.Content,childProps:c,customChildren:r,vertical:!0},i.createElement(l.Container,{vertical:!0},i.createElement(m.QueueStatsConnectionStatusInfo,{key:"connection-info"}),i.createElement(s.AggregatedQueuesDataTiles,{key:"tiles"}),i.createElement(s.QueuesDataTable,{key:"table"})))},n}(i.PureComponent);t.QueuesStatsViewImpl=v},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.LoadingContainer=a.default("div")(o||(o=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 48px;\n    width: 100%;\n    ","\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 48px;\n    width: 100%;\n    ","\n"])),function(e){return e.theme.QueuesStats.Container}),t.Container=a.default(s.FlexBox)(i||(i=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.QueuesStats.Container})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(437),a=n(16),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.heading,n=e.body,r=e.image,s=e.linkUrl,c=e.linkText;return o.createElement(i.Wrapper,{className:a.cx("Twilio-NoDataPlaceholder-Wrapper")},r&&o.createElement(i.ImageContainer,{className:a.cx("Twilio-NoDataPlaceholder-ImageContainer")},r),o.createElement(i.Heading,{className:a.cx("Twilio-NoDataPlaceholder-Heading")},t),o.createElement(i.Body,{className:a.cx("Twilio-NoDataPlaceholder-Body")},n),s&&c&&o.createElement(i.StyledLink,{href:s,roundCorners:!1,className:a.cx("Twilio-NoDataPlaceholder-Link"),target:"_blank"},c)||"")},t}(o.PureComponent);t.NoDataPlaceholder=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l=n(2),u=n(0);t.Wrapper=l.default("div")(o||(o=r(["\n    max-width: 480px;\n    padding: 24px;\n    margin-left: auto;\n    margin-right: auto;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: flex-start;\n    padding-bottom: 72px;\n"],["\n    max-width: 480px;\n    padding: 24px;\n    margin-left: auto;\n    margin-right: auto;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: flex-start;\n    padding-bottom: 72px;\n"]))),t.ImageContainer=l.default("div")(i||(i=r(["\n    margin-bottom: 24px;\n"],["\n    margin-bottom: 24px;\n"]))),t.Heading=l.default("div")(a||(a=r(["\n    font-size: 14px;\n    margin-top: 0;\n    margin-bottom: 12px;\n    font-weight: normal;\n    line-height: 1;\n"],["\n    font-size: 14px;\n    margin-top: 0;\n    margin-bottom: 12px;\n    font-weight: normal;\n    line-height: 1;\n"]))),t.Body=l.default("div")(s||(s=r(["\n    font-size: 32px;\n    line-height: 1.25;\n"],["\n    font-size: 32px;\n    line-height: 1.25;\n"]))),t.StyledLink=l.default(u.Link)(c||(c=r(["\n    .Twilio &:link,\n    .Twilio &:visited {\n        background: ",";\n        color: white;\n        margin-top: 32px;\n        text-transform: uppercase;\n        margin-left: 0;\n        margin-right: auto;\n    }\n"],["\n    .Twilio &:link,\n    .Twilio &:visited {\n        background: ",";\n        color: white;\n        margin-top: 32px;\n        text-transform: uppercase;\n        margin-left: 0;\n        margin-right: auto;\n    }\n"])),function(e){return e.theme.colors.defaultButtonColor})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(439),o=n(181);t.FullscreenableQueuesStatsView=r.makeFullscreenable(o.QueuesStatsViewComponent)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(440);t.makeFullscreenable=r.makeFullscreenable,t.isFullscreen=r.isFullscreen;var o=n(443);t.FullscreenConfig=o.FullscreenConfig},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(119),s=n(441),c={enabled:!1,renderButton:null,wrapperStyles:{}};t.makeFullscreenable=function(e){var t;return a(((t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(){var t=o(o({},c),n.fullscreen);return document.fullscreenEnabled&&t.enabled?i.createElement(s.FullscreenableImpl,{renderButton:t.renderButton,wrapperStyles:t.wrapperStyles},i.createElement(e,o({},this.props))):i.createElement(e,o({},this.props))},n}(i.PureComponent)).displayName="Fullscreenable("+e.displayName+")",t.fullscreen=o({},c),t),e)},t.isFullscreen=function(){return!!document.fullscreenElement}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(442),a=n(0),s=function(e){return o.createElement(i.FullscreenButtonWrapper,{onClick:e.toggleFullscreen},e.isFullscreen?o.createElement(a.Icon,{icon:"Minimize"}):o.createElement(a.Icon,{icon:"Fullscreen"}))},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapper=o.createRef(),t.state={isFullscreen:t.isFullscreen()},t.handleButtonClick=function(){t.wrapper.current&&(t.isFullscreen()?document.exitFullscreen():t.wrapper.current.requestFullscreen())},t.fullscreenChangeHandler=function(){t.isFullscreen()?t.setState({isFullscreen:!0}):t.setState({isFullscreen:!1})},t.fullscreenErrorHandler=function(){t.setState({isFullscreen:!1})},t}return r(t,e),t.prototype.componentDidMount=function(){this.wrapper.current&&(this.wrapper.current.addEventListener("fullscreenchange",this.fullscreenChangeHandler),this.wrapper.current.addEventListener("fullscreenerror",this.fullscreenErrorHandler))},t.prototype.componentWillUnmount=function(){this.wrapper.current&&(this.wrapper.current.removeEventListener("fullscreenchange",this.fullscreenChangeHandler),this.wrapper.current.removeEventListener("fullscreenerror",this.fullscreenErrorHandler))},t.prototype.isFullscreen=function(){return!!this.wrapper.current&&document.fullscreenElement===this.wrapper.current},t.prototype.renderButton=function(){return(this.props.renderButton||s)({isFullscreen:this.state.isFullscreen,toggleFullscreen:this.handleButtonClick})},t.prototype.render=function(){return o.createElement(i.FullscreenableWrapper,{style:this.props.wrapperStyles,innerRef:this.wrapper},this.props.children,this.renderButton())},t}(o.PureComponent);t.FullscreenableImpl=c},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(0);t.FullscreenableWrapper=a.styled("div")(o||(o=r(["\n    display: flex;\n    width: 100%;\n    position: relative;\n    background-color: ",";\n"],["\n    display: flex;\n    width: 100%;\n    position: relative;\n    background-color: ",";\n"])),function(e){return e.theme.palette&&e.theme.palette.background?e.theme.palette.background.default:"#FFF"}),t.FullscreenButtonWrapper=a.styled("div")(i||(i=r(["\n    position: absolute;\n    bottom: 0em;\n    right: 0em;\n    width: 2em;\n    height: 2em;\n    z-index: 1;\n    color: ",";\n"],["\n    position: absolute;\n    bottom: 0em;\n    right: 0em;\n    width: 2em;\n    height: 2em;\n    z-index: 1;\n    color: ",";\n"])),function(e){return e.theme.palette&&e.theme.palette.text?e.theme.palette.text.primary:"#000"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(445);t.RuntimeLoginView=r.RuntimeLoginView,t.RuntimeLoginProps=r.RuntimeLoginProps,t.RuntimeLookupResponse=r.RuntimeLookupResponse},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(37),a=n(6),s=n(446);t.RuntimeLoginView=function(e){return a.log.warn("Warning! RuntimeLoginView component has been deprecated, please use 'LoginFormView' component instead!"),o.createElement(i.StorelessThemeProvider,{themeConf:{baseName:"FlexDark"}},o.createElement(s.RuntimeLoginViewImpl,r({},e)))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(55),l=n(2),u=n(21),p=n(33),f=n(447),d=n(11),h=p.languages.default,m=function(e){function t(t){var n=e.call(this,t)||this;return n.getErrorMessage=function(){return n.state.error?n.state.error.key===u.ValidationErrorKeys.sso?h.RuntimeLoginErrorSso:h.RuntimeLoginErrorDomain:""},n.state={domain:"",error:null},n.setDomain=n.setDomain.bind(n),n.fetchSid=n.fetchSid.bind(n),n.getErrorMessage=n.getErrorMessage.bind(n),n}return r(t,e),t.prototype.setDomain=function(e){var t=e.target;this.setState(function(e){return{domain:t.value,error:null}})},t.prototype.validate=function(e){if(!e.sso)throw new u.ValidationError(u.ValidationErrorKeys.sso);if(!e.accountSid)throw new u.ValidationError(u.ValidationErrorKeys.accountSid);return e},t.prototype.fetchSid=function(e){var t=this;e.preventDefault();var n=this.state.domain.endsWith("/")?this.state.domain.replace(/\/$/,""):this.state.domain,r=this.props.onSuccess,o=this.props.mapDomainToLookup(n),i="https://"+n+"/";fetch(o).then(function(e){return e.json()}).then(function(e){return t.validate(e)}).then(function(e){return r(e,i)}).catch(function(e){t.setState(function(){return{error:e}})})},t.prototype.render=function(){return a.createElement(f.Container,null,a.createElement(f.Logo,null),a.createElement(f.Form,{onSubmit:this.fetchSid},a.createElement(f.Label,null,h.RuntimeLoginLabel),a.createElement(c.default,{onChange:this.setDomain,autoFocus:!0,error:!!this.state.error,name:"runtime",type:"text",placeholder:h.RuntimeLoginPlaceholder,fullWidth:!0}),a.createElement(f.ErrorMessage,null,a.createElement(s.Template,{source:this.getErrorMessage})),a.createElement(f.Controls,null,a.createElement(f.LoginButton,{className:"error",roundCorners:!1,disabled:!this.state.domain,onClick:this.fetchSid,themeOverride:this.props.theme.RuntimeLoginView.LoginButton},h.RuntimeLoginLaunch),a.createElement(f.AdminLogin,null,h.RuntimeLoginIsAdmin,a.createElement(f.LoginLink,{href:this.props.adminLoginUrl},h.RuntimeLoginWithTwilio)))))},t.defaultProps={mapDomainToLookup:function(e){return d.deprecatedFlexLookupServiceUrl+"/"+e},adminLoginUrl:d.twilioServiceLoginUrl+"?localPort="+window.location.port},t=o([l.withTheme,i("design:paramtypes",[Object])],t)}(a.PureComponent);t.RuntimeLoginViewImpl=m},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,c,l,u,p,f,d=n(0),h=n(2),m=n(167);t.Container=h.default("div")(o||(o=r(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"],["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.RuntimeLoginView.Container}),t.Form=h.default("form")(i||(i=r(["\n    width: 342px;\n"],["\n    width: 342px;\n"]))),t.Label=h.default("div")(a||(a=r(["\n    font-size: 10px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-weight: lighter;\n    margin-bottom: 8px;\n"],["\n    font-size: 10px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-weight: lighter;\n    margin-bottom: 8px;\n"]))),t.Controls=h.default("div")(s||(s=r(["\n    margin-top: 22px;\n"],["\n    margin-top: 22px;\n"]))),t.Logo=h.default(m.LoginLogo)(c||(c=r(["\n    margin-bottom: 53px;\n"],["\n    margin-bottom: 53px;\n"]))),t.AdminLogin=h.default("div")(l||(l=r(["\n    display: inline-block;\n    margin-left: 16px;\n    font-size: 10px;\n    font-weight: lighter;\n"],["\n    display: inline-block;\n    margin-left: 16px;\n    font-size: 10px;\n    font-weight: lighter;\n"]))),t.LoginLink=h.default("a")(u||(u=r(["\n    color: #fff;\n    font-weight: bold;\n    margin-left: 4px;\n"],["\n    color: #fff;\n    font-weight: bold;\n    margin-left: 4px;\n"]))),t.ErrorMessage=h.default("div")(p||(p=r(["\n    font-size: 12px;\n    font-weight: lighter;\n    min-height: 17px;\n    margin-top: 9px;\n\n    b {\n        font-weight: bold;\n    }\n"],["\n    font-size: 12px;\n    font-weight: lighter;\n    min-height: 17px;\n    margin-top: 9px;\n\n    b {\n        font-weight: bold;\n    }\n"]))),t.LoginButton=h.default(d.Button)(f||(f=r(["\n    text-transform: uppercase;\n"],["\n    text-transform: uppercase;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(449))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(450),a=n(451),s=n(454),c=n(457),l=n(460),u=n(0),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(u.DynamicComponent,{name:t.displayName,contentStore:t.Content,customChildren:this.props.children,childProps:this.props,noContainers:!0},o.createElement(i.Grid,{className:"Twilio-AggregatedQueuesDataTiles-Grid",key:"aggregated-data-view"},o.createElement(a.ActiveTasksTile,{key:"ActiveTasksTile"}),o.createElement(s.WaitingTasksTile,{key:"WaitingTasksTile"}),o.createElement(l.LongestWaitTimeTile,{key:"LongestWaitTimeTile"}),o.createElement(c.AgentsByActivityChartTile,{key:"AgentsByActivityChartTile"})))},t.displayName="AggregatedQueuesDataTiles",t.Content=new u.DynamicContentStore(t.displayName),t}(o.PureComponent);t.AggregatedQueuesDataTiles=p},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(27);t.Grid=i.default("div")(o||(o=r(["\n    display: flex;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin-top: 56px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 0;\n    height: auto;\n    box-sizing: border-box;\n    flex: 0 0 auto;\n\n    > * {\n        flex: 1 1 25%;\n    }\n\n    > * + * {\n        margin-left: 8px;\n    }\n\n    ","\n"],["\n    display: flex;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin-top: 56px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 0;\n    height: auto;\n    box-sizing: border-box;\n    flex: 0 0 auto;\n\n    > * {\n        flex: 1 1 25%;\n    }\n\n    > * + * {\n        margin-left: 8px;\n    }\n\n    ","\n"])),function(e){return e.theme.QueueStats.TilesGrid})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(452))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(453),s=n(3),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(a.ActiveTasksTileImpl,{activeTasks:this.props.activeTasks.toString()})},t=o([s.connect(function(e){return{activeTasks:e.queues.aggregatedData.activeTasks}})],t)}(i.PureComponent);t.ActiveTasksTile=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.ActiveTasksTileTitle}),content:this.props.activeTasks})},t}(o.PureComponent);t.ActiveTasksTileImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(455))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(456),s=n(3),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(a.WaitingTasksTileImpl,{waitingTasks:this.props.waitingTasks.toString()})},t=o([s.connect(function(e){return{waitingTasks:e.queues.aggregatedData.waitingTasks}})],t)}(i.PureComponent);t.WaitingTasksTile=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.WaitingTasksTileTitle}),content:this.props.waitingTasks})},t}(o.PureComponent);t.WaitingTasksTileImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(458))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(459),c=n(3),l=n(4),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.availableAgents,n=e.unavailableAgents,r=e.offlineAgents;return a.createElement(s.AgentsByActivityChartTileImpl,{availableAgents:{value:t,label:l.templates.AgentStatusAvailable()},unavailableAgents:{value:n,label:l.templates.AgentStatusUnavailable()},offlineAgents:{value:r,label:l.templates.AgentStatusOffline()}})},t=i([c.connect(function(e){return o({},e.queues.aggregatedData.agentByActivity)})],t)}(a.PureComponent);t.AgentsByActivityChartTile=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(4),l=n(2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.availableAgents,n=e.unavailableAgents,r=e.offlineAgents,i=e.theme.colors,l=[o(o({},t),{color:i.agentAvailableColor}),o(o({},n),{color:i.agentUnavailableColor}),o(o({},r),{color:i.agentOfflineColor})];return a.createElement(s.AggregatedDataTile,{title:a.createElement(c.Template,{source:c.templates.AgentsByActivityTileTitle})},a.createElement(s.StackedBarChart,{items:l}),a.createElement(s.Legend,{items:l,showLabels:!0}))},t=i([l.withTheme],t)}(a.PureComponent);t.AgentsByActivityChartTileImpl=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(461))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(462),s=n(3),c=n(0),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.waitTime,n=e.queueName,r=t>0?n:"";return i.createElement(a.LongestWaitTimeTileImpl,{waitTime:c.Utils.formatTimeDuration(1e3*t,"short"),queueName:r})},t.defaultProps={waitTime:0},t=o([s.connect(function(e){var t=e.queues.aggregatedData.longestWaitQueue;return{waitTime:t.time,queueName:t.friendlyName}})],t)}(i.PureComponent);t.LongestWaitTimeTile=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.LongestWaitTimeTileTitle}),content:this.props.waitTime,description:this.props.queueName})},t}(o.PureComponent);t.LongestWaitTimeTileImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(464);t.QueuesDataTableProps=r.QueuesDataTableProps,t.QueuesDataTable=r.QueuesDataTable},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(3),c=n(465),l=function(e){var t=e.queues.queuesList;return{queuesList:Object.keys(t).map(function(e){return t[e]})}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(c.QueuesDataTableImpl,o({},this.props))},t.displayName=c.displayName,t.Content=c.Content,t=i([s.connect(l)],t)}(a.PureComponent);t.QueuesDataTable=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),c=n(0),l=n(466),u=n(70),p=n(4);t.displayName="QueuesDataTable",t.Content=new c.DynamicContentStore(t.displayName);var f=c.DataTable,d=function(e){function n(t){var n=e.call(this,t)||this;return n.getTaskQueueSid=function(e){return e.task_queue_sid},n.renderFriendlyName=function(e){return a.createElement(l.FirstCellContent,null,e.friendly_name)},n.renderActiveTasks=function(e){var t=e.tasks_by_status,n=t.assigned,r=t.wrapping;return a.createElement("span",null,n+r)},n.renderWaitingTasks=function(e){var t=e.tasks_by_status,n=t.pending,r=t.reserved;return a.createElement("span",null,n+r)},n.renderLongestWaitingTime=function(e){return a.createElement("span",null,c.Utils.formatTimeDuration(1e3*e.longest_task_waiting_age,"short"))},n.mappedColors={availableAgents:n.props.theme.colors.agentAvailableColor,unavailableAgents:n.props.theme.colors.agentUnavailableColor,offlineAgents:n.props.theme.colors.agentOfflineColor},n.renderAgents=function(e){var t=u.AggregatedDataHelpers.getQueueAgentsByActivity({},e),r=[{label:p.templates.AgentStatusAvailable(),value:t.availableAgents,color:n.mappedColors.availableAgents},{label:p.templates.AgentStatusUnavailable(),value:t.unavailableAgents,color:n.mappedColors.unavailableAgents},{label:p.templates.AgentStatusOffline(),value:t.offlineAgents,color:n.mappedColors.offlineAgents}];return a.createElement(c.Legend,{items:r,showLabels:!1})},n}return r(n,e),n.prototype.render=function(){var e=this.props.queuesList;return a.createElement(l.TableContainer,{className:"Twilio-QueuesDataTable"},a.createElement(c.DynamicComponent,{childProps:this.props,contentStore:t.Content,name:t.displayName,customChildren:this.props.children,noContainers:!0},a.createElement(f,{items:e,itemKey:this.getTaskQueueSid,columnDataCreationContext:{},hasHoverStyle:!1},a.createElement(c.ColumnDefinition,{key:"friendlyName",header:"Queues",content:this.renderFriendlyName}),a.createElement(c.ColumnDefinition,{key:"active-tasks",header:"Active tasks",content:this.renderActiveTasks}),a.createElement(c.ColumnDefinition,{key:"waiting-tasks",header:"Waiting tasks",content:this.renderWaitingTasks}),a.createElement(c.ColumnDefinition,{key:"longest-wait-time",header:"Longest wait",content:this.renderLongestWaitingTime}),a.createElement(c.ColumnDefinition,{key:"agents",header:"Agents by activity",content:this.renderAgents}))))},n=o([s.withTheme,i("design:paramtypes",[Object])],n)}(a.PureComponent);t.QueuesDataTableImpl=d},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(27);t.FirstCellContent=a.default("span")(o||(o=r(["\n    padding-left: 6px;\n"],["\n    padding-left: 6px;\n"]))),t.TableContainer=a.default("div")(i||(i=r(["\n    overflow-y: auto;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin: 48px auto 0;\n    box-sizing: border-box;\n\n    td {\n        font-size: 12px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    ","\n"],["\n    overflow-y: auto;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin: 48px auto 0;\n    box-sizing: border-box;\n\n    td {\n        font-size: 12px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    ","\n"])),function(e){return e.theme.QueueStats.TableContainer})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),s=n(468),c=n(2),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(u,o({},this.props))},t.friendlyName=s.displayName,t.displayName=s.displayName,t.Content=s.contentStore,t}(i.PureComponent);t.RootContainer=l;var u=a.connect(function(e){return{identity:e.session.identity,currentLoginState:e.session.loginState,config:e.config}})(c.withTheme(s.RootContainerImpl))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(83),s=n(25),c=n(143),l=n(469),u=n(13),p=n(505);t.displayName="RootContainer",t.contentStore=new i.DynamicContentStore(t.displayName);var f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.componentDidMount=function(){"default"===Notification.permission&&u.Notifications.isNotificationHandlerEnabled(i.DefaultNotificationHandlerType.Browser)&&u.Notifications.showNotification(u.NotificationIds.RequestBrowserNotificationPermissions)},n.prototype.render=function(){return this.props.identity?o.createElement(i.DynamicComponent,{name:t.displayName,contentStore:t.contentStore,childProps:this.props,customChildren:this.props.children,vertical:!0},o.createElement(p.Container,null,o.createElement(c.MainHeader,{key:"header"}),o.createElement(l.MainContainer,{key:"container"}))):o.createElement(a.LoginFormView,{userConfig:this.props.config,userLoggedOut:this.props.currentLoginState===s.LoginState.LoggedOut})},n}(o.PureComponent);t.RootContainerImpl=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(185);t.MainContainer=r.MainContainer,t.MainContainerProps=r.MainContainerProps,t.MainContainerChildrenProps=r.MainContainerChildrenProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(471),s=n(22),c=n(186),l=n(190),u=n(193),p=n(156),f=n(168),d=n(180),h=n(498),m=n(502),v=n(504);t.displayName="MainContainer",t.contentStore=new i.DynamicContentStore(t.displayName);var g=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWindowResize=function(){t.props.keepSideNavOpen||t.forceUpdate()},t.showSupervisor=function(e){var t=e.manager.user.roles;return t.indexOf("supervisor")>=0||t.indexOf("admin")>=0},t}return r(n,e),n.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleWindowResize)},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize)},n.prototype.render=function(){var e=this,n=window.innerWidth>640||this.props.keepSideNavOpen;return o.createElement(a.Router,null,o.createElement(s.FlexContext.Consumer,null,function(r){return o.createElement(i.DynamicComponent,{name:t.displayName,contentStore:t.contentStore,childProps:e.props,customChildren:e.props.children},o.createElement(i.FlexBox,{className:"Twilio-MainContainer"},o.createElement(c.SideNav,{key:"sidenav",reserveSpace:n}),o.createElement(v.StyledFlexBox,{key:"content",className:"Twilio-MainContainer-Content",vertical:!0,overflow:"hidden"},e.props.showLiveCommsBar&&o.createElement(l.LiveCommsBar,null),o.createElement(i.FlexBox,{overflow:"hidden"},e.props.showNotificationBar&&o.createElement(i.NotificationBar,null),o.createElement(u.ViewCollection,null,o.createElement(i.ContentFragment,null,o.createElement(u.View,{key:"agent-desktop",name:"agent-desktop",route:{path:"/agent-desktop"},mountRule:u.ViewMountRule.Always},o.createElement(p.AgentDesktopView,null)),e.showSupervisor(r)&&o.createElement(u.View,{key:"teams",name:"teams",route:{path:"/teams"},keepMounted:!0,mountRule:u.ViewMountRule.WhenHasBeenActive},o.createElement(f.TeamsView,null)),e.showSupervisor(r)&&s.Manager.getInstance().configuration.showRealtimeQueuesStats&&o.createElement(u.View,{key:"queues-stats",name:"queues-stats",route:{path:"/queues-stats"},mountRule:u.ViewMountRule.WhenActive},o.createElement(d.QueuesStatsView,null)),e.showSupervisor(r)&&s.Manager.getInstance().configuration.showQueuesStatsView&&!s.Manager.getInstance().configuration.showRealtimeQueuesStats&&o.createElement(u.View,{key:"queue-stats",name:"queue-stats",route:{path:"/queue-stats"},mountRule:u.ViewMountRule.WhenActive},o.createElement(h.QueueStatsView,null)),o.createElement(u.View,{key:"logout",name:"logout"},o.createElement(m.LogoutView,null))))))))}))},n}(o.PureComponent);t.MainContainerImpl=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(472);t.Router=r.Router},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(43),a=n(3),s=n(71),c=n(69);t.Router=function(e){var t={dispatch:function(e){return a.FlexModule.dispatch(r(r({},e),{type:c.FLEX_LOCATION_CHANGE}))}};return o.createElement(i.ConnectedRouter,{history:s.default(),store:t},e.children)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),s=n(5),c=n(474),l=n(187),u=n(188),p=n(189),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(d,o({},this.props))},t.friendlyName=c.displayName,t.displayName=c.displayName,t.Content=c.contentStore,t.AgentDesktop=l.SideLinkAgentDesktop,t.Teams=u.SideLinkTeams,t.QueuesStats=p.SideLinkQueuesStats,t}(i.PureComponent);t.SideNav=f;var d=a.connect(function(e){return{incomingTasks:!!Array.from(e.worker.tasks.values()).find(function(e){return s.TaskHelper.isPending(e)}),isOpen:e.view.isSideNavOpen,activeView:e.view.activeView}})(c.SideNavImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(22),c=n(16),l=n(475),u=n(7),p=n(187),f=n(188),d=n(189);t.displayName="SideNav",t.contentStore=new a.DynamicContentStore(t.displayName);var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.doNavigate=function(e){return function(){u.tryInvokeAction("NavigateToView",{viewName:e})}},t.showSupervisor=function(e){var t=e.manager.user.roles;return t.indexOf("supervisor")>=0||t.indexOf("admin")>=0},t}return r(n,e),n.prototype.render=function(){var e=this,n=this.props,r=n.reserveSpace,u=n.activeView,h=n.isOpen;if(!r&&!h)return null;var m=h;return i.createElement(s.FlexContext.Consumer,null,function(n){return i.createElement(l.StyledSideNav,{wideLayout:r,className:c.cx("Twilio","Twilio-SideNav-Container")},i.createElement(l.StyledIconBar,{isOpen:m,wideLayout:r,className:c.cx("Twilio","Twilio-"+t.displayName)},i.createElement(a.DynamicComponent,{contentStore:t.contentStore,childProps:o(o({},e.props),{showLabel:m}),name:t.displayName,customChildren:e.props.children,vertical:!0},i.createElement(i.Fragment,null,i.createElement(a.ContentFragment,{align:"start"},i.createElement(p.SideLinkAgentDesktop,{key:"agent-desktop",showLabel:m,activeView:u}),e.showSupervisor(n)&&i.createElement(f.SideLinkTeams,{key:"teams",showLabel:m,activeView:u}),e.showSupervisor(n)&&s.Manager.getInstance().configuration.showRealtimeQueuesStats&&i.createElement(d.SideLinkQueuesStats,{key:"queues-stats",showLabel:m,activeView:u,viewName:"queues-stats"}),e.showSupervisor(n)&&s.Manager.getInstance().configuration.showQueuesStatsView&&!s.Manager.getInstance().configuration.showRealtimeQueuesStats&&i.createElement(d.SideLinkQueuesStats,{key:"queue-stats",showLabel:m,activeView:u,viewName:"queue-stats"})),i.createElement(a.ContentFragment,{align:"end"})))))})},n.displayName=t.displayName,n}(i.PureComponent);t.SideNavImpl=h},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.StyledSideNav=a.default("div")(o||(o=r(["\n    display: flex;\n    position: relative;\n    outline: none;\n    flex: 0 0 ",";\n"],["\n    display: flex;\n    position: relative;\n    outline: none;\n    flex: 0 0 ",";\n"])),function(e){return e.wideLayout?"44px":"0px"}),t.StyledIconBar=a.default("div")(i||(i=r(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 100%;\n    z-index: 10;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    position: absolute;\n    border-style: solid;\n    border-width: 0 1px 0 0;\n    width: ",";\n    ","\n    ","\n    ","\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 100%;\n    z-index: 10;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    position: absolute;\n    border-style: solid;\n    border-width: 0 1px 0 0;\n    width: ",";\n    ","\n    ","\n    ","\n    ","\n"])),function(e){return e.isOpen?"240px":"44px"},function(e){return s.Animations.SlideInTransition(e.isOpen)},function(e){return e.isOpen&&"box-shadow: 1px 1px 3px 0 rgba(0, 0, 0, 0.4);"},function(e){return!e.wideLayout&&s.Animations.AppearAnimation(s.Animations.FADE_IN_DURATION)},function(e){return e.theme.SideNav.Container})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(4),c=n(57),l=n(7),u=n(60),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gotoAgentDesktop=function(){l.tryInvokeAction("NavigateToView",{viewName:"agent-desktop"})},t}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this.props,t=e.activeView,n=e.showLabel,r=e.Badge;return i.createElement(c.SideLink,{icon:"Agent",iconActive:"AgentBold",isActive:"agent-desktop"===t,onClick:this.gotoAgentDesktop,showLabel:n,Badge:r},i.createElement(a.Template,{source:s.templates.SideNavTaskView}))},t.getBadgeChildren=function(e){var t=new u.AppStateHelper(e);return t.isAgentView()?0:t.getPendingTasks()+t.getUnconsumedMessagesCount()},t.defaultProps={Badge:{children:n.getBadgeChildren,variant:a.Badge.variants.dot}},t=n=o([a.withDefaultPropsUpdate],t)}(i.PureComponent);t.SideLinkAgentDesktop=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(478),s=n(3),c=n(8),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(u,o({},this.props))},t.displayName=a.displayName,t}(i.PureComponent);t.SideLink=l;var u=c.withTaskContext(s.connect(function(e,t){var n=t.Badge&&t.Badge.children;return o(o({},t),{Badge:o(o({},t.Badge),{children:"function"==typeof n?n(e,t):n})})})(a.SideLinkImpl))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(479);t.displayName="SideLink";var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.isActive,n=e.onClick,r=e.icon,c=e.iconActive,l=e.showLabel,u=e.children,p=e.Badge,f=t&&c?c:r;return i.createElement(s.StyledSidelinkContainer,{className:t?"Twilio-Side-Link--Active":"Twilio-Side-Link",onClick:n,isActive:t},i.createElement(s.StyledSideLinkIcon,{isActive:t,className:"Twilio-Side-Link-IconContainer"},i.createElement(a.Icon,{icon:f}),p&&i.createElement(a.Badge,o({},p))),i.createElement(s.StyledSideLinkLabel,{show:l},u))},t}(i.PureComponent);t.SideLinkImpl=c},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s=n(2),c=n(0);t.StyledSideLinkLabel=s.default("div")(o||(o=r(["\n    flex: 1 1 auto;\n    text-align: left;\n    padding: 8px 16px 8px 8px;\n    opacity: 0;\n    white-space: nowrap;\n\n    ","\n"],["\n    flex: 1 1 auto;\n    text-align: left;\n    padding: 8px 16px 8px 8px;\n    opacity: 0;\n    white-space: nowrap;\n\n    ","\n"])),function(e){return c.Animations.FadeInOutTransition(e.show,c.Animations.SLIDE_IN_DURATION/2,c.Animations.SLIDE_IN_DURATION/2,c.Animations.SLIDE_IN_DURATION/2)}),t.StyledSideLinkIcon=s.default("div")(i||(i=r(["\n    flex: 0 0 44px;\n    justify-content: center;\n    overflow: hidden;\n    position: relative;\n    background: inherit;\n    padding: 8px 0;\n    ",";\n"],["\n    flex: 0 0 44px;\n    justify-content: center;\n    overflow: hidden;\n    position: relative;\n    background: inherit;\n    padding: 8px 0;\n    ",";\n"])),function(e){return e.theme.SideNav.Icon}),t.StyledSidelinkContainer=s.default("button")(a||(a=r(["\n    display: flex;\n    font-size: 12px;\n    font-weight: bold;\n    height: 44px;\n    outline: none;\n    align-items: center;\n    padding: 0 0 0 0;\n    border-style: none;\n    position: relative;\n    ",";\n    ","\n    &:hover {\n        // Hack to change outer circle color on hover\n        & .Twilio-Side-Link-IconContainer, & .Twilio-Badge-OuterCircle {\n            ","\n        }\n    }\n"],["\n    display: flex;\n    font-size: 12px;\n    font-weight: bold;\n    height: 44px;\n    outline: none;\n    align-items: center;\n    padding: 0 0 0 0;\n    border-style: none;\n    position: relative;\n    ",";\n    ","\n    &:hover {\n        // Hack to change outer circle color on hover\n        & .Twilio-Side-Link-IconContainer, & .Twilio-Badge-OuterCircle {\n            ","\n        }\n    }\n"])),function(e){return e.theme.SideNav.Icon},function(e){return c.getBackgroundWithHoverCSS(e.theme.SideNav.Button.background,e.theme.SideNav.Button.lightHover)},function(e){return c.getBackgroundWithHoverCSS(e.theme.SideNav.Button.background,e.theme.SideNav.Button.lightHover,!0)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(4),c=n(57),l=n(7),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gotoTeams=function(){l.tryInvokeAction("NavigateToView",{viewName:"teams"})},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.activeView,n=e.showLabel,r=e.Badge;return i.createElement(c.SideLink,{icon:"Agents",iconActive:"AgentsBold",isActive:"teams"===t,onClick:this.gotoTeams,showLabel:n,Badge:r},i.createElement(a.Template,{source:s.templates.SideNavTeamsView}))},t.defaultProps={},t=o([a.withDefaultPropsUpdate],t)}(i.PureComponent);t.SideLinkTeams=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(4),c=n(57),l=n(7),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gotoView=function(){l.tryInvokeAction("NavigateToView",{viewName:t.props.viewName})},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.activeView,n=e.showLabel,r=e.Badge,o=e.viewName;return i.createElement(c.SideLink,{icon:"Queues",iconActive:"QueuesBold",isActive:t===o,onClick:this.gotoView,showLabel:n,Badge:r},i.createElement(a.Template,{source:s.templates.SideNavQueuesStatsView}))},t.defaultProps={},t=o([a.withDefaultPropsUpdate],t)}(i.PureComponent);t.SideLinkQueuesStats=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(3),c=n(0),l=n(56),u=n(5),p=n(484);t.mapTaskStateToProps=function(e){var t=Array.from(e.worker.tasks.values()).find(function(e){return u.TaskHelper.isLiveCall(e)}),n=t&&u.TaskHelper.isCallOnHold(t),r=l.SupervisorStateHelper.getTaskByTaskSid(e.supervisor.callMonitoring.taskSid),o=[];r&&r.conference&&(o=r.conference.liveWorkers.map(function(t){return e.supervisor.workers.find(function(e){return e.worker.sid===t.workerSid}).worker}));return{currentCallTask:t,currentCallOnHold:n,selectedView:e.view.activeView,monitoredTask:r,monitoredWorkers:o,monitoringState:e.supervisor.callMonitoring.status}};var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(d,o({},this.props))},t.friendlyName=p.displayName,t.displayName=p.displayName,t.Content=p.contentStore,t=i([c.withDefaultPropsUpdate],t)}(a.PureComponent);t.LiveCommsBar=f;var d=s.connect(t.mapTaskStateToProps)(p.LiveCommsBarImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(17),s=n(0),c=n(485),l=n(191);t.displayName="LiveCommsBar",t.contentStore=new s.DynamicContentStore(t.displayName);var u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return this.props.monitoringState===a.CallMonitoringStatus.monitoring||this.props.currentCallTask&&"agent-desktop"!==this.props.selectedView?i.createElement(s.DynamicComponent,{contentStore:t.contentStore,childProps:this.props,name:t.displayName,customChildren:this.props.children,vertical:!0},i.createElement(c.LiveCommsBarContainer,{className:"Twilio-LiveCommsBarItem-LiveCommsBarContainer"},i.createElement(l.LiveCommsBarItem,o({key:"item"},this.props)))):null},n}(i.PureComponent);t.LiveCommsBarImpl=u},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.LiveCommsBarContainer=i.default("div")(o||(o=r(["\n    display: flex;\n    width: 100%;\n    z-index: 3;\n    overflow: hidden;\n    flex-direction: column;\n    flex: 0 0 auto;\n"],["\n    display: flex;\n    width: 100%;\n    z-index: 3;\n    overflow: hidden;\n    flex-direction: column;\n    flex: 0 0 auto;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(17),s=n(487),c=n(488),l=n(192),u=n(4),p=n(5),f=n(6),d=n(7),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMessage=function(){if(t.props.monitoringState===a.CallMonitoringStatus.monitoring){var e=t.props.monitoredTask,n=t.props.monitoredWorkers;return 0===n.length?o.createElement(i.Template,{source:u.templates.LiveCommsMonitoringMessageNoWorkers,task:e}):1===n.length?o.createElement(i.Template,{source:u.templates.LiveCommsMonitoringMessage,worker:n[0],task:e}):o.createElement(i.Template,{source:u.templates.LiveCommsMonitoringMessageMoreWorkers,workers:n,task:e})}if(t.props.currentCallTask){e=t.props.currentCallTask;return o.createElement(i.Template,{source:u.templates.LiveCommsOngoingCallMessage,task:e})}return null},t.getActions=function(){if(t.props.monitoringState===a.CallMonitoringStatus.monitoring){var e=t.props.monitoredTask;return[{onClick:function(){i.Actions.invokeAction("NavigateToView",{viewName:"teams"}).then(function(){return d.tryInvokeAction("SelectTaskInSupervisor",{task:e})}).catch(function(e){f.log.error(e)})},caption:u.templates.LiveCommsBarReturnToCall},{onClick:function(){return d.tryInvokeAction("StopMonitoringCall",{task:e})},caption:u.templates.LiveCommsBarStopListening,actionsToListen:["StopMonitoringCall"]}]}if(t.props.currentCallTask){var n=t.props.currentCallTask,r=[{onClick:function(){i.Actions.invokeAction("NavigateToView",{viewName:"agent-desktop"}).then(function(){return d.tryInvokeAction("SelectTask",{task:n})}).catch(function(e){return f.log.error(e)})},caption:u.templates.LiveCommsBarReturnToCall}];return p.TaskHelper.canHold(n)&&(!p.TaskHelper.isRegularConferenceCall(n)||n.conference.liveParticipantCount<=2)&&r.push({actionsToListen:["UnholdCall","HoldCall"],onClick:function(){var e=t.props.currentCallOnHold?"UnholdCall":"HoldCall";d.tryInvokeAction(e,{task:n})},caption:t.props.currentCallOnHold?u.templates.LiveCommsBarUnHold:u.templates.LiveCommsBarHold}),r}return[]},t}return r(t,e),t.prototype.render=function(){var e="",n=!1;return this.props.monitoringState===a.CallMonitoringStatus.monitoring?e="MonitorSmall":this.props.currentCallTask&&(e=this.props.currentCallOnHold?"HoldBoldSmall":"CallSmall",n=this.props.currentCallOnHold),o.createElement(i.DynamicComponent,{contentStore:t.Content,childProps:this.props,name:t.friendlyName,customChildren:this.props.children},o.createElement(s.LiveCommsBarItemContainer,{showHold:n,className:"Twilio-LiveCommsBarItem-LiveCommsBarItemContainer"},o.createElement(c.LiveCommsIcon,{key:"icon",icon:e}),o.createElement(s.MessageContainer,{key:"message",className:"Twilio-LiveCommsBarItem-MessageContainer"},this.getMessage()),o.createElement(l.LiveCommsBarItemActions,{key:"actions",actions:this.getActions()})))},t.friendlyName="LiveCommsBarItem",t.displayName=t.friendlyName,t.Content=new i.DynamicContentStore(t.friendlyName),t}(o.PureComponent);t.LiveCommsBarItem=h},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2);t.LiveCommsBarItemContainer=a.default("div")(o||(o=r(["\n    display: flex;\n    min-height: 24px;\n    flex: 1 1 auto;\n    position: relative;\n    align-items: center;\n    padding-right: 4px;\n    padding-left: 4px;\n    padding-top: 4px;\n    padding-bottom: 4px;\n    background-color: ",";\n    color: ",";\n"],["\n    display: flex;\n    min-height: 24px;\n    flex: 1 1 auto;\n    position: relative;\n    align-items: center;\n    padding-right: 4px;\n    padding-left: 4px;\n    padding-top: 4px;\n    padding-bottom: 4px;\n    background-color: ",";\n    color: ",";\n"])),function(e){return e.showHold?e.theme.colors.holdColor:e.theme.colors.flexBlueColor},function(e){return e.theme.colors.lightTextColor}),t.MessageContainer=a.default("div")(i||(i=r(["\n    margin-left: 8px;\n    margin-right: 4px;\n    align-self: center;\n    font-size: 12px;\n    flex-grow: 2;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"],["\n    margin-left: 8px;\n    margin-right: 4px;\n    align-self: center;\n    font-size: 12px;\n    flex-grow: 2;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(489);t.LiveCommsIcon=r.LiveCommsIcon},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(490),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.icon;return o.createElement(a.IconContainer,{className:"Twilio-LiveCommsBarItem-Icon"},o.createElement(i.Icon,{icon:e}))},t}(o.PureComponent);t.LiveCommsIcon=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.IconContainer=i.default("div")(o||(o=r(["\n    width: 24px;\n    max-height: 24px;\n"],["\n    width: 24px;\n    max-height: 24px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(492),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.DynamicComponent,{contentStore:t.Content,childProps:this.props,name:t.friendlyName,customChildren:this.props.children},o.createElement(a.LiveCommsBarItemActionsContainer,{className:"Twilio-LiveCommsBarItemActionsContainer",noGrow:!0},this.renderContents()))},t.prototype.renderContents=function(){for(var e=[],t=function(t){var r=n.props.actions[t];e.push(o.createElement(i.ActionStateListener,{key:t,action:r.actionsToListen},function(e){return o.createElement(a.ActionButton,{onClick:r.onClick,disabled:e.disabled},o.createElement(i.Template,{source:r.caption}))})),t<n.props.actions.length-1&&e.push("|")},n=this,r=0;r<this.props.actions.length;r++)t(r);return e},t.friendlyName="LiveCommsBarItemActions",t.displayName=t.friendlyName,t.Content=new i.DynamicContentStore(t.friendlyName),t}(o.Component);t.LiveCommsBarItemActions=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.ActionButton=a.default("button")(o||(o=r(["\n    padding-right: 10px;\n    padding-left: 10px;\n    cursor: pointer;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: normal;\n    background: inherit;\n    color: inherit;\n    border: none;\n    outline: none;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"],["\n    padding-right: 10px;\n    padding-left: 10px;\n    cursor: pointer;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: normal;\n    background: inherit;\n    color: inherit;\n    border: none;\n    outline: none;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"]))),t.LiveCommsBarItemActionsContainer=a.default(s.FlexBox)(i||(i=r(["\n    font-size: 12px;\n    align-items: center;\n"],["\n    font-size: 12px;\n    align-items: center;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(3),l=n(494),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.updateAll=function(){},n.prototype.render=function(){return a.createElement(t.Connected,o({},this.props))},n.displayName=l.displayName,n.Content=l.contentStore,n.defaultProps={defaultLocation:"/agent-desktop"},n=i([s.withDefaultPropsUpdate],n)}(a.PureComponent);t.ViewCollection=u,t.Connected=c.connect(function(e){return{router:e.router}})(l.ViewCollectionImpl)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(53),s=n(26),c=n(0),l=n(194);t.displayName="ViewCollection",t.contentStore=new c.DynamicContentStore(t.displayName);var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.keysOfViewsThatHaveBeenMounted=[],t.renderRouteChildren=function(e,n){if("start"!==n)return e;var r=t.props,o=r.router,s=r.defaultLocation;e=e.filter(function(e){return i.isValidElement(e)});var c=o.location&&!e.some(function(e){return t.isActiveView(e)}),l=e.map(function(e){var n=t.getRouteFromView(e);return t.shallRenderView(e)?i.createElement(a.Route,{key:"view-"+e.props.name,exact:n.exact,path:"/"+e.props.name},t.updateChildren(e)):null});return c?[i.createElement(a.Redirect,{key:"redirect",to:{pathname:s,search:o.location.search}})]:l},t.updateChildren=function(e){return function(n){var r=t.isActiveView(e);return r&&setTimeout(function(){s.Actions.setActiveView(e.props.name)},0),t.registerViewHavingBeenMounted(e.props.name),t.shallRenderView(e)&&i.createElement(l.ViewImpl,{name:e.props.name,isViewActive:r,route:n},e.props.children)}},t}return r(n,e),n.prototype.getPathnameFromProps=function(e){return e.router.location&&e.router.location.pathname},n.prototype.getRouteFromView=function(e){if(e.props.route){if(Array.isArray(e.props.route.path)){var t=e.props.route.path;return{path:o(t,["/"+e.props.name])}}return{path:[e.props.route.path,"/"+e.props.name]}}return{path:"/"+e.props.name}},n.prototype.isActiveView=function(e){var t=this.getRouteFromView(e),n=this.getPathnameFromProps(this.props);return!!a.matchPath(n,t)},n.prototype.shallRenderView=function(e){if(this.isActiveView(e))return!0;if("mountRule"in e.props)switch(e.props.mountRule){case l.ViewMountRule.Always:return!0;case l.ViewMountRule.WhenHasBeenActive:return this.keysOfViewsThatHaveBeenMounted.indexOf(e.props.name)>-1;default:return!1}return"keepMounted"in e.props&&!1!==e.props.keepMounted},n.prototype.registerViewHavingBeenMounted=function(e){this.keysOfViewsThatHaveBeenMounted.indexOf(e)>-1||this.keysOfViewsThatHaveBeenMounted.push(e)},n.prototype.render=function(){return i.createElement(c.DynamicComponent,{name:t.displayName,contentStore:t.contentStore,childProps:this.props,customChildren:this.props.children,renderChildren:this.renderRouteChildren,noContainers:!0},i.createElement(c.FlexBox,{className:"Twilio-ViewCollection",overflow:"hidden"}))},n}(i.PureComponent);t.ViewCollectionImpl=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=function(){return null},function(e){e.Always="Always",e.WhenActive="WhenActive",e.WhenHasBeenActive="WhenHasBeenActive"}(t.ViewMountRule||(t.ViewMountRule={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(16),a=n(497);t.ViewImpl=function(e){return o.createElement(a.StyledViewFlexBox,{className:i.cx("Twilio-View","Twilio-View-"+e.name,e.className),isViewActive:e.isViewActive},o.Children.map(e.children,function(t){var n=t;return o.isValidElement(t)?o.cloneElement(n,r(r({},t.props),{isViewActive:e.isViewActive,route:e.route})):t}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.StyledViewFlexBox=i.default("div")(o||(o=r(["\n    display: ",";\n    flex: 1 1 auto;\n    overflow: hidden;\n"],["\n    display: ",";\n    flex: 1 1 auto;\n    overflow: hidden;\n"])),function(e){return e.isViewActive?"flex":"none"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(499))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(87),c=n(500),l=n(3),u=function(e){var t=e.queues,n=t.queuesList&&!Object.keys(t.queuesList).length;return{isLoading:n&&!t.hasFetchedList,hasNoData:n&&t.hasFetchedList}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.isLoading,n=e.hasNoData,r=e.context;return a.createElement(c.QueueStatsViewImpl,o({isLoading:t,hasNoData:n,context:r},this.props))},t.displayName=c.displayName,t.Content=c.Content,t.Tiles=s.AggregatedQueuesDataTiles,t.Table=s.QueuesDataTable,t=i([l.connect(u)],t)}(a.PureComponent);t.QueueStatsView=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(87),s=n(70),c=n(501),l=n(182),u=n(4),p=n(52),f=n(14),d=n(11),h=n(64);t.displayName="QueueStatsView",t.Content=new i.DynamicContentStore(t.displayName);var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAdmin=function(e){return e.manager.user.roles.indexOf("admin")>=0},t}return r(n,e),n.prototype.componentDidMount=function(){s.Actions.startPolling()},n.prototype.componentWillUnmount=function(){s.Actions.stopPolling()},n.prototype.render=function(){var e=this,n=this.props,r=n.isLoading,s=n.hasNoData,m=n.children;if(r)return o.createElement(c.LoadingContainer,null,o.createElement(i.CircularProgress,{animating:!0,size:80,borderWidth:3}));if(s){var v=f.Manager.getInstance().serviceConfiguration.taskrouter_workspace_sid;return o.createElement(c.Container,null,o.createElement(p.FlexContext.Consumer,null,function(t){return o.createElement(l.NoDataPlaceholder,{heading:o.createElement(u.Template,{source:u.templates.QueuesNoDataHeading}),body:o.createElement(u.Template,{source:e.isAdmin(t)?u.templates.QueuesNoDataBodyForAdmin:u.templates.QueuesNoDataBodyForSupervisor}),linkText:e.isAdmin(t)?o.createElement(u.Template,{source:u.templates.QueuesNoDataLinkLabelForAdmin}):void 0,linkUrl:e.isAdmin(t)?d.getTwilioTaskQueuesUrl(v):void 0,image:o.createElement(i.Icon,{icon:"NoData",sizeMultiplier:3})})}))}return o.createElement(i.DynamicComponent,{name:t.displayName,contentStore:t.Content,childProps:this.props,customChildren:m,vertical:!0},o.createElement(c.Container,{vertical:!0},o.createElement(h.QueueStatsConnectionStatusInfo,{key:"connection-info"}),o.createElement(a.AggregatedQueuesDataTiles,{key:"tiles"}),o.createElement(a.QueuesDataTable,{key:"table"})))},n}(o.PureComponent);t.QueueStatsViewImpl=m},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.LoadingContainer=a.default("div")(o||(o=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 48px;\n    width: 100%;\n    ","\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 48px;\n    width: 100%;\n    ","\n"])),function(e){return e.theme.QueueStats.Container}),t.Container=a.default(s.FlexBox)(i||(i=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.QueueStats.Container})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(503);t.LogoutView=r.LogoutView},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(53),a=n(7),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){a.tryInvokeAction("Logout",{forceLogout:!1})},t.prototype.render=function(){return o.createElement(i.Redirect,{to:"/"})},t}(o.Component);t.LogoutView=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(0);t.StyledFlexBox=i.default(a.FlexBox)(o||(o=r(["\n    position: relative;\n    ","\n"],["\n    position: relative;\n    ","\n"])),function(e){return e.theme.MainContainer})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),a=n(2);t.Container=a.default(i.FlexBoxColumn)(o||(o=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.RootContainer})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(117))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),o=n(34),i=n(509),a=n(510),s=n(511);t.registerActions=function(){r.WorkerActions.registerActions(),o.VoiceActions.registerActions(),i.SupervisorActions.registerActions(),a.GeneralActions.registerActions(),s.MessageActions.registerActions()}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(3),s=n(17),c=n(56),l=n(26),u=n(7),p=function(){function e(){}return e.registerActions=function(){i.Actions.registerAction("MonitorCall",e.monitorCall,this.updateTaskActionPayload),i.Actions.registerAction("StopMonitoringCall",e.stopMonitoringCall,this.updateTaskActionPayload),i.Actions.registerAction("SelectTaskInSupervisor",this.selectTaskInSupervisor,this.updateTaskActionPayload),i.Actions.registerAction("SelectWorkerInSupervisor",this.selectWorkerInSupervisor,this.updateSelectWorkerActionPayload)},e.monitorCall=function(e){return r(this,void 0,Promise,function(){var t;return o(this,function(n){switch(n.label){case 0:return(t=a.FlexModule.state.worker.source)?(t.monitor(e.task.taskSid,e.task.sid,e.extraParams),[4,s.Actions.monitorCall(e.task)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.stopMonitoringCall=function(e){return r(this,void 0,Promise,function(){return o(this,function(e){return a.FlexModule.state.phone.connection&&a.FlexModule.state.phone.connection.source.disconnect(),[2]})})},e.selectTaskInSupervisor=function(e){return r(this,void 0,Promise,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return t=e.task,l.Actions.selectTaskInSupervisor(t&&t.sid),s.Actions.setStickyWorkerSid(t&&t.workerSid,t&&t.sid),l.Actions.selectWorkerInSupervisor(void 0),n=t?t.sid:"",[4,u.tryInvokeAction("HistoryReplace","/teams/tasks/"+n)];case 1:return r.sent(),[2]}})})},e.selectWorkerInSupervisor=function(e){return r(this,void 0,Promise,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return t=e.worker,l.Actions.selectTaskInSupervisor(void 0),s.Actions.setStickyWorkerSid(t&&t.sid,void 0),l.Actions.selectWorkerInSupervisor(t&&t.sid),n=t?t.sid:"",[4,u.tryInvokeAction("HistoryReplace","/teams/workers/"+n)];case 1:return r.sent(),[2]}})})},e.updateSelectWorkerActionPayload=function(e){return e.worker&&(e.workerSid=e.worker.sid),e.workerSid&&!e.worker&&(e.worker=c.SupervisorStateHelper.getWorkerBySid(e.workerSid)),e},e.updateTaskActionPayload=function(e){return e.task&&(e.sid=e.task.sid),e.sid&&!e.task&&(e.task=c.SupervisorStateHelper.getTaskBySid(e.sid)),e},e}();t.SupervisorActions=p},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(3),s=n(26),c=n(7),l=function(){function e(){}return e.registerActions=function(){i.Actions.registerAction("NavigateToView",e.navigateToView),i.Actions.registerAction("HistoryPush",s.Actions.push),i.Actions.registerAction("HistoryReplace",s.Actions.replace),i.Actions.registerAction("HistoryGo",s.Actions.go),i.Actions.registerAction("HistoryGoBack",s.Actions.goBack),i.Actions.registerAction("HistoryGoForward",s.Actions.goForward),i.Actions.registerAction("ShowDirectory",e.showDirectory),i.Actions.registerAction("HideDirectory",e.hideDirectory),i.Actions.registerAction("ToggleSidebar",e.toggleSidebar),i.Actions.registerAction("SetComponentState",e.setComponentState),i.Actions.registerAction("ApplyListFilters",e.applyListFilters),i.Actions.registerAction("RemoveListFilters",e.removeListFilters)},e.navigateToView=function(e){return r(this,void 0,Promise,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return"agent-desktop"!==e.viewName?[3,4]:a.FlexModule.state.view.selectedTaskSid?[4,c.tryInvokeAction("HistoryPush","/agent-desktop/"+a.FlexModule.state.view.selectedTaskSid)]:[3,2];case 1:return r.sent(),[3,3];case 2:c.tryInvokeAction("HistoryPush","/agent-desktop/"),r.label=3;case 3:return[3,13];case 4:return"teams"!==e.viewName?[3,11]:a.FlexModule.state.view.selectedTaskInSupervisorSid?[4,c.tryInvokeAction("HistoryPush","/teams/tasks/"+a.FlexModule.state.view.selectedTaskInSupervisorSid)]:[3,6];case 5:return r.sent(),[3,10];case 6:return a.FlexModule.state.view.selectedWorkerInSupervisorSid?[4,c.tryInvokeAction("HistoryPush","/teams/workers/"+a.FlexModule.state.view.selectedWorkerInSupervisorSid)]:[3,8];case 7:return r.sent(),[3,10];case 8:return[4,c.tryInvokeAction("HistoryPush","/teams/")];case 9:r.sent(),r.label=10;case 10:return[3,13];case 11:return t=/\//g,n=(n=e.viewName).replace(t,""),[4,c.tryInvokeAction("HistoryPush","/"+n+"/")];case 12:r.sent(),r.label=13;case 13:return[2]}})})},e.showDirectory=function(){return r(this,void 0,Promise,function(){return o(this,function(e){return s.Actions.showDirectory(void 0),[2]})})},e.hideDirectory=function(){return r(this,void 0,Promise,function(){return o(this,function(e){return s.Actions.hideDirectory(),[2]})})},e.toggleSidebar=function(e){return r(this,void 0,Promise,function(){return o(this,function(t){return e&&void 0!==e.open?[2,e.open?s.Actions.showSidebar():s.Actions.hideSidebar()]:[2,s.Actions.toggleSidebar()]})})},e.setComponentState=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,s.Actions.setComponentState(e.name,e.state)]})})},e.applyListFilters=function(e){return r(this,void 0,Promise,function(){return o(this,function(t){return e&&s.Actions.applyListFilters(e),[2]})})},e.removeListFilters=function(e){return r(this,void 0,Promise,function(){return o(this,function(t){return e&&s.Actions.removeListFilters(e),[2]})})},e}();t.GeneralActions=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(5),i=n(9),a=n(13),s=function(){function e(){}return e.registerActions=function(){r.Actions.addListener("beforeSendMessage",this.beforeSendMessage)},e.beforeSendMessage=function(e,t){var n=e.body.trim().length,r=o.TaskHelper.getTaskFromChannelSid(e.channelSid),s=i.TaskChannels.getForTask(r).charLimit;n>s&&(a.Notifications.showNotification(a.NotificationIds.MessageSizeExceeded,{currentCharCount:n,maxCharCount:s}),t())},e}();t.MessageActions=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(116),i=n(0),a=n(184),s=n(513),c=n(52),l=n(37),u=n(14),p=n(45),f=n(21),d=n(83),h=n(46),m=n(6),v=n(73);function g(e){var t;return void 0===e&&(e="body"),t="string"==typeof e?k(e):e,o.unmountComponentAtNode(t),o.render(r.createElement(l.StorelessThemeProvider,{themeConf:{baseName:"FlexDark"}},r.createElement(s.LoadingView,null)),t),this}function y(e,t){void 0===e&&(e={}),void 0===t&&(t="body");var n,a=h.getStoredConfig();return i.Utils.mergeInto(e,a,!1),p.SSOLoginHandler.hasValidToken()?Promise.resolve():(h.clearStoredConfig(),n="string"==typeof t?k(t):t,e.sso=e.sso||{},new Promise(function(t,i){var a=function(e){t()};new Promise(function(t,n){try{p.SSOLoginHandler.tryValidateConfig(e.sso),t()}catch(e){n(e)}}).then(function(){return void 0===e.sso.loginPopup?h.fetchPublicConfiguration(e.sso.accountSid):Promise.resolve({sso:{}})}).then(function(){return p.SSOLoginHandler.tryLogin(e.sso).then(function(){return t()})}).catch(function(t){var s=t instanceof f.ConfigError&&t.key===f.ConfigErrorKeys.accountSid,c=t instanceof f.BrowserError&&(t.key===f.BrowserErrorKeys.popupBlocked||t.key===f.BrowserErrorKeys.windowClosed||t.key===f.BrowserErrorKeys.noWindowOpener),l=t instanceof f.ValidationError&&(t.key===f.ValidationErrorKeys.sso||t.key===f.ValidationErrorKeys.accountSid),u=t instanceof f.ValidationError&&t.key===f.ValidationErrorKeys.untrustedDomain,p=t instanceof f.ValidationError&&t.key===f.ValidationErrorKeys.invalidCertificate;s||c||l||u||p?o.render(r.createElement(d.LoginFormView,{userConfig:e,onError:i,onSuccess:a}),n):(i(t),m.log.warn("error when trying to log in"))})}))}function k(e){var t=document.querySelector(e);if(!t)throw new Error("Unable to find element for selector: "+t);return t}t.create=function(e){return C.create(e)},t.progress=g,t.provideLoginInfo=y,t.runDefault=function(e,t){return void 0===e&&(e={}),void 0===t&&(t="body"),g(t),y(e,t).then(function(){return window.history.replaceState({},document.title,v.getDestinationURLFromLocation()),C.create(e)}).then(function(e){return e.init(t)}).catch(function(e){if(!(e instanceof f.BrowserError&&e.key===f.BrowserErrorKeys.redirecting||e instanceof f.ClientError&&e.key===f.ClientErrorKeys.metaNoReferrerMissing))throw m.log.error("Unable to launch Flex:",e),e;m.log.debug("Flex redirecting")})},t.tryLogin=function(e){return void 0===e&&(e={}),p.SSOLoginHandler.tryLogin(e)};var C=function(){function e(e){this._manager=e}return e.create=function(t){return u.Manager.create(t).then(function(t){return new e(t)})},Object.defineProperty(e.prototype,"manager",{get:function(){return this._manager},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t;void 0===e&&(e="body"),t="string"==typeof e?k(e):e,o.unmountComponentAtNode(t),o.render(r.createElement(c.ContextProvider,{manager:this.manager},r.createElement(a.RootContainer,null)),t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(514);t.LoadingView=r.LoadingView},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(33),c=n(166),l=n(515),u=s.languages.default.LoginLoading,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(l.Container,{className:"Twilio-LoadingView"},i.createElement(l.CenterContainer,{className:"Twilio-LoadingView-Container"},i.createElement(c.LogoWithCircle,{animating:!0,backgroundColor:this.props.theme.LoadingView.Container.backgroundColor}),i.createElement(l.Label,{className:"Twilio-LoadingView-Label"},u)))},t=o([a.withTheme],t)}(i.PureComponent);t.LoadingView=p},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s=n(2);t.Container=s.default("div")(o||(o=r(["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    height: 100%;\n    ","\n"],["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    height: 100%;\n    ","\n"])),function(e){return e.theme.LoadingView.Container}),t.Label=s.default("div")(i||(i=r(["\n    position: relative;\n    font-size: 14px;\n    margin-top: 30px;\n    text-align: center;\n"],["\n    position: relative;\n    font-size: 14px;\n    margin-top: 30px;\n    text-align: center;\n"]))),t.CenterContainer=s.default("div")(a||(a=r(["\n    position: relative;\n    margin: auto;\n"],["\n    position: relative;\n    margin: auto;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),o=n(9),i=n(0);t.initialize=function(){o.registerDefaultTaskChannels(r),i.resetCSS(),i.registerStyles(),i.initialize()}}])});
//# sourceMappingURL=twilio-flex.prod.js.map